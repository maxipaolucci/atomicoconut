(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) { // check for number or string
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return id;
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/app.component.html":
/*!************************************!*\
  !*** ./src/app/app.component.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"inner mat-typography\">  \r\n  <mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"space-between center\" class=\"toolbar__primary mat-elevation-z1\" color=\"primary\">\r\n    <a class=\"toolbar__brand-name color__almost-white\" routerLink=\"/\"><span>AtomiCoconut</span></a>\r\n    \r\n    <span *ngIf=\"!user\" fxLayoutAlign=\" center\">\r\n      <mat-icon routerLink=\"/users/login\" class=\"toolbar__icon\">account_circle</mat-icon>\r\n    </span>\r\n    <span *ngIf=\"user\" fxLayoutAlign=\" center\">\r\n      <img *ngIf=\"user.avatar\" \r\n          [matMenuTriggerFor]=\"userMenu\" \r\n          class=\"toolbar__icon user__avatar\" \r\n          [src]=\"user.avatar\"/>\r\n      <mat-icon *ngIf=\"!user.avatar\"\r\n          class=\"toolbar__icon user__icon--logged-in\" \r\n          [matMenuTriggerFor]=\"userMenu\">\r\n        account_circle\r\n      </mat-icon>\r\n      \r\n      <mat-menu class=\"user__menu--logged-in\" #userMenu=\"matMenu\" [overlapTrigger]=\"false\">\r\n        <button mat-menu-item routerLink=\"/users/account\">\r\n          <mat-icon>settings</mat-icon>\r\n          <span>My account</span>\r\n        </button>\r\n        <button mat-menu-item routerLink=\"/teams\">\r\n          <mat-icon>group</mat-icon>\r\n          <span>Teams</span>\r\n        </button>\r\n        <button mat-menu-item (click)=\"logout()\">\r\n          <mat-icon>exit_to_app</mat-icon>\r\n          <span>Logout</span>\r\n        </button>\r\n      </mat-menu>\r\n    </span>\r\n  </mat-toolbar>\r\n  <div class=\"toolbar__primary__spacer\"><!-- This is a spacer with main toolbar height to avoid any content going behind the toolbar --></div>\r\n\r\n  <mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"space-between center\" class=\"toolbar__secondary\" *ngIf=\"user && todayUserPrefRate !== null\">\r\n    <span>Preferred currency is <a class=\"color__almost-white\" routerLink=\"/users/account\" matTooltip=\"Change...\"><strong>{{user.currency}}</strong></a></span>\r\n    <span>1 USD = {{todayUserPrefRate | number : '1.0-3' }} {{user.currency}}</span>\r\n  </mat-toolbar>\r\n\r\n  <!-- Main navigator (chips) -->\r\n  <main-navigator></main-navigator>\r\n\r\n  <router-outlet></router-outlet>\r\n</div>"

/***/ }),

/***/ "./src/app/app.component.scss":
/*!************************************!*\
  !*** ./src/app/app.component.scss ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".toolbar__primary {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 100; }\n  .toolbar__primary .toolbar__brand-name {\n    text-decoration: none; }\n  .toolbar__primary .toolbar__icon {\n    padding: 0 10px;\n    cursor: pointer; }\n  .toolbar__primary .user__avatar {\n    border-radius: 50%;\n    width: 30px;\n    padding: 0 10px; }\n  .toolbar__primary .user__icon--logged-in {\n    color: #28FE7C; }\n  .toolbar__primary__spacer {\n  height: 54px; }\n  .toolbar__secondary {\n  margin-bottom: 10px;\n  background-color: #9c27b0;\n  font-size: 12px;\n  height: 30px; }\n  /* Chip navigation */\n  ::ng-deep nav.navigation--main {\n  margin-bottom: 20px; }\n  @media screen and (min-width: 600px) {\n  .toolbar__primary__spacer {\n    height: 62px; } }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvQzpcXHczXFxhdG9taUNvY29udXRcXGNsaWVudC9zcmNcXGFwcFxcYXBwLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9DOlxcdzNcXGF0b21pQ29jb251dFxcY2xpZW50L3NyY1xcX3ZhcmlhYmxlcy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBQ0UsZ0JBQWU7RUFDZixPQUFNO0VBQ04sUUFBTztFQUNQLGFBQVksRUFvQmI7RUF4QkQ7SUFPSSxzQkFBcUIsRUFDdEI7RUFSSDtJQVdJLGdCQUFlO0lBQ2YsZ0JBQWUsRUFDaEI7RUFiSDtJQWdCSSxtQkFBa0I7SUFDbEIsWUFBVztJQUNYLGdCQUFlLEVBQ2hCO0VBbkJIO0lBc0JJLGVDWlcsRURhWjtFQUdIO0VBQ0UsYUFBWSxFQUNiO0VBRUQ7RUFDRSxvQkFBbUI7RUFDbkIsMEJDM0IyQjtFRDRCM0IsZ0JBQWU7RUFDZixhQUFZLEVBQ2I7RUFFRCxxQkFBcUI7RUFDckI7RUFDRSxvQkFBbUIsRUFDcEI7RUFFRDtFQUVFO0lBQ0UsYUFBWSxFQUNiLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9hcHAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0ICcuLi92YXJpYWJsZXMnO1xyXG5cclxuLnRvb2xiYXJfX3ByaW1hcnkge1xyXG4gIHBvc2l0aW9uOiBmaXhlZDtcclxuICB0b3A6IDA7XHJcbiAgbGVmdDogMDtcclxuICB6LWluZGV4OiAxMDA7XHJcbiAgXHJcbiAgLnRvb2xiYXJfX2JyYW5kLW5hbWUge1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gIH1cclxuXHJcbiAgLnRvb2xiYXJfX2ljb24ge1xyXG4gICAgcGFkZGluZzogMCAxMHB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIH1cclxuXHJcbiAgLnVzZXJfX2F2YXRhciB7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICB3aWR0aDogMzBweDtcclxuICAgIHBhZGRpbmc6IDAgMTBweDtcclxuICB9XHJcblxyXG4gIC51c2VyX19pY29uLS1sb2dnZWQtaW4ge1xyXG4gICAgY29sb3I6ICRncmVlbjtcclxuICB9XHJcbn1cclxuXHJcbi50b29sYmFyX19wcmltYXJ5X19zcGFjZXIge1xyXG4gIGhlaWdodDogNTRweDtcclxufVxyXG5cclxuLnRvb2xiYXJfX3NlY29uZGFyeSB7XHJcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAkc2Vjb25kYXJ5O1xyXG4gIGZvbnQtc2l6ZTogMTJweDtcclxuICBoZWlnaHQ6IDMwcHg7XHJcbn1cclxuXHJcbi8qIENoaXAgbmF2aWdhdGlvbiAqL1xyXG46Om5nLWRlZXAgbmF2Lm5hdmlnYXRpb24tLW1haW4ge1xyXG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbn1cclxuXHJcbkBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6ICRzY3JlZW5HdFhzKSB7XHJcbiAgXHJcbiAgLnRvb2xiYXJfX3ByaW1hcnlfX3NwYWNlciB7XHJcbiAgICBoZWlnaHQ6IDYycHg7XHJcbiAgfVxyXG4gIFxyXG59XHJcbiIsIi8vQnJlYWtwb2ludHNcclxuJHNjcmVlbkd0WHM6IDYwMHB4O1xyXG4kc2NyZWVuR3RTbTogOTYwcHg7IFxyXG5cclxuXHJcbi8vQ29sb3JzXHJcbiRwcmltYXJ5OiAjN2IxZmEyO1xyXG4kc2Vjb25kYXJ5OiByZ2IoMTU2LCAzOSwgMTc2KTtcclxuJGFjY2VudDogIzY5ZjBhZTtcclxuJHdhcm4gOiAjZjQ0MzM2O1xyXG4kcHVycGxlIDogJHByaW1hcnk7XHJcbiRwdXJwbGVGb250cyA6ICNDMzUyRjM7XHJcbiRncmVlbjogIzI4RkU3QztcclxuJHJlZDogI2ZmNTI3MTtcclxuJGxpZ2h0T3JhbmdlIDogcmdiYSgyNTUsIDE4NywgMCwgMC44Nyk7XHJcbiRhbG1vc3RXaGl0ZSA6IHJnYmEoMjU1LDI1NSwyNTUsLjg3KTtcclxuJGFsbW9zdEJsYWNrIDogcmdiYSgwLDAsMCwuODcpOyJdfQ== */"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./app.service */ "./src/app/app.service.ts");
/* harmony import */ var _modules_users_users_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules/users/users.service */ "./src/app/modules/users/users.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _modules_shared_components_main_navigator_main_navigator_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./modules/shared/components/main-navigator/main-navigator.service */ "./src/app/modules/shared/components/main-navigator/main-navigator.service.ts");
/* harmony import */ var _modules_investments_currency_exchange_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./modules/investments/currency-exchange.service */ "./src/app/modules/investments/currency-exchange.service.ts");
/* harmony import */ var _util_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./util.service */ "./src/app/util.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var AppComponent = /** @class */ (function () {
    function AppComponent(router, appService, usersService, currencyExchangeService, utilService) {
        this.router = router;
        this.appService = appService;
        this.usersService = usersService;
        this.currencyExchangeService = currencyExchangeService;
        this.utilService = utilService;
        this.title = 'AtomiCoconut';
        this.user = null;
        this.todayUserPrefRate = null;
        this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_7__["Subscription"]();
    }
    AppComponent.prototype.ngOnInit = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > ngOnInit() > "; // for debugging
        // On any user change let loads its preferred currency rate and show it in the currency secondary toolbar
        var newSubcription = this.usersService.user$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["flatMap"])(function (user) {
            if (!user) {
                _this.todayUserPrefRate = null;
            }
            _this.user = user;
            if (_this.user && _this.user.currency && _this.user.currency !== 'USD') {
                return _this.currencyExchangeService.getCurrencyRates$();
            }
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_7__["of"])(null); // is the user had not configure a preferred currency then we don't need to show the currency toolbar
        })).subscribe(function (currencyRates) {
            if (currencyRates === null) {
                _this.todayUserPrefRate = null;
                return;
            }
            _this.todayUserPrefRate = currencyRates[_this.utilService.formatToday()]["USD" + _this.user.currency];
            _this.appService.consoleLog('info', methodTrace + " Currency exchange rates successfully loaded!");
        }, function (error) {
            _this.appService.consoleLog('error', methodTrace + " There was an error trying to get currency rates data > " + error);
            _this.appService.showResults("There was an error trying to get currency rates data.", 'error');
        }); // start listening the source of user
        this.subscription.add(newSubcription);
        // start tracking user changes every 10min (600000ms)
        this.usersService.updateSessionState(600000);
        this.getCryptoRates('BTC');
        this.getCryptoRates('XMR');
    };
    AppComponent.prototype.ngOnDestroy = function () {
        var methodTrace = this.constructor.name + " > ngOnDestroy() > "; // for debugging
        // this.appService.consoleLog('info', `${methodTrace} Component destroyed.`);
        this.subscription.unsubscribe();
    };
    AppComponent.prototype.getCryptoRates = function (crypto) {
        var _this = this;
        if (crypto === void 0) { crypto = 'BTC'; }
        var methodTrace = this.constructor.name + " > getCryptoRates() > "; // for debugging
        var newSubscription = this.currencyExchangeService.getCryptoRates$(crypto).subscribe(function (data) {
            _this.appService.consoleLog('info', methodTrace + " " + crypto + " exchange rate successfully loaded!");
        }, function (error) {
            _this.appService.consoleLog('error', methodTrace + " There was an error trying to get " + crypto + " rates data > " + error);
            _this.appService.showResults("There was an error trying to get " + crypto + " rates data, please try again in a few minutes.", 'warn');
        });
        this.subscription.add(newSubscription);
    };
    AppComponent.prototype.logout = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > logout() > "; // for debugging
        var newSubscription = this.usersService.logout$().subscribe(function (result) {
            _this.user = result;
            _this.router.navigate(['/']);
        }, function (error) {
            _this.appService.consoleLog('error', methodTrace + " There was an error with the logout service.", error);
        });
        this.subscription.add(newSubscription);
    };
    AppComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-root',
            template: __webpack_require__(/*! ./app.component.html */ "./src/app/app.component.html"),
            styles: [__webpack_require__(/*! ./app.component.scss */ "./src/app/app.component.scss")],
            providers: [_modules_shared_components_main_navigator_main_navigator_service__WEBPACK_IMPORTED_MODULE_4__["MainNavigatorService"]]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"], _app_service__WEBPACK_IMPORTED_MODULE_1__["AppService"], _modules_users_users_service__WEBPACK_IMPORTED_MODULE_2__["UsersService"], _modules_investments_currency_exchange_service__WEBPACK_IMPORTED_MODULE_5__["CurrencyExchangeService"],
            _util_service__WEBPACK_IMPORTED_MODULE_6__["UtilService"]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm5/animations.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/flex-layout */ "./node_modules/@angular/flex-layout/esm5/flex-layout.es5.js");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! hammerjs */ "./node_modules/hammerjs/hammer.js");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(hammerjs__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./app.routing.module */ "./src/app/app.routing.module.ts");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./app.service */ "./src/app/app.service.ts");
/* harmony import */ var _util_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./util.service */ "./src/app/util.service.ts");
/* harmony import */ var _auth_resolver_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./auth-resolver.service */ "./src/app/auth-resolver.service.ts");
/* harmony import */ var _modules_investments_currency_exchange_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./modules/investments/currency-exchange.service */ "./src/app/modules/investments/currency-exchange.service.ts");
/* harmony import */ var _modules_shared_custom_material_design_module__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./modules/shared/custom-material-design.module */ "./src/app/modules/shared/custom-material-design.module.ts");
/* harmony import */ var _modules_users_users_module__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./modules/users/users.module */ "./src/app/modules/users/users.module.ts");
/* harmony import */ var _modules_teams_teams_module__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./modules/teams/teams.module */ "./src/app/modules/teams/teams.module.ts");
/* harmony import */ var _modules_investments_investments_module__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./modules/investments/investments.module */ "./src/app/modules/investments/investments.module.ts");
/* harmony import */ var _modules_calculators_calculators_module__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./modules/calculators/calculators.module */ "./src/app/modules/calculators/calculators.module.ts");
/* harmony import */ var _components_welcome_welcome_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./components/welcome/welcome.component */ "./src/app/components/welcome/welcome.component.ts");
/* harmony import */ var _modules_shared_shared_module__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./modules/shared/shared.module */ "./src/app/modules/shared/shared.module.ts");
/* harmony import */ var _modules_properties_properties_module__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./modules/properties/properties.module */ "./src/app/modules/properties/properties.module.ts");
/* harmony import */ var _components_page_not_found_page_not_found_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./components/page-not-found/page-not-found.component */ "./src/app/components/page-not-found/page-not-found.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





















var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["NgModule"])({
            imports: [
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__["BrowserModule"],
                _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_1__["BrowserAnimationsModule"],
                _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClientModule"],
                _angular_flex_layout__WEBPACK_IMPORTED_MODULE_4__["FlexLayoutModule"],
                _modules_shared_custom_material_design_module__WEBPACK_IMPORTED_MODULE_12__["CustomMaterialDesignModule"],
                _modules_shared_shared_module__WEBPACK_IMPORTED_MODULE_18__["SharedModule"],
                _modules_users_users_module__WEBPACK_IMPORTED_MODULE_13__["UsersModule"],
                _modules_teams_teams_module__WEBPACK_IMPORTED_MODULE_14__["TeamsModule"],
                _modules_investments_investments_module__WEBPACK_IMPORTED_MODULE_15__["InvestmentsModule"],
                _modules_calculators_calculators_module__WEBPACK_IMPORTED_MODULE_16__["CalculatorsModule"],
                _modules_properties_properties_module__WEBPACK_IMPORTED_MODULE_19__["PropertiesModule"],
                _app_routing_module__WEBPACK_IMPORTED_MODULE_6__["AppRoutingModule"]
            ],
            declarations: [
                _app_component__WEBPACK_IMPORTED_MODULE_7__["AppComponent"],
                _components_welcome_welcome_component__WEBPACK_IMPORTED_MODULE_17__["WelcomeComponent"],
                _components_page_not_found_page_not_found_component__WEBPACK_IMPORTED_MODULE_20__["PageNotFoundComponent"]
            ],
            providers: [_app_service__WEBPACK_IMPORTED_MODULE_8__["AppService"], _util_service__WEBPACK_IMPORTED_MODULE_9__["UtilService"], _modules_investments_currency_exchange_service__WEBPACK_IMPORTED_MODULE_11__["CurrencyExchangeService"], _auth_resolver_service__WEBPACK_IMPORTED_MODULE_10__["AuthResolver"]],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_7__["AppComponent"]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/app.routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app.routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _components_welcome_welcome_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/welcome/welcome.component */ "./src/app/components/welcome/welcome.component.ts");
/* harmony import */ var _components_page_not_found_page_not_found_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/page-not-found/page-not-found.component */ "./src/app/components/page-not-found/page-not-found.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var appRoutes = [
    {
        path: 'welcome',
        component: _components_welcome_welcome_component__WEBPACK_IMPORTED_MODULE_2__["WelcomeComponent"]
    },
    {
        path: 'page-not-found',
        component: _components_page_not_found_page_not_found_component__WEBPACK_IMPORTED_MODULE_3__["PageNotFoundComponent"]
    },
    {
        path: '',
        redirectTo: 'welcome',
        pathMatch: 'full'
    },
    {
        path: '**',
        component: _components_page_not_found_page_not_found_component__WEBPACK_IMPORTED_MODULE_3__["PageNotFoundComponent"]
    }
];
var AppRoutingModule = /** @class */ (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forRoot(appRoutes, { enableTracing: false })
            ],
            exports: [
                _angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]
            ]
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/app.service.ts":
/*!********************************!*\
  !*** ./src/app/app.service.ts ***!
  \********************************/
/*! exports provided: AppService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppService", function() { return AppService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _modules_shared_components_snackbar_simple_snackbar_simple_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modules/shared/components/snackbar-simple/snackbar-simple.component */ "./src/app/modules/shared/components/snackbar-simple/snackbar-simple.component.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var AppService = /** @class */ (function () {
    function AppService(snackBar) {
        this.snackBar = snackBar;
    }
    /**
     * Extract data from a server response
     * @param res
     */
    AppService.prototype.extractData = function (res) {
        if (res.codeno === 200 && res.status === 'success') {
            return res.data;
        }
        else {
            throw res;
        }
    };
    /**
     * Handle server service errors and parse the result in an object
     * @param operation (string). The operation performed
     * @param result (T). Optional, a result to handle the fail.
     */
    AppService.prototype.handleError = function (result) {
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["throwError"])(result.error);
    };
    /**
     * Shows messages in snackbar component
     * @param message . The text to show
     * @param duration . The duration in milliseconds . Optional
     * @param actionName . An action name to close the message on click. Optional
     *
     * @return {MatSnackBar} . The snackbar ref
     */
    AppService.prototype.showResults = function (message, type, duration) {
        if (type === void 0) { type = 'info'; }
        if (duration === void 0) { duration = 5000; }
        var snackBarRef = this.snackBar.openFromComponent(_modules_shared_components_snackbar_simple_snackbar_simple_component__WEBPACK_IMPORTED_MODULE_3__["SnackbarSimpleComponent"], {
            data: {
                type: type,
                message: message
            },
            duration: duration,
            panelClass: ['snackbar--simple', "snackbar--" + type]
        });
        return snackBarRef;
    };
    /**
     * Shows multiple messages in snackbar component one after another
     * @param {any[]} messages . The array of messages to show
     * @param {number} index . The index where to start iterating the messages array
     *
     * @return {MatSnackBar} . The snackbar Ref
     */
    AppService.prototype.showManyResults = function (messages, index) {
        var _this = this;
        if (index === void 0) { index = 0; }
        var snackBarRef = null;
        if (index < messages.length) {
            snackBarRef = this.showResults(messages[index].message, messages[index].type, messages[index].duration);
            snackBarRef.afterDismissed().subscribe(function () {
                _this.showManyResults(messages, index += 1);
            });
        }
        else {
            return snackBarRef;
        }
    };
    /**
     * Show logs in the console if enabled in the current environment
     * @param type . Error type
     * @param message . The message to show
     * @param params . Any extra parameters to list in the log.
     */
    AppService.prototype.consoleLog = function (type, message) {
        var params = [];
        for (var _i = 2; _i < arguments.length; _i++) {
            params[_i - 2] = arguments[_i];
        }
        if (_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].showLogs) {
            console[type](message, params);
        }
    };
    AppService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSnackBar"]])
    ], AppService);
    return AppService;
}());



/***/ }),

/***/ "./src/app/auth-resolver.service.ts":
/*!******************************************!*\
  !*** ./src/app/auth-resolver.service.ts ***!
  \******************************************/
/*! exports provided: AuthResolver */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthResolver", function() { return AuthResolver; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _modules_users_users_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modules/users/users.service */ "./src/app/modules/users/users.service.ts");
/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./app.service */ "./src/app/app.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var AuthResolver = /** @class */ (function () {
    function AuthResolver(appService, usersService, router) {
        this.appService = appService;
        this.usersService = usersService;
        this.router = router;
    }
    AuthResolver.prototype.resolve = function (route, state) {
        var _this = this;
        var methodTrace = this.constructor.name + " > resolve() > "; // for debugging  
        this.usersService.routerRedirectUrl = state.url;
        var urlsForCompleteUserData = ['/investments', '/users/account'];
        var params = null;
        if (urlsForCompleteUserData.includes(state.url)) {
            params = { personalInfo: true, financialInfo: true };
        }
        return this.usersService.getAuthenticatedUser$(params).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(function (user) {
            console.log(user);
            if (user) {
                _this.usersService.routerRedirectUrl = null;
                return user;
            }
            else {
                _this.router.navigate(['/users/login']);
                return null;
            }
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["catchError"])(function (error) {
            _this.appService.consoleLog('error', methodTrace + " There was an error with the getAuthenticatedUser service.", error);
            _this.router.navigate(['/users/login']);
            return null;
        }));
    };
    AuthResolver = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_app_service__WEBPACK_IMPORTED_MODULE_4__["AppService"], _modules_users_users_service__WEBPACK_IMPORTED_MODULE_3__["UsersService"], _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"]])
    ], AuthResolver);
    return AuthResolver;
}());



/***/ }),

/***/ "./src/app/components/page-not-found/page-not-found.component.html":
/*!*************************************************************************!*\
  !*** ./src/app/components/page-not-found/page-not-found.component.html ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<p>\n  404 Page not found\n</p>\n"

/***/ }),

/***/ "./src/app/components/page-not-found/page-not-found.component.scss":
/*!*************************************************************************!*\
  !*** ./src/app/components/page-not-found/page-not-found.component.scss ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvcGFnZS1ub3QtZm91bmQvcGFnZS1ub3QtZm91bmQuY29tcG9uZW50LnNjc3MifQ== */"

/***/ }),

/***/ "./src/app/components/page-not-found/page-not-found.component.ts":
/*!***********************************************************************!*\
  !*** ./src/app/components/page-not-found/page-not-found.component.ts ***!
  \***********************************************************************/
/*! exports provided: PageNotFoundComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PageNotFoundComponent", function() { return PageNotFoundComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var PageNotFoundComponent = /** @class */ (function () {
    function PageNotFoundComponent() {
    }
    PageNotFoundComponent.prototype.ngOnInit = function () {
    };
    PageNotFoundComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-page-not-found',
            template: __webpack_require__(/*! ./page-not-found.component.html */ "./src/app/components/page-not-found/page-not-found.component.html"),
            styles: [__webpack_require__(/*! ./page-not-found.component.scss */ "./src/app/components/page-not-found/page-not-found.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], PageNotFoundComponent);
    return PageNotFoundComponent;
}());



/***/ }),

/***/ "./src/app/components/welcome/welcome.component.html":
/*!***********************************************************!*\
  !*** ./src/app/components/welcome/welcome.component.html ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div *ngIf=\"user\" class=\"container__net-worth\">\r\n  <!-- Net Worth Card -->\r\n  <mat-card *ngIf=\"expectedWealth && user.personalInfo.age\"\r\n      fxLayout=\"column\" class=\"totals-card\">\r\n    <mat-card-content fxLayout=\"column\" fxLayoutGap=\"10px\">\r\n      <div class=\"wealth__container\" fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"none center\" fxLayoutAlign.gt-xs=\"space-between none\">\r\n        <span [class.color__accent]=\"wealthAmount >= expectedWealth\" \r\n            [class.color__red]=\"wealthAmount < expectedWealth\">\r\n          Current net worth is <strong>{{ wealthAmount | currency : 'USD' : 'code' : '1.2-2' }}</strong>\r\n        </span>\r\n        <span class=\"accent\">\r\n          Expected net worth at your age ({{user.personalInfo.age}}) is \r\n          <strong>{{ expectedWealth | currency : 'USD' : 'code' : '1.2-2' }}</strong>\r\n        </span>\r\n      </div>\r\n      <div>\r\n        <mat-progress-bar \r\n          class=\"progress-spinner progress-spinner--wealth\"\r\n          [color]=\"wealthAmount < expectedWealth ? 'warn' : 'accent'\"\r\n          [value]=\"progressBarWealthValue\"\r\n          mode=\"determinate\">\r\n        </mat-progress-bar>\r\n      </div>\r\n    </mat-card-content>\r\n  </mat-card>\r\n    <!-- EOF Net Worth Card -->\r\n\r\n  <!-- Net Worth Card when Personal and Financial info is incomplete -->\r\n  <mat-card *ngIf=\"!user.financialInfo || !user.personalInfo\"\r\n      fxFlex class=\"totals-card\">\r\n    <mat-card-content fxLayout=\"row\" fxLayout.xs=\"column\" fxLayoutGap=\"10px\"\r\n        fxLayoutAlign=\"space-around center\">\r\n      <p>\r\n        <a class=\"color__almost-white\" routerLink=\"/users/account\">\r\n          <mat-icon class=\"icon--arrow_forward\">arrow_forward</mat-icon>\r\n          Go to your account and complete your Personal and Financial Info to see expected and current Net Worth\r\n        </a>\r\n      </p>\r\n    </mat-card-content>\r\n  </mat-card>\r\n  <!-- EOF Net Worth Card when Personal and Financial info is incomplete -->\r\n</div>"

/***/ }),

/***/ "./src/app/components/welcome/welcome.component.scss":
/*!***********************************************************!*\
  !*** ./src/app/components/welcome/welcome.component.scss ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".container__net-worth {\n  margin-bottom: 10px; }\n  .container__net-worth .icon--arrow_forward {\n    float: left; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy93ZWxjb21lL0M6XFx3M1xcYXRvbWlDb2NvbnV0XFxjbGllbnQvc3JjXFxhcHBcXGNvbXBvbmVudHNcXHdlbGNvbWVcXHdlbGNvbWUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxvQkFBbUIsRUFLcEI7RUFORDtJQUlJLFlBQVcsRUFDWiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvd2VsY29tZS93ZWxjb21lLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lcl9fbmV0LXdvcnRoIHtcclxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG5cclxuICAuaWNvbi0tYXJyb3dfZm9yd2FyZCB7XHJcbiAgICBmbG9hdDogbGVmdDtcclxuICB9XHJcbn0iXX0= */"

/***/ }),

/***/ "./src/app/components/welcome/welcome.component.ts":
/*!*********************************************************!*\
  !*** ./src/app/components/welcome/welcome.component.ts ***!
  \*********************************************************/
/*! exports provided: WelcomeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WelcomeComponent", function() { return WelcomeComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _modules_shared_components_main_navigator_main_navigator_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../modules/shared/components/main-navigator/main-navigator.service */ "./src/app/modules/shared/components/main-navigator/main-navigator.service.ts");
/* harmony import */ var _modules_users_users_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../modules/users/users.service */ "./src/app/modules/users/users.service.ts");
/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../app.service */ "./src/app/app.service.ts");
/* harmony import */ var _modules_investments_investments_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../modules/investments/investments.service */ "./src/app/modules/investments/investments.service.ts");
/* harmony import */ var _modules_investments_currency_exchange_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../modules/investments/currency-exchange.service */ "./src/app/modules/investments/currency-exchange.service.ts");
/* harmony import */ var _modules_investments_models_currencyInvestment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../modules/investments/models/currencyInvestment */ "./src/app/modules/investments/models/currencyInvestment.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../constants */ "./src/app/constants.ts");
/* harmony import */ var _util_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../util.service */ "./src/app/util.service.ts");
/* harmony import */ var _modules_investments_models_PropertyInvestment__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../modules/investments/models/PropertyInvestment */ "./src/app/modules/investments/models/PropertyInvestment.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var WelcomeComponent = /** @class */ (function () {
    function WelcomeComponent(mainNavigatorService, usersService, appService, investmentsService, currencyExchangeService, utilService) {
        this.mainNavigatorService = mainNavigatorService;
        this.usersService = usersService;
        this.appService = appService;
        this.investmentsService = investmentsService;
        this.currencyExchangeService = currencyExchangeService;
        this.utilService = utilService;
        this.user = null;
        this.wealthAmount = 0;
        this.expectedWealth = 0;
        this.progressBarWealthValue = 0;
        this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_7__["Subscription"]();
    }
    WelcomeComponent.prototype.ngOnInit = function () {
        var methodTrace = this.constructor.name + " > ngOnInit() > "; // for debugging
        this.mainNavigatorService.setLinks([
            { displayName: 'Welcome', url: null, selected: true },
            { displayName: 'Investments', url: '/investments', selected: false },
            { displayName: 'Properties', url: '/properties', selected: false },
            { displayName: 'Calculators', url: '/calculators', selected: false }
        ]);
        this.generateWealthComponentInfo();
    };
    WelcomeComponent.prototype.ngOnDestroy = function () {
        // this.appService.consoleLog('info', `${methodTrace} Component destroyed.`);
        this.subscription.unsubscribe();
    };
    WelcomeComponent.prototype.generateWealthComponentInfo = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > generateWealthComponentInfo() > "; // for debugging
        var currentUserInvestments = [];
        var newSubscription = this.setUserAndGetInvestments$().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["flatMap"])(function (userInvestments) {
            currentUserInvestments = userInvestments;
            var investmentsDates = userInvestments.map(function (investment) {
                if (investment instanceof _modules_investments_models_currencyInvestment__WEBPACK_IMPORTED_MODULE_6__["CurrencyInvestment"]) {
                    return _this.utilService.formatDate(investment.buyingDate);
                }
                else if (investment instanceof _modules_investments_models_PropertyInvestment__WEBPACK_IMPORTED_MODULE_11__["PropertyInvestment"]) {
                    return _this.utilService.formatDate(investment.buyingDate);
                }
                return _this.utilService.formatToday(); // this should never happen. BuyingDate is required in investments
            });
            return _this.currencyExchangeService.getCurrencyRates$(investmentsDates);
<<<<<<< HEAD
<<<<<<< HEAD
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["flatMap"])(function (currencyRates) {
            var investmentsAndCurrencyRates = currentUserInvestments.map(function (investment) {
                return { currencyRates: currencyRates, investment: investment };
            });
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_7__["from"])(investmentsAndCurrencyRates);
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["flatMap"])(function (investmentAndCurrencyRates) {
            var myPercentage = (investmentAndCurrencyRates.investment.investmentDistribution.filter(function (portion) { return portion.email === _this.user.email; })[0]).percentage;
            if (investmentAndCurrencyRates.investment instanceof _modules_investments_models_currencyInvestment__WEBPACK_IMPORTED_MODULE_6__["CurrencyInvestment"]) {
                var investment_1 = investmentAndCurrencyRates.investment;
                if (investment_1.type === _constants__WEBPACK_IMPORTED_MODULE_9__["INVESTMENTS_TYPES"].CURRENCY) {
                    _this.wealthAmount += ((investment_1.amount * (investmentAndCurrencyRates['currencyRates'][_this.utilService.formatToday()]["USD" + investment_1.unit] || 1))
                        - (investment_1.loanAmount / (investmentAndCurrencyRates['currencyRates'][_this.utilService.formatDate(investment_1.buyingDate)]["USD" + investment_1.loanAmountUnit] || 1)))
=======
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["map"])(function (currencyRates) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_7__["from"])(currentUserInvestments);
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["flatMap"])(function (currencyRates) {
            // iterate investments and sum returns using dated rates.
            for (var _i = 0, currentUserInvestments_1 = currentUserInvestments; _i < currentUserInvestments_1.length; _i++) {
                var investment = currentUserInvestments_1[_i];
                var myPercentage = (investment.investmentDistribution.filter(function (portion) { return portion.email === _this.user.email; })[0]).percentage;
                if (investment instanceof _modules_investments_models_currencyInvestment__WEBPACK_IMPORTED_MODULE_6__["CurrencyInvestment"]) {
                    var currencyInvestment = investment;
                    if (investment.type === _constants__WEBPACK_IMPORTED_MODULE_9__["INVESTMENTS_TYPES"].CURRENCY) {
                        _this.wealthAmount += ((currencyInvestment.amount * (currencyRates[_this.utilService.formatToday()]["USD" + currencyInvestment.unit] || 1))
                            - (currencyInvestment.loanAmount / (currencyRates[_this.utilService.formatDate(currencyInvestment.buyingDate)]["USD" + currencyInvestment.loanAmountUnit] || 1)))
                            * myPercentage / 100;
                        _this.calculateProgressBarWealthValue();
                        return Object(rxjs__WEBPACK_IMPORTED_MODULE_7__["of"])(null);
                    }
                    else if (investment.type === _constants__WEBPACK_IMPORTED_MODULE_9__["INVESTMENTS_TYPES"].CRYPTO) {
                        return _this.currencyExchangeService.getCryptoRates$(currencyInvestment.unit).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["take"])(1));
                    }
                }
                else if (investment instanceof _modules_investments_models_PropertyInvestment__WEBPACK_IMPORTED_MODULE_11__["PropertyInvestment"]) {
                    var propertyInvestment = investment;
                    _this.wealthAmount += (_this.currencyExchangeService.getUsdValueOf(propertyInvestment.property.marketValue, propertyInvestment.property.marketValueUnit)
                        - (propertyInvestment.loanAmount / (currencyRates[_this.utilService.formatDate(propertyInvestment.buyingDate)]["USD" + propertyInvestment.loanAmountUnit] || 1)))
>>>>>>> more progress in this refactor
=======
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["flatMap"])(function (currencyRates) {
            var investmentsAndCurrencyRates = currentUserInvestments.map(function (investment) {
                return { currencyRates: currencyRates, investment: investment };
            });
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_7__["from"])(investmentsAndCurrencyRates);
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["flatMap"])(function (investmentAndCurrencyRates) {
            console.log(investmentAndCurrencyRates);
            var myPercentage = (investmentAndCurrencyRates.investment.investmentDistribution.filter(function (portion) { return portion.email === _this.user.email; })[0]).percentage;
            if (investmentAndCurrencyRates.investment instanceof _modules_investments_models_currencyInvestment__WEBPACK_IMPORTED_MODULE_6__["CurrencyInvestment"]) {
                var investment_1 = investmentAndCurrencyRates.investment;
                if (investment_1.type === _constants__WEBPACK_IMPORTED_MODULE_9__["INVESTMENTS_TYPES"].CURRENCY) {
                    _this.wealthAmount += ((investment_1.amount * (investmentAndCurrencyRates['currencyRates'][_this.utilService.formatToday()]["USD" + investment_1.unit] || 1))
                        - (investment_1.loanAmount / (investmentAndCurrencyRates['currencyRates'][_this.utilService.formatDate(investment_1.buyingDate)]["USD" + investment_1.loanAmountUnit] || 1)))
>>>>>>> more fixes in welcome component
                        * myPercentage / 100;
                    _this.calculateProgressBarWealthValue();
                    return Object(rxjs__WEBPACK_IMPORTED_MODULE_7__["of"])(null);
                }
<<<<<<< HEAD
<<<<<<< HEAD
=======
>>>>>>> more fixes in welcome component
                else if (investment_1.type === _constants__WEBPACK_IMPORTED_MODULE_9__["INVESTMENTS_TYPES"].CRYPTO) {
                    return _this.currencyExchangeService.getCryptoRates$(investment_1.unit).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["map"])(function (cryptoRates) {
                        return { cryptoRates: cryptoRates, myPercentage: myPercentage, investment: investment_1, currencyRates: investmentAndCurrencyRates.currencyRates };
                    }));
                }
<<<<<<< HEAD
                else {
                    _this.appService.consoleLog('error', methodTrace + " Currency Investment type not recognized by this component: " + investment_1.type);
                    return Object(rxjs__WEBPACK_IMPORTED_MODULE_7__["of"])(null); // should never happen
                }
            }
            else if (investmentAndCurrencyRates.investment instanceof _modules_investments_models_PropertyInvestment__WEBPACK_IMPORTED_MODULE_11__["PropertyInvestment"]) {
                var investment = investmentAndCurrencyRates.investment;
                _this.wealthAmount += (_this.currencyExchangeService.getUsdValueOf(investment.property.marketValue, investment.property.marketValueUnit)
                    - (investment.loanAmount / (investmentAndCurrencyRates['currencyRates'][_this.utilService.formatDate(investment.buyingDate)]["USD" + investment.loanAmountUnit] || 1)))
                    * myPercentage / 100;
                _this.calculateProgressBarWealthValue();
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_7__["of"])(null);
            }
            else {
                _this.appService.consoleLog('error', methodTrace + " Investment type not recognized by this component: " + investmentAndCurrencyRates.investment.type);
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_7__["of"])(null); // should never happen
            }
        })).subscribe(function (data) {
            if (data) {
                console.log(data);
                _this.wealthAmount += ((data.investment.amount * data.cryptoRates.price)
                    - (data.investment.loanAmount / (data['currencyRates'][_this.utilService.formatDate(data.investment.buyingDate)]["USD" + data.investment.loanAmountUnit] || 1)))
                    * data.myPercentage / 100;
                _this.calculateProgressBarWealthValue();
=======
=======
>>>>>>> more fixes in welcome component
                else {
                    _this.appService.consoleLog('error', methodTrace + " Currency Investment type not recognized by this component: " + investment_1.type);
                    return Object(rxjs__WEBPACK_IMPORTED_MODULE_7__["of"])(null); // should never happen
                }
>>>>>>> more progress in this refactor
            }
            else if (investmentAndCurrencyRates.investment instanceof _modules_investments_models_PropertyInvestment__WEBPACK_IMPORTED_MODULE_11__["PropertyInvestment"]) {
                var investment = investmentAndCurrencyRates.investment;
                _this.wealthAmount += (_this.currencyExchangeService.getUsdValueOf(investment.property.marketValue, investment.property.marketValueUnit)
                    - (investment.loanAmount / (investmentAndCurrencyRates['currencyRates'][_this.utilService.formatDate(investment.buyingDate)]["USD" + investment.loanAmountUnit] || 1)))
                    * myPercentage / 100;
                _this.calculateProgressBarWealthValue();
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_7__["of"])(null);
            }
            else {
                _this.appService.consoleLog('error', methodTrace + " Investment type not recognized by this component: " + investmentAndCurrencyRates.investment.type);
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_7__["of"])(null); // should never happen
            }
        })).subscribe(function (data) {
            if (data) {
                // this is a crryptorate investment (all the others returns null)
                _this.wealthAmount += ((data.investment.amount * data.cryptoRates.price)
                    - (data.investment.loanAmount / (data['currencyRates'][_this.utilService.formatDate(data.investment.buyingDate)]["USD" + data.investment.loanAmountUnit] || 1)))
                    * data.myPercentage / 100;
                _this.calculateProgressBarWealthValue();
            }
        }, function (error) {
<<<<<<< HEAD
<<<<<<< HEAD
            _this.appService.consoleLog('error', methodTrace + " There was an error trying to get required data > ", error);
            _this.appService.showResults("There was an error trying to get required data, please try again in a few minutes.", 'error');
=======
            _this.appService.consoleLog('error', methodTrace + " There was an error trying to get " + currencyInvestment.unit + " rates data > ", error);
            _this.appService.showResults("There was an error trying to get " + currencyInvestment.unit + " rates data, please try again in a few minutes.", 'error');
>>>>>>> more progress in this refactor
=======
            _this.appService.consoleLog('error', methodTrace + " There was an error trying to get required data > ", error);
            _this.appService.showResults("There was an error trying to get required data, please try again in a few minutes.", 'error');
>>>>>>> more fixes in welcome component
        });
        this.subscription.add(newSubscription);
    };
    /**
     * Sets the user property with the current user or null if nobody logged in yet.
     *
     * @return { Observable<Investment[]> } . An observable with array of the logged in user investments or [] if nobody is logged in yet
     */
    WelcomeComponent.prototype.setUserAndGetInvestments$ = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > setUserAndGetInvestments$() > "; // for debugging
        return this.usersService.user$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["flatMap"])(function (user) {
            console.log(user);
            // reset all values to recalculate for this user 
            _this.wealthAmount = 0;
            _this.expectedWealth = 0;
            _this.progressBarWealthValue = 0;
            if (!user) {
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_7__["of"])(null);
            }
            else if (!user.personalInfo || !user.financialInfo) {
                return _this.usersService.getAuthenticatedUser$({ personalInfo: true, financialInfo: true });
            }
            else {
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_7__["of"])(user);
            }
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["flatMap"])(function (user) {
            _this.user = user;
            if (user) {
                if (user.financialInfo) {
                    _this.wealthAmount += _this.currencyExchangeService.getUsdValueOf(user.financialInfo.savings || 0, user.financialInfo.savingsUnit);
                    if (user.personalInfo && user.personalInfo.age) {
                        _this.expectedWealth = _this.currencyExchangeService.getUsdValueOf(user.financialInfo.annualIncome || 0, user.financialInfo.annualIncomeUnit) * user.personalInfo.age / 10;
                    }
                    else {
                        _this.expectedWealth = 0;
                    }
                    _this.calculateProgressBarWealthValue();
                }
                return _this.investmentsService.getInvestments$(user.email);
            }
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_7__["of"])([]);
        }));
    };
    WelcomeComponent.prototype.calculateProgressBarWealthValue = function () {
        if (!this.expectedWealth) {
            this.progressBarWealthValue = 0;
            return;
        }
        var value = this.wealthAmount * 100 / this.expectedWealth;
        this.progressBarWealthValue = value > 100 ? 100 : value;
    };
    WelcomeComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'welcome',
            template: __webpack_require__(/*! ./welcome.component.html */ "./src/app/components/welcome/welcome.component.html"),
            styles: [__webpack_require__(/*! ./welcome.component.scss */ "./src/app/components/welcome/welcome.component.scss")]
        }),
        __metadata("design:paramtypes", [_modules_shared_components_main_navigator_main_navigator_service__WEBPACK_IMPORTED_MODULE_1__["MainNavigatorService"], _modules_users_users_service__WEBPACK_IMPORTED_MODULE_2__["UsersService"], _app_service__WEBPACK_IMPORTED_MODULE_3__["AppService"],
            _modules_investments_investments_service__WEBPACK_IMPORTED_MODULE_4__["InvestmentsService"], _modules_investments_currency_exchange_service__WEBPACK_IMPORTED_MODULE_5__["CurrencyExchangeService"], _util_service__WEBPACK_IMPORTED_MODULE_10__["UtilService"]])
    ], WelcomeComponent);
    return WelcomeComponent;
}());



/***/ }),

/***/ "./src/app/constants.ts":
/*!******************************!*\
  !*** ./src/app/constants.ts ***!
  \******************************/
/*! exports provided: PROPERTY_TYPES, HOUSE_BUILDING_TYPES, NZ_HOUSE_TITLE_TYPES, INVESTMENTS_TYPES */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PROPERTY_TYPES", function() { return PROPERTY_TYPES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HOUSE_BUILDING_TYPES", function() { return HOUSE_BUILDING_TYPES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NZ_HOUSE_TITLE_TYPES", function() { return NZ_HOUSE_TITLE_TYPES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "INVESTMENTS_TYPES", function() { return INVESTMENTS_TYPES; });
var PROPERTY_TYPES = {
    HOUSE: 'house'
};
var HOUSE_BUILDING_TYPES = {
    HOUSE: 'house',
    APARTMENT: 'apartment',
    UNIT: 'unit'
};
var NZ_HOUSE_TITLE_TYPES = {
    FEE_SIMPLE: 'feeSimple',
    CROSS_LEASE: 'crossLease',
    LEASE_HOLD: 'leaseHold'
};
var INVESTMENTS_TYPES = {
    CURRENCY: 'currency',
    CRYPTO: 'crypto',
    PROPERTY: 'property'
};


/***/ }),

/***/ "./src/app/modules/calculators/calculators-routing.module.ts":
/*!*******************************************************************!*\
  !*** ./src/app/modules/calculators/calculators-routing.module.ts ***!
  \*******************************************************************/
/*! exports provided: CalculatorsRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CalculatorsRoutingModule", function() { return CalculatorsRoutingModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _components_equity_equity_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/equity/equity.component */ "./src/app/modules/calculators/components/equity/equity.component.ts");
/* harmony import */ var _components_calculators_dashboard_calculators_dashboard_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/calculators-dashboard/calculators-dashboard.component */ "./src/app/modules/calculators/components/calculators-dashboard/calculators-dashboard.component.ts");
/* harmony import */ var _components_house_figures_house_figures_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/house-figures/house-figures.component */ "./src/app/modules/calculators/components/house-figures/house-figures.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var routes = [{
        path: 'calculators',
        children: [
            { path: '', component: _components_calculators_dashboard_calculators_dashboard_component__WEBPACK_IMPORTED_MODULE_3__["CalculatorsDashboardComponent"] },
            { path: 'equity', component: _components_equity_equity_component__WEBPACK_IMPORTED_MODULE_2__["EquityComponent"] },
            { path: 'house-figures', component: _components_house_figures_house_figures_component__WEBPACK_IMPORTED_MODULE_4__["HouseFiguresComponent"] }
        ]
    }];
var CalculatorsRoutingModule = /** @class */ (function () {
    function CalculatorsRoutingModule() {
    }
    CalculatorsRoutingModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forChild(routes)],
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]]
        })
    ], CalculatorsRoutingModule);
    return CalculatorsRoutingModule;
}());



/***/ }),

/***/ "./src/app/modules/calculators/calculators.module.ts":
/*!***********************************************************!*\
  !*** ./src/app/modules/calculators/calculators.module.ts ***!
  \***********************************************************/
/*! exports provided: CalculatorsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CalculatorsModule", function() { return CalculatorsModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/flex-layout */ "./node_modules/@angular/flex-layout/esm5/flex-layout.es5.js");
/* harmony import */ var _modules_shared_custom_material_design_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../modules/shared/custom-material-design.module */ "./src/app/modules/shared/custom-material-design.module.ts");
/* harmony import */ var _modules_shared_shared_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../modules/shared/shared.module */ "./src/app/modules/shared/shared.module.ts");
/* harmony import */ var _calculators_routing_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./calculators-routing.module */ "./src/app/modules/calculators/calculators-routing.module.ts");
/* harmony import */ var _components_equity_equity_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/equity/equity.component */ "./src/app/modules/calculators/components/equity/equity.component.ts");
/* harmony import */ var _components_calculators_dashboard_calculators_dashboard_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/calculators-dashboard/calculators-dashboard.component */ "./src/app/modules/calculators/components/calculators-dashboard/calculators-dashboard.component.ts");
/* harmony import */ var _components_house_figures_house_figures_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/house-figures/house-figures.component */ "./src/app/modules/calculators/components/house-figures/house-figures.component.ts");
/* harmony import */ var _components_house_figures_results_house_figures_results_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/house-figures-results/house-figures-results.component */ "./src/app/modules/calculators/components/house-figures-results/house-figures-results.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};











var CalculatorsModule = /** @class */ (function () {
    function CalculatorsModule() {
    }
    CalculatorsModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _calculators_routing_module__WEBPACK_IMPORTED_MODULE_6__["CalculatorsRoutingModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _angular_flex_layout__WEBPACK_IMPORTED_MODULE_3__["FlexLayoutModule"],
                _modules_shared_custom_material_design_module__WEBPACK_IMPORTED_MODULE_4__["CustomMaterialDesignModule"],
                _modules_shared_shared_module__WEBPACK_IMPORTED_MODULE_5__["SharedModule"]
            ],
            exports: [
                _components_house_figures_results_house_figures_results_component__WEBPACK_IMPORTED_MODULE_10__["HouseFiguresResultsComponent"]
            ],
            declarations: [
                _components_equity_equity_component__WEBPACK_IMPORTED_MODULE_7__["EquityComponent"],
                _components_calculators_dashboard_calculators_dashboard_component__WEBPACK_IMPORTED_MODULE_8__["CalculatorsDashboardComponent"],
                _components_house_figures_house_figures_component__WEBPACK_IMPORTED_MODULE_9__["HouseFiguresComponent"],
                _components_house_figures_results_house_figures_results_component__WEBPACK_IMPORTED_MODULE_10__["HouseFiguresResultsComponent"]
            ]
        })
    ], CalculatorsModule);
    return CalculatorsModule;
}());



/***/ }),

/***/ "./src/app/modules/calculators/components/calculators-dashboard/calculators-dashboard.component.html":
/*!***********************************************************************************************************!*\
  !*** ./src/app/modules/calculators/components/calculators-dashboard/calculators-dashboard.component.html ***!
  \***********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/modules/calculators/components/calculators-dashboard/calculators-dashboard.component.scss":
/*!***********************************************************************************************************!*\
  !*** ./src/app/modules/calculators/components/calculators-dashboard/calculators-dashboard.component.scss ***!
  \***********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY2FsY3VsYXRvcnMvY29tcG9uZW50cy9jYWxjdWxhdG9ycy1kYXNoYm9hcmQvY2FsY3VsYXRvcnMtZGFzaGJvYXJkLmNvbXBvbmVudC5zY3NzIn0= */"

/***/ }),

/***/ "./src/app/modules/calculators/components/calculators-dashboard/calculators-dashboard.component.ts":
/*!*********************************************************************************************************!*\
  !*** ./src/app/modules/calculators/components/calculators-dashboard/calculators-dashboard.component.ts ***!
  \*********************************************************************************************************/
/*! exports provided: CalculatorsDashboardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CalculatorsDashboardComponent", function() { return CalculatorsDashboardComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_components_main_navigator_main_navigator_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../shared/components/main-navigator/main-navigator.service */ "./src/app/modules/shared/components/main-navigator/main-navigator.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var CalculatorsDashboardComponent = /** @class */ (function () {
    function CalculatorsDashboardComponent(mainNavigatorService) {
        this.mainNavigatorService = mainNavigatorService;
    }
    CalculatorsDashboardComponent.prototype.ngOnInit = function () {
        this.mainNavigatorService.setLinks([
            { displayName: 'Welcome', url: '/welcome', selected: false },
            { displayName: 'Calculators', url: null, selected: true },
            { displayName: 'Equity', url: '/calculators/equity', selected: false },
            { displayName: 'House figures', url: '/calculators/house-figures', selected: false }
        ]);
    };
    CalculatorsDashboardComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-calculators-dashboard',
            template: __webpack_require__(/*! ./calculators-dashboard.component.html */ "./src/app/modules/calculators/components/calculators-dashboard/calculators-dashboard.component.html"),
            styles: [__webpack_require__(/*! ./calculators-dashboard.component.scss */ "./src/app/modules/calculators/components/calculators-dashboard/calculators-dashboard.component.scss")]
        }),
        __metadata("design:paramtypes", [_shared_components_main_navigator_main_navigator_service__WEBPACK_IMPORTED_MODULE_1__["MainNavigatorService"]])
    ], CalculatorsDashboardComponent);
    return CalculatorsDashboardComponent;
}());



/***/ }),

/***/ "./src/app/modules/calculators/components/equity/equity.component.html":
/*!*****************************************************************************!*\
  !*** ./src/app/modules/calculators/components/equity/equity.component.html ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"calculator__container\" fxLayout=\"column\" fxLayout.gt-sm=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-sm=\"center none\">\r\n  <!--  form  -->\r\n  <form class=\"form__container form__equity-calc\" #equityForm=\"ngForm\" novalidate fxLayout=\"column\" fxLayoutGap=\"10px\" >\r\n    <section fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"form__fields\">\r\n      <div fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n          <!-- Purchase price -->\r\n          <mat-form-field fxFlex  class=\"form__field\">\r\n            <input matInput type=\"number\" id=\"purchasePrice\" name=\"purchasePrice\" placeholder=\"Purchase price\" \r\n                [(ngModel)]=\"model.purchasePrice\" \r\n                numberValidator\r\n                [value]=\"model.purchasePrice\"\r\n                #purchasePrice=\"ngModel\">\r\n            \r\n            <mat-icon matPrefix>attach_money</mat-icon>\r\n            <mat-error *ngIf=\"purchasePrice.invalid && (purchasePrice.dirty || purchasePrice.touched) && purchasePrice.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n          </mat-form-field>\r\n          \r\n          <!-- Market value -->\r\n          <mat-form-field fxFlex  class=\"form__field\">\r\n            <input matInput type=\"number\" id=\"marketValue\" name=\"marketValue\" placeholder=\"Market value\" \r\n                [(ngModel)]=\"model.marketValue\" \r\n                numberValidator\r\n                [value]=\"model.marketValue\"\r\n                #marketValue=\"ngModel\">\r\n            \r\n            <mat-icon matPrefix>attach_money</mat-icon>\r\n            <mat-error *ngIf=\"marketValue.invalid && (marketValue.dirty || marketValue.touched) && marketValue.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n\r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n          <!-- Loan coverage -->\r\n          <div fxFlex=\"none\" fxFlex.gt-xs fxLayout=\"column\" class=\"form__field slider__field\">\r\n            <label class=\"slider__label\">Loan coverage</label>\r\n            <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"start center\">\r\n              <mat-slider fxFlex id=\"loanCoverage\" name=\"loanCoverage\"\r\n                  color=\"accent\"\r\n                  [max]=\"100\"\r\n                  [min]=\"0\"\r\n                  [step]=\"1\"\r\n                  thumbLabel=\"true\"\r\n                  tickInterval=\"1\"\r\n                  [(ngModel)]=\"model.loanCoverage\"\r\n                  [value]=\"model.loanCoverage\"> \r\n              </mat-slider>\r\n              <span *ngIf=\"model.loanCoverage\">{{model.loanCoverage}}%</span>\r\n            </div>\r\n            <label class=\"mat-hint slider__label__hint\">Percentage of the purchase price covered by the loan.</label>\r\n          </div>\r\n\r\n          <!-- Savings -->\r\n          <mat-form-field fxFlex  class=\"form__field\">\r\n            <input matInput type=\"number\" id=\"savings\" name=\"savings\" placeholder=\"Savings\" \r\n                [(ngModel)]=\"model.savings\" \r\n                numberValidator\r\n                [value]=\"model.savings\"\r\n                #savings=\"ngModel\">\r\n\r\n            <mat-icon matPrefix>attach_money</mat-icon>\r\n            <mat-error *ngIf=\"savings.invalid && (savings.dirty || savings.touched) && savings.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n\r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n           <!-- Renovation cost -->\r\n           <mat-form-field fxFlex  class=\"form__field\">\r\n              <input matInput type=\"number\" id=\"renovationCost\" name=\"renovationCost\" placeholder=\"Renovation cost\" \r\n                  [(ngModel)]=\"model.renovationCost\" \r\n                  [value]=\"model.renovationCost\"\r\n                  numberValidator\r\n                  #renovationCost=\"ngModel\">\r\n  \r\n                  <mat-icon matPrefix>attach_money</mat-icon>\r\n                  <mat-hint align=\"start\">The cost to do all the renovations.</mat-hint>\r\n                  <mat-error *ngIf=\"renovationCost.invalid && (renovationCost.dirty || renovationCost.touched) && renovationCost.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n            </mat-form-field>\r\n\r\n            <!-- Loan amount paid -->\r\n            <mat-form-field fxFlex  class=\"form__field\">\r\n              <input matInput type=\"number\" id=\"loanAmountPaid\" name=\"loanAmountPaid\" placeholder=\"Loan amount paid\" \r\n                  [(ngModel)]=\"model.loanAmountPaid\" \r\n                  [value]=\"model.loanAmountPaid\"\r\n                  numberValidator\r\n                  #loanAmountPaid=\"ngModel\">\r\n  \r\n                  <mat-icon matPrefix>attach_money</mat-icon>\r\n                  <mat-hint align=\"start\">The amount of money paid back to the lender.</mat-hint>\r\n                  <mat-error *ngIf=\"loanAmountPaid.invalid && (loanAmountPaid.dirty || loanAmountPaid.touched) && loanAmountPaid.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n            </mat-form-field>\r\n        </div>\r\n\r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n          <!-- Second loan coverage -->\r\n          <div fxFlex=\"none\" fxFlex.gt-xs fxLayout=\"column\" class=\"form__field slider__field\">\r\n            <label class=\"slider__label\">Second loan coverage</label>\r\n            <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"start center\">\r\n              <mat-slider fxFlex id=\"secondLoanCoverage\" name=\"secondLoanCoverage\"\r\n                  color=\"accent\"\r\n                  [max]=\"100\"\r\n                  [min]=\"0\"\r\n                  [step]=\"1\"\r\n                  thumbLabel=\"true\"\r\n                  tickInterval=\"1\"\r\n                  [(ngModel)]=\"model.secondLoanCoverage\"\r\n                  [value]=\"model.secondLoanCoverage\"> \r\n              </mat-slider>\r\n              <span *ngIf=\"model.secondLoanCoverage\">{{model.secondLoanCoverage}}%</span>\r\n            </div>\r\n            <label class=\"mat-hint slider__label__hint\">Percentage of the purchase price of a new property covered by a second loan.</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </form>\r\n\r\n  <!-- Results -->\r\n  <section fxLayout=\"column\" fxLayoutGap=\"10px\" fxFlex fxFlex.gt-sm=\"300px\" class=\"calculator__results\">\r\n    <mat-card>\r\n      <mat-card-title class=\"mat-card-title--ac\">Results</mat-card-title>\r\n\r\n      <mat-card-content fxLayout=\"column\" fxLayoutGap=\"10px\">\r\n\r\n        <div fxLayout.xs=\"column\" fxLayout.gt-xs=\"row\" fxLayout.gt-sm=\"column\" \r\n            fxLayoutGap.xs=\"10px\"fxLayoutGap.gt-xs=\"50px\" fxLayoutGap.gt-sm=\"10px\"\r\n            fxLayoutAlign.xs=\"start none\" fxLayoutAlign.gt-xs=\"space-between none\" fxLayoutAlign.gt-sm=\"start none\">\r\n\r\n          <div fxFlex.xs=\"none\" fxFlex.gt-xs fxFlex.gt-sm=\"none\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n            <info-tooltip\r\n                title=\"Loan amount\"></info-tooltip>\r\n            <span>{{loanAmount | currency : 'USD' : 'symbol' : '1.2-2'}}</span>\r\n          </div>\r\n  \r\n          <div fxFlex.xs=\"none\" fxFlex.gt-xs fxFlex.gt-sm=\"none\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n            <info-tooltip\r\n                title=\"Deposit amount\"></info-tooltip>\r\n            <span>{{depositAmount | currency : 'USD' : 'symbol' : '1.2-2'}}</span>\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <div fxLayout.xs=\"column\" fxLayout.gt-xs=\"row\" fxLayout.gt-sm=\"column\" \r\n            fxLayoutGap.xs=\"10px\"fxLayoutGap.gt-xs=\"50px\" fxLayoutGap.gt-sm=\"10px\"\r\n            fxLayoutAlign.xs=\"start none\" fxLayoutAlign.gt-xs=\"space-between none\" fxLayoutAlign.gt-sm=\"start none\">\r\n\r\n          <div fxFlex.xs=\"none\" fxFlex.gt-xs fxFlex.gt-sm=\"none\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n            <info-tooltip\r\n                title=\"Discount\"></info-tooltip>\r\n            <span>{{discount | currency : 'USD' : 'symbol' : '1.2-2'}}</span>\r\n          </div>\r\n  \r\n          <div fxFlex.xs=\"none\" fxFlex.gt-xs fxFlex.gt-sm=\"none\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n            <info-tooltip\r\n                title=\"Equity\"></info-tooltip>\r\n            <span>{{equity | currency : 'USD' : 'symbol' : '1.2-2'}}</span>\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <div fxLayout.xs=\"column\" fxLayout.gt-xs=\"row\" fxLayout.gt-sm=\"column\" \r\n            fxLayoutGap.xs=\"10px\"fxLayoutGap.gt-xs=\"50px\" fxLayoutGap.gt-sm=\"10px\"\r\n            fxLayoutAlign.xs=\"start none\" fxLayoutAlign.gt-xs=\"space-between none\" fxLayoutAlign.gt-sm=\"start none\">\r\n  \r\n          <div fxFlex.xs=\"none\" fxFlex.gt-xs fxFlex.gt-sm=\"none\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n            <info-tooltip\r\n                title=\"Usable equity\"></info-tooltip>\r\n            <span>{{usableEquity | currency : 'USD' : 'symbol' : '1.2-2'}}</span>\r\n          </div>\r\n\r\n          <div fxFlex.xs=\"none\" fxFlex.gt-xs fxFlex.gt-sm=\"none\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n            <info-tooltip\r\n                title=\"Purchase capacity\"\r\n                text=\"Maximum purchase capacity based on the usable equity and the second loan coverage.\"></info-tooltip>\r\n            <span>{{purchaseCapacity | currency : 'USD' : 'symbol' : '1.2-2'}}</span>\r\n          </div>\r\n        </div>\r\n\r\n      </mat-card-content>\r\n    </mat-card>\r\n  </section>\r\n</div>"

/***/ }),

/***/ "./src/app/modules/calculators/components/equity/equity.component.scss":
/*!*****************************************************************************!*\
  !*** ./src/app/modules/calculators/components/equity/equity.component.scss ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY2FsY3VsYXRvcnMvY29tcG9uZW50cy9lcXVpdHkvZXF1aXR5LmNvbXBvbmVudC5zY3NzIn0= */"

/***/ }),

/***/ "./src/app/modules/calculators/components/equity/equity.component.ts":
/*!***************************************************************************!*\
  !*** ./src/app/modules/calculators/components/equity/equity.component.ts ***!
  \***************************************************************************/
/*! exports provided: EquityComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EquityComponent", function() { return EquityComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_components_main_navigator_main_navigator_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../shared/components/main-navigator/main-navigator.service */ "./src/app/modules/shared/components/main-navigator/main-navigator.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var EquityComponent = /** @class */ (function () {
    function EquityComponent(mainNavigatorService) {
        this.mainNavigatorService = mainNavigatorService;
        this.loanAmount = 0;
        this.discount = 0;
        this.equity = 0;
        this.depositAmount = 0;
        this.usableEquity = 0;
        this.purchaseCapacity = 0;
        this.model = {
            purchasePrice: 0,
            marketValue: 0,
            loanCoverage: 80,
            savings: 0,
            renovationCost: 0,
            loanAmountPaid: 0,
            secondLoanCoverage: 65
        };
        this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subscription"]();
    }
    EquityComponent.prototype.ngOnInit = function () {
        this.mainNavigatorService.setLinks([
            { displayName: 'Welcome', url: '/welcome', selected: false },
            { displayName: 'Calculators', url: '/calculators', selected: false },
            { displayName: 'Equity', url: null, selected: true },
            { displayName: 'House figures', url: '/calculators/house-figures', selected: false }
        ]);
    };
    EquityComponent.prototype.ngOnDestroy = function () {
        var methodTrace = this.constructor.name + " > ngOnDestroy() > "; // for debugging
        // this.appService.consoleLog('info', `${methodTrace} Component destroyed.`);
        this.subscription.unsubscribe();
    };
    EquityComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        var newSubscription = this.form.valueChanges.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["debounceTime"])(500)).subscribe(function (values) {
            _this.loanAmount = values.purchasePrice * (values.loanCoverage / 100);
            _this.discount = values.marketValue - values.purchasePrice - values.renovationCost;
            _this.depositAmount = values.purchasePrice - _this.loanAmount;
            _this.equity = values.savings + _this.discount + _this.depositAmount;
            _this.usableEquity = values.marketValue * (_this.model.loanCoverage / 100) - _this.loanAmount + values.loanAmountPaid + values.savings;
            _this.purchaseCapacity = (_this.usableEquity * 100) / (100 - values.secondLoanCoverage);
        });
        this.subscription.add(newSubscription);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('equityForm'),
        __metadata("design:type", Object)
    ], EquityComponent.prototype, "form", void 0);
    EquityComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-equity',
            template: __webpack_require__(/*! ./equity.component.html */ "./src/app/modules/calculators/components/equity/equity.component.html"),
            styles: [__webpack_require__(/*! ./equity.component.scss */ "./src/app/modules/calculators/components/equity/equity.component.scss")]
        }),
        __metadata("design:paramtypes", [_shared_components_main_navigator_main_navigator_service__WEBPACK_IMPORTED_MODULE_1__["MainNavigatorService"]])
    ], EquityComponent);
    return EquityComponent;
}());



/***/ }),

/***/ "./src/app/modules/calculators/components/house-figures-results/house-figures-results.component.html":
/*!***********************************************************************************************************!*\
  !*** ./src/app/modules/calculators/components/house-figures-results/house-figures-results.component.html ***!
  \***********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-card>\r\n  <mat-card-title *ngIf=\"title\" class=\"mat-card-title--ac\">\r\n    {{title}}\r\n  </mat-card-title>\r\n  <mat-card-subtitle *ngIf=\"subtitle\">\r\n    {{subtitle}}\r\n  </mat-card-subtitle>\r\n\r\n  <mat-card-content fxLayout=\"column\" fxLayoutGap=\"10px\">\r\n\r\n    <div fxLayout.xs=\"column\" fxLayout.gt-xs=\"row\" fxLayout.gt-sm=\"column\" \r\n        fxLayoutGap.xs=\"10px\"fxLayoutGap.gt-xs=\"50px\" fxLayoutGap.gt-sm=\"10px\"\r\n        fxLayoutAlign.xs=\"start none\" fxLayoutAlign.gt-xs=\"space-between none\" fxLayoutAlign.gt-sm=\"start none\">\r\n\r\n      <div fxFlex.xs=\"none\" fxFlex.gt-xs fxFlex.gt-sm=\"none\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n        <info-tooltip\r\n            title=\"Gross yield\" \r\n            text=\"Ratio between Gross annual rent / purchase price (as percentage)\"\r\n            position=\"right\"></info-tooltip>\r\n        <span>{{grossYield | percent : '1.1-2'}}</span>\r\n      </div>\r\n\r\n      <div fxFlex.xs=\"none\" fxFlex.gt-xs fxFlex.gt-sm=\"none\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n        <info-tooltip \r\n            title=\"Net yield\" \r\n            text=\"Ratio between (Net annual rent - Expenses) / Purchase price * 100\"\r\n            position=\"right\"></info-tooltip>\r\n        <span>{{netYield | percent : '1.1-2'}}</span>\r\n      </div>\r\n\r\n    </div>\r\n    \r\n    <div fxLayout.xs=\"column\" fxLayout.gt-xs=\"row\" fxLayout.gt-sm=\"column\" \r\n        fxLayoutGap.xs=\"10px\"fxLayoutGap.gt-xs=\"50px\" fxLayoutGap.gt-sm=\"10px\"\r\n        fxLayoutAlign.xs=\"start none\" fxLayoutAlign.gt-xs=\"space-between none\" fxLayoutAlign.gt-sm=\"start none\">\r\n\r\n      <div fxFlex.xs=\"none\" fxFlex.gt-xs fxFlex.gt-sm=\"none\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n        <info-tooltip title=\"Gross annual rent\" text=\"Rent a week * 52\"></info-tooltip>\r\n        <span>{{grossAnnualRent | currency : 'USD' : 'symbol' : '1.2-2'}}</span>\r\n      </div>\r\n\r\n      <div fxFlex.xs=\"none\" fxFlex.gt-xs fxFlex.gt-sm=\"none\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n        <info-tooltip title=\"Net annual rent\" text=\"Gross annual rent - Vacancy\"></info-tooltip>\r\n        <span>{{netAnnualRent | currency : 'USD' : 'symbol' : '1.2-2'}}</span>\r\n      </div>\r\n\r\n    </div>\r\n    \r\n    <div fxLayout.xs=\"column\" fxLayout.gt-xs=\"row\" fxLayout.gt-sm=\"column\" \r\n        fxLayoutGap.xs=\"10px\"fxLayoutGap.gt-xs=\"50px\" fxLayoutGap.gt-sm=\"10px\"\r\n        fxLayoutAlign.xs=\"start none\" fxLayoutAlign.gt-xs=\"space-between none\" fxLayoutAlign.gt-sm=\"start none\">\r\n\r\n      <div fxFlex.xs=\"none\" fxFlex.gt-xs fxFlex.gt-sm=\"none\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n        <info-tooltip title=\"Loan interest\" \r\n            text=\"The interest of the loan based in the specified interest rate.\"\r\n            position=\"right\"></info-tooltip>\r\n        <span>{{loanInterest | currency : 'USD' : 'symbol' : '1.2-2'}}</span>\r\n      </div>\r\n\r\n      <div fxFlex.xs=\"none\" fxFlex.gt-xs fxFlex.gt-sm=\"none\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n        <info-tooltip title=\"Loan repayments\" text=\"{{loanRepaymentsLabels[paymentFrecuency]}}\"></info-tooltip>\r\n        <span>{{loanRepayments | currency : 'USD' : 'symbol' : '1.2-2'}}</span>\r\n      </div>\r\n    </div>\r\n\r\n    <div fxLayout.xs=\"column\" fxLayout.gt-xs=\"row\" fxLayout.gt-sm=\"column\" \r\n        fxLayoutGap.xs=\"10px\"fxLayoutGap.gt-xs=\"50px\" fxLayoutGap.gt-sm=\"10px\"\r\n        fxLayoutAlign.xs=\"start none\" fxLayoutAlign.gt-xs=\"space-between none\" fxLayoutAlign.gt-sm=\"start none\">\r\n\r\n      <div fxFlex.xs=\"none\" fxFlex.gt-xs fxFlex.gt-sm=\"none\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n        <info-tooltip title=\"Pre tax cashflow\" text=\"Net annual rent - Expenses - Loan interest\"></info-tooltip>\r\n        <span>{{preTaxCashflow | currency : 'USD' : 'symbol' : '1.2-2'}}</span>\r\n      </div>\r\n\r\n      <div fxFlex.xs=\"none\" fxFlex.gt-xs fxFlex.gt-sm=\"none\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n        <info-tooltip title=\"Discount\"></info-tooltip>\r\n        <span>{{discount | percent : '1.1-2'}}</span>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <div fxLayout.xs=\"column\" fxLayout.gt-xs=\"row\" fxLayout.gt-sm=\"column\" \r\n        fxLayoutGap.xs=\"10px\"fxLayoutGap.gt-xs=\"50px\" fxLayoutGap.gt-sm=\"10px\"\r\n        fxLayoutAlign.xs=\"start none\" fxLayoutAlign.gt-xs=\"space-between none\" fxLayoutAlign.gt-sm=\"start none\">\r\n\r\n      <div fxFlex.xs=\"none\" fxFlex.gt-xs fxFlex.gt-sm=\"none\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n        <info-tooltip title=\"Total 1 year return\" text=\"Capital growth + Market value - Purchase price - Renovations + Pre tax cashflow\"></info-tooltip>\r\n        <span>{{totalFirstYearReturn | currency : 'USD' : 'symbol' : '1.2-2'}}</span>\r\n      </div>\r\n\r\n      <div fxFlex.xs=\"none\" fxFlex.gt-xs fxFlex.gt-sm=\"none\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n        <info-tooltip title=\"Deposit\" text=\"\"></info-tooltip>\r\n        <span>{{deposit | currency : 'USD' : 'symbol' : '1.2-2'}}</span>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <div fxLayout.xs=\"column\" fxLayout.gt-xs=\"row\" fxLayout.gt-sm=\"column\" \r\n        fxLayoutGap.xs=\"10px\"fxLayoutGap.gt-xs=\"50px\" fxLayoutGap.gt-sm=\"10px\"\r\n        fxLayoutAlign.xs=\"start none\" fxLayoutAlign.gt-xs=\"space-between none\" fxLayoutAlign.gt-sm=\"start none\">\r\n\r\n      <div fxFlex.xs=\"none\" fxFlex.gt-xs fxFlex.gt-sm=\"none\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n        <info-tooltip title=\"Return on deposit\" text=\"Ratio between Total 1st year return / Deposit * 100\"></info-tooltip>\r\n        <span>{{returnOnDeposit | percent : '1.1-2'}}</span>\r\n      </div>\r\n      \r\n      <div fxFlex.xs=\"none\" fxFlex.gt-xs fxFlex.gt-sm=\"none\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n        <info-tooltip title=\"Capital growth\" text=\"\"></info-tooltip>\r\n        <span>{{capitalGrowths | currency : 'USD' : 'symbol' : '1.2-2'}}</span>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <div fxLayout.xs=\"column\" fxLayout.gt-xs=\"row\" fxLayout.gt-sm=\"column\" \r\n        fxLayoutGap.xs=\"10px\"fxLayoutGap.gt-xs=\"50px\" fxLayoutGap.gt-sm=\"10px\"\r\n        fxLayoutAlign.xs=\"start none\" fxLayoutAlign.gt-xs=\"space-between none\" fxLayoutAlign.gt-sm=\"start none\">\r\n\r\n      <div fxFlex.xs=\"none\" fxFlex.gt-xs fxFlex.gt-sm=\"none\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n        <info-tooltip title=\"Expenses\" text=\"Sums all the expenses in detailed before\"></info-tooltip>\r\n        <span>{{expenses | currency : 'USD' : 'symbol' : '1.2-2'}}</span>\r\n      </div>\r\n\r\n      <div fxFlex.xs=\"none\" fxFlex.gt-xs fxFlex.gt-sm=\"none\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n        <info-tooltip title=\"Anual cashflow\" text=\"Gross anual rent - Loan repay. * Repay frec - Expenses\"></info-tooltip>\r\n        <span>{{cashflow | currency : 'USD' : 'symbol' : '1.2-2'}}</span>\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </mat-card-content>\r\n</mat-card>"

/***/ }),

/***/ "./src/app/modules/calculators/components/house-figures-results/house-figures-results.component.scss":
/*!***********************************************************************************************************!*\
  !*** ./src/app/modules/calculators/components/house-figures-results/house-figures-results.component.scss ***!
  \***********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY2FsY3VsYXRvcnMvY29tcG9uZW50cy9ob3VzZS1maWd1cmVzLXJlc3VsdHMvaG91c2UtZmlndXJlcy1yZXN1bHRzLmNvbXBvbmVudC5zY3NzIn0= */"

/***/ }),

/***/ "./src/app/modules/calculators/components/house-figures-results/house-figures-results.component.ts":
/*!*********************************************************************************************************!*\
  !*** ./src/app/modules/calculators/components/house-figures-results/house-figures-results.component.ts ***!
  \*********************************************************************************************************/
/*! exports provided: HouseFiguresResultsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HouseFiguresResultsComponent", function() { return HouseFiguresResultsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var HouseFiguresResultsComponent = /** @class */ (function () {
    function HouseFiguresResultsComponent() {
        this.title = null;
        this.subtitle = null;
        this.purchasePrice = 0;
        this.capitalGrowth = 0;
        this.marketValue = 0;
        this.loanCoverage = 0;
        this.interestRates = 0;
        this.loanTerm = 0;
        this.paymentFrecuency = '26';
        this.rentPrice = 0;
        this.rentPaymentFrecuency = 'weekly';
        this.vacancy = 0;
        this.renovationCost = 0;
        this.mantainanceCost = 0;
        this.bodyCorporate = 0;
        this.houseRates = 0;
        this.utilities = 0;
        this.insurance = 0;
        this.otherCosts = 0;
        this.managed = 0;
        this.grossAnnualRent = 0;
        this.netAnnualRent = 0;
        this.grossYield = 0;
        this.netYield = 0;
        this.expenses = 0;
        this.loanInterest = 0;
        this.loanRepayments = 0;
        this.loanRepaymentsLabels = { '12': 'Monthly', '26': 'Fortnightly', '52': 'Weekly' };
        this.preTaxCashflow = 0;
        this.discount = 0;
        this.capitalGrowths = 0;
        this.totalFirstYearReturn = 0;
        this.deposit = 0;
        this.returnOnDeposit = 0;
        this.cashflow = 0;
    }
    HouseFiguresResultsComponent.prototype.ngOnInit = function () {
    };
    HouseFiguresResultsComponent.prototype.ngOnChanges = function (changes) {
        // any time something changes then refresh all values
        var weeklyRent = this.getRentPricePerWeek();
        this.grossAnnualRent = weeklyRent * 52;
        this.netAnnualRent = this.grossAnnualRent - weeklyRent * this.vacancy;
        this.grossYield = this.grossAnnualRent / this.purchasePrice;
        this.expenses = this.renovationCost + this.mantainanceCost + this.bodyCorporate + this.houseRates + this.utilities + this.insurance
            + this.otherCosts + this.netAnnualRent * (this.managed / 100);
        this.netYield = (this.netAnnualRent - this.expenses) / this.purchasePrice;
        this.loanInterest = this.purchasePrice * (this.interestRates / 100);
        var numberOfPayments = this.loanTerm * parseInt(this.paymentFrecuency, 10);
        var periodicInterestRate = (this.interestRates / 100) / parseInt(this.paymentFrecuency, 10);
        var loanDiscountFactor = (Math.pow(1 + periodicInterestRate, numberOfPayments) - 1) / (periodicInterestRate * Math.pow(1 + periodicInterestRate, numberOfPayments));
        this.loanRepayments = (this.purchasePrice * (this.loanCoverage / 100)) / loanDiscountFactor;
        this.preTaxCashflow = this.netAnnualRent - this.expenses - this.loanInterest;
        this.discount = (this.marketValue - this.purchasePrice - this.renovationCost) / (this.marketValue || 1);
        this.capitalGrowths = this.marketValue * (this.capitalGrowth / 100);
        this.totalFirstYearReturn = this.capitalGrowths + this.marketValue - this.purchasePrice - this.renovationCost + this.preTaxCashflow;
        this.deposit = this.purchasePrice * (1 - this.loanCoverage / 100);
        this.returnOnDeposit = this.totalFirstYearReturn / this.deposit;
        this.cashflow = this.netAnnualRent - parseInt(this.paymentFrecuency, 10) * this.loanRepayments - this.expenses;
    };
    /**
     * Calculates the price per week.
     */
    HouseFiguresResultsComponent.prototype.getRentPricePerWeek = function () {
        var price = 0;
        if (this.rentPrice) {
            price = this.rentPaymentFrecuency === 'monthly' ? this.rentPrice * 12 / 52 : this.rentPrice;
        }
        return price;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], HouseFiguresResultsComponent.prototype, "title", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], HouseFiguresResultsComponent.prototype, "subtitle", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], HouseFiguresResultsComponent.prototype, "purchasePrice", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], HouseFiguresResultsComponent.prototype, "capitalGrowth", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], HouseFiguresResultsComponent.prototype, "marketValue", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], HouseFiguresResultsComponent.prototype, "loanCoverage", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], HouseFiguresResultsComponent.prototype, "interestRates", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], HouseFiguresResultsComponent.prototype, "loanTerm", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], HouseFiguresResultsComponent.prototype, "paymentFrecuency", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], HouseFiguresResultsComponent.prototype, "rentPrice", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], HouseFiguresResultsComponent.prototype, "rentPaymentFrecuency", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], HouseFiguresResultsComponent.prototype, "vacancy", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], HouseFiguresResultsComponent.prototype, "renovationCost", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], HouseFiguresResultsComponent.prototype, "mantainanceCost", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], HouseFiguresResultsComponent.prototype, "bodyCorporate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], HouseFiguresResultsComponent.prototype, "houseRates", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], HouseFiguresResultsComponent.prototype, "utilities", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], HouseFiguresResultsComponent.prototype, "insurance", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], HouseFiguresResultsComponent.prototype, "otherCosts", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], HouseFiguresResultsComponent.prototype, "managed", void 0);
    HouseFiguresResultsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'house-figures-results',
            template: __webpack_require__(/*! ./house-figures-results.component.html */ "./src/app/modules/calculators/components/house-figures-results/house-figures-results.component.html"),
            styles: [__webpack_require__(/*! ./house-figures-results.component.scss */ "./src/app/modules/calculators/components/house-figures-results/house-figures-results.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], HouseFiguresResultsComponent);
    return HouseFiguresResultsComponent;
}());



/***/ }),

/***/ "./src/app/modules/calculators/components/house-figures/house-figures.component.html":
/*!*******************************************************************************************!*\
  !*** ./src/app/modules/calculators/components/house-figures/house-figures.component.html ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"calculator__container\" fxLayout=\"column\" fxLayout.gt-sm=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-sm=\"center none\">\r\n  <!-- Form  -->\r\n  <form class=\"form__container form__house-figures-calc\" #houseFiguresForm=\"ngForm\" novalidate fxLayout=\"column\" fxLayoutGap=\"10px\" >\r\n    <section fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"form__fields\">\r\n      <div fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n        <h3 class=\"title\">\r\n          <p class=\"header\">Property value</p>\r\n        </h3>\r\n  \r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n          <!-- Purchase price -->\r\n          <mat-form-field fxFlex  class=\"form__field\">\r\n            <input matInput type=\"number\" id=\"purchasePrice\" name=\"purchasePrice\" placeholder=\"Purchase price\" \r\n                [(ngModel)]=\"model.purchasePrice\" \r\n                numberValidator\r\n                [value]=\"model.purchasePrice\"\r\n                #purchasePrice=\"ngModel\">\r\n            \r\n            <mat-icon matPrefix>attach_money</mat-icon>\r\n            <mat-error *ngIf=\"purchasePrice.invalid && (purchasePrice.dirty || purchasePrice.touched) && purchasePrice.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n          </mat-form-field>\r\n          \r\n          <!-- Market value -->\r\n          <mat-form-field fxFlex  class=\"form__field\">\r\n            <input matInput type=\"number\" id=\"marketValue\" name=\"marketValue\" placeholder=\"Market value\" \r\n                [(ngModel)]=\"model.marketValue\" \r\n                numberValidator\r\n                [value]=\"model.marketValue\"\r\n                #marketValue=\"ngModel\">\r\n\r\n            <mat-icon matPrefix>attach_money</mat-icon>\r\n            <mat-error *ngIf=\"marketValue.invalid && (marketValue.dirty || marketValue.touched) && marketValue.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n          </mat-form-field>\r\n  \r\n          <!-- Capital growth -->\r\n          <mat-form-field fxFlex fxFlex.sm=\"140px\" fxFlex.gt-sm=\"200px\" class=\"form__field\">\r\n            <input matInput type=\"number\" id=\"capitalGrowth\" name=\"capitalGrowth\" placeholder=\"Capital growth\" \r\n                [(ngModel)]=\"model.capitalGrowth\" \r\n                [value]=\"model.capitalGrowth\"\r\n                numberValidator='{\"min\": 0, \"max\": 100}' \r\n                #capitalGrowth=\"ngModel\">\r\n            \r\n            <mat-icon matPrefix>trending_up</mat-icon>\r\n            <span matSuffix>%</span>\r\n            <mat-hint align=\"start\">Annual capital growth percentage for owning the property.</mat-hint>\r\n            <mat-error *ngIf=\"capitalGrowth.invalid && (capitalGrowth.dirty || capitalGrowth.touched) && capitalGrowth.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n            <mat-error *ngIf=\"capitalGrowth.invalid && (capitalGrowth.dirty || capitalGrowth.touched) && capitalGrowth.errors.numberValidatorMin\">Min value must be greater or equal than 0</mat-error>\r\n            <mat-error *ngIf=\"capitalGrowth.invalid && (capitalGrowth.dirty || capitalGrowth.touched) && capitalGrowth.errors.numberValidatorMax\">Max value must be less or equal than 100</mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n      </div>\r\n  \r\n      <div fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n        <h3 class=\"title\">\r\n          <p class=\"header\">Loan figures</p>\r\n        </h3>\r\n      \r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n          <!-- Loan coverage -->\r\n          <div fxFlex=\"none\" fxFlex.gt-xs fxLayout=\"column\" class=\"form__field slider__field\">\r\n            <label class=\"slider__label\">Loan coverage</label>\r\n            <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"start center\">\r\n              <mat-slider fxFlex id=\"loanCoverage\" name=\"loanCoverage\"\r\n                  color=\"accent\"\r\n                  [max]=\"100\"\r\n                  [min]=\"0\"\r\n                  [step]=\"1\"\r\n                  thumbLabel=\"true\"\r\n                  tickInterval=\"1\"\r\n                  [(ngModel)]=\"model.loanCoverage\"\r\n                  [value]=\"model.loanCoverage\"> \r\n              </mat-slider>\r\n              <span *ngIf=\"model.loanCoverage\">{{model.loanCoverage}}%</span>\r\n            </div>\r\n            <label class=\"mat-hint slider__label__hint\">Percentage of the purchase price covered by the lender.</label>\r\n          </div>\r\n  \r\n          <!-- Interest rates -->\r\n          <mat-form-field fxFlex  class=\"form__field\">\r\n            <input matInput type=\"number\" id=\"interestRates\" name=\"interestRates\" placeholder=\"Interest rates\" \r\n                [(ngModel)]=\"model.interestRates\" \r\n                numberValidator='{\"min\": 0, \"max\": 100}' \r\n                [value]=\"model.interestRates\"\r\n                #interestRates=\"ngModel\">\r\n\r\n            <mat-icon matPrefix>timeline</mat-icon>\r\n            <span matSuffix>%</span>\r\n            <mat-hint align=\"start\">Average loan interest rates (as a percentage).</mat-hint>\r\n            <mat-error *ngIf=\"interestRates.invalid && (interestRates.dirty || interestRates.touched) && interestRates.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n            <mat-error *ngIf=\"interestRates.invalid && (interestRates.dirty || interestRates.touched) && interestRates.errors.numberValidatorMin\">Min value must be greater or equal than 0</mat-error>\r\n            <mat-error *ngIf=\"interestRates.invalid && (interestRates.dirty || interestRates.touched) && interestRates.errors.numberValidatorMax\">Max value must be less or equal than 100</mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n\r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n          <!-- Loan term -->\r\n          <div fxFlex=\"none\" fxFlex.gt-xs fxLayout=\"column\" class=\"form__field slider__field\">\r\n            <label class=\"slider__label\">Term</label>\r\n            <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"start center\">\r\n              <mat-slider fxFlex id=\"loanTerm\" name=\"loanTerm\"\r\n                  color=\"accent\"\r\n                  [max]=\"30\"\r\n                  [min]=\"1\"\r\n                  [step]=\"1\"\r\n                  thumbLabel=\"true\"\r\n                  tickInterval=\"1\"\r\n                  [(ngModel)]=\"model.loanTerm\"\r\n                  [value]=\"model.loanTerm\"> \r\n              </mat-slider>\r\n              <span *ngIf=\"model.loanTerm\">{{model.loanTerm}} years</span>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Payment frecuency -->\r\n          <mat-form-field fxFlex class=\"form__field\">\r\n            <mat-select id=\"paymentFrecuency\" name=\"paymentFrecuency\" placeholder=\"Frecuency\" \r\n                [(ngModel)]=\"model.paymentFrecuency\" [value]=\"model.paymentFrecuency\">\r\n              <mat-option value=\"12\">Monthly</mat-option>\r\n              <mat-option value=\"26\">Fornightly</mat-option>\r\n              <mat-option value=\"52\">Weekly</mat-option>\r\n            </mat-select>\r\n            \r\n            <mat-hint align=\"start\">Payment frecuency</mat-hint>\r\n          </mat-form-field>\r\n        </div>\r\n      </div>\r\n  \r\n      <div fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n        <h3 class=\"title\">\r\n          <p class=\"header\">Rent figures</p>\r\n        </h3>\r\n      \r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n          <!-- Weekly rent -->\r\n          <mat-form-field fxFlex  class=\"form__field\">\r\n            <input matInput type=\"number\" id=\"rentPrice\" name=\"rentPrice\" placeholder=\"Weekly rent\" \r\n                [(ngModel)]=\"model.rentPrice\" \r\n                numberValidator\r\n                [value]=\"model.rentPrice\"\r\n                #rentPrice=\"ngModel\">\r\n  \r\n            <mat-icon matPrefix>attach_money</mat-icon>\r\n            <mat-error *ngIf=\"rentPrice.invalid && (rentPrice.dirty || rentPrice.touched) && rentPrice.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n          </mat-form-field>\r\n  \r\n          <!-- Vacancy -->\r\n          <mat-form-field fxFlex  class=\"form__field\">\r\n            <input matInput type=\"number\" id=\"vacancy\" name=\"vacancy\" placeholder=\"Vacancy\" \r\n                [(ngModel)]=\"model.vacancy\" \r\n                numberValidator\r\n                [value]=\"model.vacancy\"\r\n                #vacancy=\"ngModel\">\r\n  \r\n            <mat-hint align=\"start\">The number of weeks per year with no rent.</mat-hint>\r\n            <mat-error *ngIf=\"vacancy.invalid && (vacancy.dirty || vacancy.touched) && vacancy.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n          </mat-form-field>\r\n  \r\n          <!-- Rental manager -->\r\n          <div fxFlex=\"none\" fxFlex.gt-xs fxLayout=\"column\" class=\"form__field slider__field\">\r\n            <label class=\"slider__label\">Manager rate</label>\r\n            <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"start center\">\r\n              <mat-slider fxFlex id=\"managed\" name=\"managed\"\r\n                  color=\"accent\"\r\n                  [max]=\"20\"\r\n                  [min]=\"0\"\r\n                  [step]=\"1\"\r\n                  thumbLabel=\"true\"\r\n                  tickInterval=\"1\"\r\n                  [(ngModel)]=\"model.managed\"\r\n                  [value]=\"model.managed\"> \r\n              </mat-slider>\r\n              <span *ngIf=\"model.managed\">{{model.managed}}%</span>\r\n            </div>\r\n            <label class=\"mat-hint slider__label__hint\">Rental manager charge as a percentage of net annual rental income.</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n        \r\n      <div fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n        <h3 class=\"title\">\r\n          <p class=\"header\">Expenses</p>\r\n        </h3>\r\n  \r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n          <!-- Renovation cost -->\r\n          <mat-form-field fxFlex  class=\"form__field\">\r\n            <input matInput type=\"number\" id=\"renovationCost\" name=\"renovationCost\" placeholder=\"Renovation cost\" \r\n                [(ngModel)]=\"model.renovationCost\" \r\n                [value]=\"model.renovationCost\"\r\n                numberValidator\r\n                #renovationCost=\"ngModel\">\r\n\r\n                <mat-icon matPrefix>attach_money</mat-icon>\r\n                <mat-hint align=\"start\">The cost to do all the renovations.</mat-hint>\r\n                <mat-error *ngIf=\"renovationCost.invalid && (renovationCost.dirty || renovationCost.touched) && renovationCost.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n          </mat-form-field>\r\n  \r\n          <!-- Mantainance cost -->\r\n          <mat-form-field fxFlex  class=\"form__field\">\r\n            <input matInput type=\"number\" id=\"mantainanceCost\" name=\"mantainanceCost\" placeholder=\"Mantainance cost\" \r\n                [(ngModel)]=\"model.mantainanceCost\" \r\n                [value]=\"model.mantainanceCost\"\r\n                numberValidator\r\n                #mantainanceCost=\"ngModel\">\r\n\r\n                <mat-icon matPrefix>attach_money</mat-icon>\r\n                <mat-hint align=\"start\">The annual cost to maintain the property.</mat-hint>\r\n                <mat-error *ngIf=\"mantainanceCost.invalid && (mantainanceCost.dirty || mantainanceCost.touched) && mantainanceCost.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n\r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n          <!-- Body corporate -->\r\n          <mat-form-field fxFlex  class=\"form__field\">\r\n            <input matInput type=\"number\" id=\"bodyCorporate\" name=\"bodyCorporate\" placeholder=\"Body corporate\" \r\n                [(ngModel)]=\"model.bodyCorporate\" \r\n                [value]=\"model.bodyCorporate\"\r\n                numberValidator\r\n                #bodyCorporate=\"ngModel\">\r\n  \r\n                <mat-icon matPrefix>attach_money</mat-icon>\r\n                <mat-error *ngIf=\"bodyCorporate.invalid && (bodyCorporate.dirty || bodyCorporate.touched) && bodyCorporate.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n          </mat-form-field>\r\n  \r\n          <!-- House rates -->\r\n          <mat-form-field fxFlex  class=\"form__field\">\r\n            <input matInput type=\"number\" id=\"houseRates\" name=\"houseRates\" placeholder=\"House rates\" \r\n                [(ngModel)]=\"model.houseRates\" \r\n                [value]=\"model.houseRates\"\r\n                numberValidator\r\n                #houseRates=\"ngModel\">\r\n  \r\n                <mat-icon matPrefix>attach_money</mat-icon>\r\n                <mat-error *ngIf=\"houseRates.invalid && (houseRates.dirty || houseRates.touched) && houseRates.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n  \r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n          <!-- utilities -->\r\n          <mat-form-field fxFlex  class=\"form__field\">\r\n            <input matInput type=\"number\" id=\"utilities\" name=\"utilities\" placeholder=\"Utitities\" \r\n                [(ngModel)]=\"model.utilities\" \r\n                [value]=\"model.utilities\"\r\n                numberValidator\r\n                #utilities=\"ngModel\">\r\n  \r\n                <mat-icon matPrefix>attach_money</mat-icon>\r\n                <mat-hint align=\"start\">Gas, water, electricity, internet, etc..</mat-hint>\r\n                <mat-error *ngIf=\"utilities.invalid && (utilities.dirty || utilities.touched) && utilities.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n          </mat-form-field>\r\n  \r\n          <!-- Insurance -->\r\n          <mat-form-field fxFlex  class=\"form__field\">\r\n            <input matInput type=\"number\" id=\"insurance\" name=\"insurance\" placeholder=\"Insurances\" \r\n                [(ngModel)]=\"model.insurance\" \r\n                [value]=\"model.insurance\"\r\n                numberValidator\r\n                #insurance=\"ngModel\">\r\n\r\n                <mat-icon matPrefix>attach_money</mat-icon>\r\n                <mat-error *ngIf=\"insurance.invalid && (insurance.dirty || insurance.touched) && insurance.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n          </mat-form-field>\r\n  \r\n          <!-- Other costs -->\r\n          <mat-form-field fxFlex  class=\"form__field\">\r\n            <input matInput type=\"number\" id=\"otherCosts\" name=\"otherCosts\" placeholder=\"Other costs\" \r\n                [(ngModel)]=\"model.otherCosts\" \r\n                [value]=\"model.otherCosts\"\r\n                numberValidator\r\n                #otherCosts=\"ngModel\">\r\n\r\n                <mat-icon matPrefix>attach_money</mat-icon>\r\n                <mat-hint align=\"start\">Any other cost to have in mind not declared in the previous fields.</mat-hint>\r\n                <mat-error *ngIf=\"otherCosts.invalid && (otherCosts.dirty || otherCosts.touched) && otherCosts.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </form>\r\n  \r\n  <!-- Results -->\r\n  <section fxLayout=\"column\" fxLayoutGap=\"10px\" fxFlex fxFlex.gt-sm=\"300px\" class=\"calculator__results\">\r\n    <house-figures-results \r\n        title=\"Results\"\r\n        [purchasePrice]=\"model.purchasePrice\"\r\n        [capitalGrowth]=\"model.capitalGrowth\"\r\n        [marketValue]=\"model.marketValue\"\r\n        [loanCoverage]=\"model.loanCoverage\"\r\n        [interestRates]=\"model.interestRates\"\r\n        [loanTerm]=\"model.loanTerm\"\r\n        [paymentFrecuency]=\"model.paymentFrecuency\"\r\n        [rentPrice]=\"model.rentPrice\"\r\n        [rentPaymentFrecuency]=\"model.rentPaymentFrecuency\"\r\n        [vacancy]=\"model.vacancy\"\r\n        [renovationCost]=\"model.renovationCost\"\r\n        [mantainanceCost]=\"model.mantainanceCost\"\r\n        [bodyCorporate]=\"model.bodyCorporate\"\r\n        [houseRates]=\"model.houseRates\"\r\n        [utilities]=\"model.utilities\"\r\n        [insurance]=\"model.insurance\"\r\n        [otherCosts]=\"model.otherCosts\"\r\n        [managed]=\"model.managed\">\r\n    </house-figures-results>\r\n  </section>\r\n</div>"

/***/ }),

/***/ "./src/app/modules/calculators/components/house-figures/house-figures.component.scss":
/*!*******************************************************************************************!*\
  !*** ./src/app/modules/calculators/components/house-figures/house-figures.component.scss ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY2FsY3VsYXRvcnMvY29tcG9uZW50cy9ob3VzZS1maWd1cmVzL2hvdXNlLWZpZ3VyZXMuY29tcG9uZW50LnNjc3MifQ== */"

/***/ }),

/***/ "./src/app/modules/calculators/components/house-figures/house-figures.component.ts":
/*!*****************************************************************************************!*\
  !*** ./src/app/modules/calculators/components/house-figures/house-figures.component.ts ***!
  \*****************************************************************************************/
/*! exports provided: HouseFiguresComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HouseFiguresComponent", function() { return HouseFiguresComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_components_main_navigator_main_navigator_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../shared/components/main-navigator/main-navigator.service */ "./src/app/modules/shared/components/main-navigator/main-navigator.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var HouseFiguresComponent = /** @class */ (function () {
    function HouseFiguresComponent(mainNavigatorService) {
        this.mainNavigatorService = mainNavigatorService;
        this.model = {
            purchasePrice: 0,
            capitalGrowth: 4,
            marketValue: 0,
            loanCoverage: 65,
            interestRates: 7,
            loanTerm: 30,
            paymentFrecuency: "26",
            rentPrice: 0,
            rentPaymentFrecuency: 'weekly',
            vacancy: 4,
            renovationCost: 0,
            mantainanceCost: 0,
            bodyCorporate: 0,
            houseRates: 2000,
            utilities: 0,
            insurance: 900,
            otherCosts: 0,
            managed: 10
        };
    }
    HouseFiguresComponent.prototype.ngOnInit = function () {
        this.mainNavigatorService.setLinks([
            { displayName: 'Welcome', url: '/welcome', selected: false },
            { displayName: 'Calculators', url: '/calculators', selected: false },
            { displayName: 'Equity', url: '/calculators/equity', selected: false },
            { displayName: 'House figures', url: null, selected: true }
        ]);
    };
    HouseFiguresComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-house-figures',
            template: __webpack_require__(/*! ./house-figures.component.html */ "./src/app/modules/calculators/components/house-figures/house-figures.component.html"),
            styles: [__webpack_require__(/*! ./house-figures.component.scss */ "./src/app/modules/calculators/components/house-figures/house-figures.component.scss")]
        }),
        __metadata("design:paramtypes", [_shared_components_main_navigator_main_navigator_service__WEBPACK_IMPORTED_MODULE_1__["MainNavigatorService"]])
    ], HouseFiguresComponent);
    return HouseFiguresComponent;
}());



/***/ }),

/***/ "./src/app/modules/investments/components/currency-investment-form/currency-investment-form.component.html":
/*!*****************************************************************************************************************!*\
  !*** ./src/app/modules/investments/components/currency-investment-form/currency-investment-form.component.html ***!
  \*****************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<form class=\"form__container form__edit-currency-investment\" #editCurrencyInvestmentForm=\"ngForm\" novalidate fxLayout=\"column\" fxLayoutGap=\"10px\">  \r\n  <section fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"form__fields\">\r\n    <div fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n      <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n        <currency-unit fxFlex fxFlex.gt-xs=\"200px\"\r\n            [id]=\"'currencyInvestmentUnit'\" \r\n            [value]=\"model.unit\"\r\n            [type]=\"model.type\"\r\n            [hint]=\"'Choose the desired currency to invest on...'\"\r\n            [placeHolder]=\"'Desired currency'\"\r\n            (newValue)=\"onCurrencyUnitChange($event)\">\r\n        </currency-unit>\r\n\r\n        <mat-form-field fxFlex fxFlex.sm=\"120px\" fxFlex.gt-sm=\"200px\" class=\"form__field\">\r\n          <input matInput type=\"number\" id=\"amount\" name=\"amount\" placeholder=\"Amount\"\r\n              [(ngModel)]=\"model.amount\" \r\n              [value]=\"model.amount\"\r\n              numberValidator='{\"maxFractionDigits\": 8}' \r\n              required\r\n              #amount=\"ngModel\">\r\n          <mat-hint>Set the buying amount.</mat-hint>\r\n          <mat-error *ngIf=\"amount.invalid && (amount.dirty || amount.touched) && amount.errors.required\">Amount is required.</mat-error>\r\n          <mat-error *ngIf=\"amount.invalid && (amount.dirty || amount.touched) && amount.errors.numberValidator\">Value must be numeric, with no more than 8 decimal digits</mat-error>\r\n        </mat-form-field>\r\n      </div>\r\n    </div>\r\n\r\n    <div fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n      <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n        <!-- Buying date -->\r\n        <mat-form-field fxFlex fxFlex.gt-xs=\"100px\" class=\"form__field\">\r\n          <input placeholder=\"Buying date\"\r\n              id=\"buyingDate\"\r\n              name=\"buyingDate\"\r\n              readonly\r\n              required\r\n              #buyingDate=\"ngModel\"\r\n              matInput \r\n              [(ngModel)]=\"model.buyingDate\" \r\n              [matDatepicker]=\"pickerBuyingDate\"\r\n              (click)=\"pickerBuyingDate.open()\">\r\n          <mat-datepicker-toggle matSuffix [for]=\"pickerBuyingDate\"></mat-datepicker-toggle>\r\n          <mat-datepicker [touchUi]=\"utilService.isGtSm() ? false : true\" #pickerBuyingDate></mat-datepicker>\r\n          <mat-error *ngIf=\"buyingDate.invalid && (buyingDate.dirty || buyingDate.touched) && buyingDate.errors.required\">Buying date is required.</mat-error>\r\n          <mat-error *ngIf=\"buyingDate.invalid && (buyingDate.dirty || buyingDate.touched) && buyingDate.errors.matDatepickerParse\">Buying date is invalid or not follows the pattern \"mm/dd/yyyy\"</mat-error>\r\n        </mat-form-field>\r\n\r\n        <div fxLayout=\"row\" fxLayoutGap=\"10px\">\r\n          <!-- Buying price unit -->\r\n          <currency-unit fxFlex=\"50px\"\r\n              [id]=\"'buyingPriceUnit'\" \r\n              [view]=\"'narrow'\"\r\n              [value]=\"model.buyingPriceUnit\"\r\n              (newValue)=\"onCurrencyUnitChange($event)\">\r\n          </currency-unit>\r\n\r\n          <!-- Buying price -->\r\n          <mat-form-field fxFlex fxFlex.sm=\"120px\" fxFlex.gt-sm=\"200px\" class=\"form__field\">\r\n            <input matInput type=\"number\" id=\"buyingPrice\" name=\"buyingPrice\" placeholder=\"Price\"\r\n                [(ngModel)]=\"model.buyingPrice\" \r\n                [value]=\"model.buyingPrice\"\r\n                numberValidator \r\n                required\r\n                #buyingPrice=\"ngModel\">\r\n            <mat-hint>Price on buying date.</mat-hint>\r\n            <mat-error *ngIf=\"buyingPrice.invalid && (buyingPrice.dirty || buyingPrice.touched) && buyingPrice.errors.required\">Buying price is required.</mat-error>\r\n            <mat-error *ngIf=\"buyingPrice.invalid && (buyingPrice.dirty || buyingPrice.touched) && buyingPrice.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n        \r\n      </div>\r\n    </div>\r\n  </section>\r\n</form>"

/***/ }),

/***/ "./src/app/modules/investments/components/currency-investment-form/currency-investment-form.component.scss":
/*!*****************************************************************************************************************!*\
  !*** ./src/app/modules/investments/components/currency-investment-form/currency-investment-form.component.scss ***!
  \*****************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvaW52ZXN0bWVudHMvY29tcG9uZW50cy9jdXJyZW5jeS1pbnZlc3RtZW50LWZvcm0vY3VycmVuY3ktaW52ZXN0bWVudC1mb3JtLmNvbXBvbmVudC5zY3NzIn0= */"

/***/ }),

/***/ "./src/app/modules/investments/components/currency-investment-form/currency-investment-form.component.ts":
/*!***************************************************************************************************************!*\
  !*** ./src/app/modules/investments/components/currency-investment-form/currency-investment-form.component.ts ***!
  \***************************************************************************************************************/
/*! exports provided: CurrencyInvestmentFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CurrencyInvestmentFormComponent", function() { return CurrencyInvestmentFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _util_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../util.service */ "./src/app/util.service.ts");
/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../app.service */ "./src/app/app.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var CurrencyInvestmentFormComponent = /** @class */ (function () {
    function CurrencyInvestmentFormComponent(dateAdapter, appService, utilService) {
        this.dateAdapter = dateAdapter;
        this.appService = appService;
        this.utilService = utilService;
        this.defaultValues = null; // the default values of the component model  
        this.values = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.model = {
            type: null,
            unit: null,
            amount: null,
            buyingPrice: null,
            buyingPriceUnit: null,
            buyingDate: null
        };
        this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subscription"]();
        this.dateAdapter.setLocale('en-GB');
    }
    CurrencyInvestmentFormComponent.prototype.ngOnInit = function () {
        this.model.unit = this.defaultValues.type === 'currency' ? 'USD' : 'BTC';
        this.model.buyingDate = new Date(Date.now());
        this.model.buyingPriceUnit = 'USD';
        Object.assign(this.model, this.defaultValues);
    };
    CurrencyInvestmentFormComponent.prototype.ngOnDestroy = function () {
        var methodTrace = this.constructor.name + " > ngOnDestroy() > "; // for debugging
        // this.appService.consoleLog('info', `${methodTrace} Component destroyed.`);
        this.subscription.unsubscribe();
    };
    CurrencyInvestmentFormComponent.prototype.onCurrencyUnitChange = function ($event) {
        if ($event.source.id === 'currencyInvestmentUnit') {
            this.model.unit = $event.value;
        }
        else if ($event.source.id === 'buyingPriceUnit') {
            this.model.buyingPriceUnit = $event.value;
        }
        this.values.emit({
            value: {
                model: this.model,
                valid: this.form.valid
            }
        });
    };
    CurrencyInvestmentFormComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        // send data before touching any value
        this.values.emit({
            value: {
                model: this.model,
                valid: this.form.valid
            }
        });
        // after any event in the form we send updated data
        var newSubscription = this.form.valueChanges.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["debounceTime"])(500)).subscribe(function (values) {
            _this.values.emit({
                value: {
                    model: _this.model,
                    valid: _this.form.valid
                }
            });
        });
        this.subscription.add(newSubscription);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('editCurrencyInvestmentForm'),
        __metadata("design:type", Object)
    ], CurrencyInvestmentFormComponent.prototype, "form", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], CurrencyInvestmentFormComponent.prototype, "defaultValues", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], CurrencyInvestmentFormComponent.prototype, "values", void 0);
    CurrencyInvestmentFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'currency-investment-form',
            template: __webpack_require__(/*! ./currency-investment-form.component.html */ "./src/app/modules/investments/components/currency-investment-form/currency-investment-form.component.html"),
            styles: [__webpack_require__(/*! ./currency-investment-form.component.scss */ "./src/app/modules/investments/components/currency-investment-form/currency-investment-form.component.scss")]
        }),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["DateAdapter"], _app_service__WEBPACK_IMPORTED_MODULE_4__["AppService"],
            _util_service__WEBPACK_IMPORTED_MODULE_3__["UtilService"]])
    ], CurrencyInvestmentFormComponent);
    return CurrencyInvestmentFormComponent;
}());



/***/ }),

/***/ "./src/app/modules/investments/components/currency-investment/currency-investment.component.html":
/*!*******************************************************************************************************!*\
  !*** ./src/app/modules/investments/components/currency-investment/currency-investment.component.html ***!
  \*******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-card class=\"currency-card\">\r\n  <mat-card-header>\r\n    <div mat-card-avatar class=\"header-image\">\r\n        <img [src]=\"'/assets/images/' + investment.type + '/' + investment.unit + '.png'\" [alt]=\"investment.type\" />\r\n    </div>\r\n    <mat-card-title>{{investment.unit}}</mat-card-title>\r\n    <mat-card-subtitle>{{investment.amount}}</mat-card-subtitle>\r\n  </mat-card-header>\r\n  <mat-card-content class=\"card__content\">\r\n    <!-- Card Data -->\r\n    <div fxLayout=\"column\" fxLayoutAlign=\"space-evenly center\" class=\"card__data\">\r\n      <span>Amount invested: <strong>{{investmentAmount | currency : 'USD' : 'code' : '1.2-2' }}</strong> </span>\r\n      \r\n      <span>on {{investment.buyingDate | date}}</span>\r\n    \r\n      <div fxLayout=\"row\" fxLayoutGap=\"5px\" fxLayoutAlign=\"center center\">\r\n        <span>Buying price: {{ buyingPrice | currency : 'USD' : 'code' : '1.2-2' }}</span>\r\n        <info-tooltip text=\"Price on investment date\" position=\"right\"></info-tooltip>\r\n      </div>\r\n      \r\n      <div>\r\n        Today price: \r\n        <span [class.color__accent]=\"currentPrice >= buyingPrice\" \r\n          [class.color__red]=\"currentPrice < buyingPrice\">\r\n\r\n          <strong>{{currentPrice | currency : 'USD' : 'code' : '1.2-2'}}</strong>\r\n        </span>\r\n      </div>\r\n\r\n      <span *ngIf=\"investment.loanAmount\">Loan amount: <strong>{{ loanAmount | currency : 'USD' : 'code' : '1.2-2' }}</strong></span>\r\n\r\n      <div fxLayout=\"column\" [class.color__accent]=\"investmentReturn >= investmentValueWhenBought\" \r\n          [class.color__red]=\"investmentReturn < investmentValueWhenBought\">\r\n        \r\n        <div fxLayout=\"row\" fxLayoutGap=\"5px\" fxLayoutAlign=\"center center\">\r\n          <span>ROI: <strong>{{ investmentReturn | currency : 'USD' : 'code' : '1.2-2' }}</strong> ({{investmentReturn / investmentValueWhenBought * 100 | number : '1.1-2'}}%)</span>\r\n          <info-tooltip text=\"Return on investment\" position=\"right\"></info-tooltip>\r\n        </div>\r\n\r\n        <div fxLayout=\"row\" fxLayoutGap=\"5px\" fxLayoutAlign=\"center center\">\r\n          <span>Net ROI: <strong>{{ investmentReturn - investmentAmount - loanAmount | currency : 'USD' : 'code' : '1.2-2' }}</strong></span>\r\n          <info-tooltip text=\"Return on investment - Amount invested - Loan amount\" position=\"right\"></info-tooltip>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Team -->\r\n    <mat-expansion-panel *ngIf=\"team\" class=\"team-panel\">\r\n      <mat-expansion-panel-header>\r\n        <mat-panel-title>\r\n          {{team.name}}\r\n        </mat-panel-title>\r\n        <mat-panel-description>\r\n          \r\n        </mat-panel-description>\r\n      </mat-expansion-panel-header>\r\n      \r\n      <div fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"team-panel__content\">\r\n\r\n        <section class=\"members\" fxLayout=\"column\" fxLayoutGap=\"10px\">\r\n          <div *ngFor=\"let portion of investmentDistribution\" fxLayout=\"row\" fxLayoutGap=\"10px\" class=\"member\">\r\n            <img class=\"member__avatar\" [src]=\"portion.member.avatar\"/>\r\n            <div fxFlex class=\"member__info\" fxLayout=\"column\">\r\n              <p class=\"member__name\">{{portion.member.name}}</p>\r\n              <!-- <p class=\"member__email\">{{member.email}}</p> -->\r\n              <div class=\"member__money\" fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between end\">\r\n                <p>{{ portion.percentage }}%</p>\r\n                <p>{{ portion.money | currency : 'USD' : 'code' : '1.2-2' }}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </div>\r\n      \r\n    </mat-expansion-panel>\r\n    <!-- EOF Team -->\r\n\r\n    <section class=\"card__actions\" fxLayout=\"row\" fxLayoutAlign=\"end none\" fxLayoutGap=\"10px\">\r\n      <button *ngIf=\"!actionRunning\" mat-mini-fab routerLink=\"/investments/crypto/edit/{{investment.id}}\" color=\"primary\" (click)=\"actionRunning = true\">\r\n        <mat-icon aria-label=\"Edit Investment\">edit</mat-icon>\r\n      </button>\r\n\r\n      <button *ngIf=\"!actionRunning\" mat-mini-fab color=\"warn\" (click)=\"openDeleteDialog()\">\r\n        <mat-icon aria-label=\"Delete investment\">delete</mat-icon>\r\n      </button>\r\n\r\n      <mat-progress-spinner *ngIf=\"actionRunning\"\r\n        class=\"progress-spinner progress-spinner--action\"\r\n        color=\"warn\"\r\n        [diameter]=\"40\" [strokeWidth]=\"7\"\r\n        mode=\"indeterminate\">\r\n      </mat-progress-spinner>\r\n    </section>\r\n  </mat-card-content>\r\n</mat-card>"

/***/ }),

/***/ "./src/app/modules/investments/components/currency-investment/currency-investment.component.scss":
/*!*******************************************************************************************************!*\
  !*** ./src/app/modules/investments/components/currency-investment/currency-investment.component.scss ***!
  \*******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".currency-card {\n  text-align: left; }\n  .currency-card .header-image img {\n    width: 40px; }\n  .currency-card .card__content .team-panel {\n    cursor: default;\n    margin-top: 10px; }\n  .currency-card .card__content .team-panel mat-panel-title {\n      font-size: 18px; }\n  .currency-card .card__content .team-panel .team-panel__content {\n      text-align: left; }\n  .currency-card .card__content .team-panel .team-panel__content .members .member .member__avatar {\n        border-radius: 50%;\n        width: 40px;\n        height: 40px;\n        padding: 0 10px 0 0; }\n  .currency-card .card__content .team-panel .team-panel__content .members .member .member__info .member__email {\n        font-size: 11px; }\n  .currency-card .card__content .card__actions {\n    margin: 10px 0 0; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9pbnZlc3RtZW50cy9jb21wb25lbnRzL2N1cnJlbmN5LWludmVzdG1lbnQvQzpcXHczXFxhdG9taUNvY29udXRcXGNsaWVudC9zcmNcXGFwcFxcbW9kdWxlc1xcaW52ZXN0bWVudHNcXGNvbXBvbmVudHNcXGN1cnJlbmN5LWludmVzdG1lbnRcXGN1cnJlbmN5LWludmVzdG1lbnQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxpQkFBZ0IsRUE4Q2pCO0VBL0NEO0lBTU0sWUFBWSxFQUNiO0VBUEw7SUFhTSxnQkFBZTtJQUNmLGlCQUFnQixFQTJCakI7RUF6Q0w7TUFpQlEsZ0JBQWUsRUFDaEI7RUFsQlA7TUFxQlEsaUJBQWdCLEVBa0JqQjtFQXZDUDtRQTBCWSxtQkFBa0I7UUFDbEIsWUFBVztRQUNYLGFBQVk7UUFDWixvQkFBbUIsRUFDcEI7RUE5Qlg7UUFtQ2MsZ0JBQWUsRUFDaEI7RUFwQ2I7SUE0Q00saUJBQWdCLEVBQ2pCIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9pbnZlc3RtZW50cy9jb21wb25lbnRzL2N1cnJlbmN5LWludmVzdG1lbnQvY3VycmVuY3ktaW52ZXN0bWVudC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jdXJyZW5jeS1jYXJkIHtcclxuICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG5cclxuICAuaGVhZGVyLWltYWdlIHtcclxuICAgIFxyXG4gICAgaW1nIHtcclxuICAgICAgd2lkdGggOiA0MHB4O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLmNhcmRfX2NvbnRlbnQge1xyXG4gICAgXHJcbiAgICAudGVhbS1wYW5lbCB7XHJcbiAgICAgIGN1cnNvcjogZGVmYXVsdDtcclxuICAgICAgbWFyZ2luLXRvcDogMTBweDtcclxuICBcclxuICAgICAgbWF0LXBhbmVsLXRpdGxlIHtcclxuICAgICAgICBmb250LXNpemU6IDE4cHg7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgLnRlYW0tcGFuZWxfX2NvbnRlbnQge1xyXG4gICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLm1lbWJlcnMgLm1lbWJlciB7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC5tZW1iZXJfX2F2YXRhciB7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgICAgICAgICAgd2lkdGg6IDQwcHg7XHJcbiAgICAgICAgICAgIGhlaWdodDogNDBweDtcclxuICAgICAgICAgICAgcGFkZGluZzogMCAxMHB4IDAgMDtcclxuICAgICAgICAgIH1cclxuICBcclxuICAgICAgICAgIC5tZW1iZXJfX2luZm8ge1xyXG4gIFxyXG4gICAgICAgICAgICAubWVtYmVyX19lbWFpbCB7XHJcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAxMXB4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIC5jYXJkX19hY3Rpb25zIHtcclxuICAgICAgbWFyZ2luOiAxMHB4IDAgMDsgXHJcbiAgICB9XHJcbiAgfVxyXG59Il19 */"

/***/ }),

/***/ "./src/app/modules/investments/components/currency-investment/currency-investment.component.ts":
/*!*****************************************************************************************************!*\
  !*** ./src/app/modules/investments/components/currency-investment/currency-investment.component.ts ***!
  \*****************************************************************************************************/
/*! exports provided: CurrencyInvestmentComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CurrencyInvestmentComponent", function() { return CurrencyInvestmentComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _shared_components_yes_no_dialog_yes_no_dialog_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/components/yes-no-dialog/yes-no-dialog.component */ "./src/app/modules/shared/components/yes-no-dialog/yes-no-dialog.component.ts");
/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../app.service */ "./src/app/app.service.ts");
/* harmony import */ var _investments_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../investments.service */ "./src/app/modules/investments/investments.service.ts");
/* harmony import */ var _users_users_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../users/users.service */ "./src/app/modules/users/users.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _currency_exchange_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../currency-exchange.service */ "./src/app/modules/investments/currency-exchange.service.ts");
/* harmony import */ var _models_currencyInvestment__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../models/currencyInvestment */ "./src/app/modules/investments/models/currencyInvestment.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../constants */ "./src/app/constants.ts");
/* harmony import */ var _util_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../util.service */ "./src/app/util.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













var CurrencyInvestmentComponent = /** @class */ (function () {
    function CurrencyInvestmentComponent(currencyExchangeService, appService, usersService, investmentsService, dialog, router, utilService) {
        this.currencyExchangeService = currencyExchangeService;
        this.appService = appService;
        this.usersService = usersService;
        this.investmentsService = investmentsService;
        this.dialog = dialog;
        this.router = router;
        this.utilService = utilService;
        this.totalReturns = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.deletedInvestment = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.teams$ = new rxjs__WEBPACK_IMPORTED_MODULE_9__["BehaviorSubject"]([]);
        this.investmentAmount = 0;
        this.buyingPrice = 0;
        this.investmentReturn = 0;
        this.investmentValueWhenBought = 0;
        this.currentPrice = 0;
        this.loanAmount = 0;
        this.actionRunning = false;
        this.user = null;
        this.team = null; // if the investment has a tema this will be populated with the full info of the team
        this.investmentDistribution = [];
        this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_9__["Subscription"]();
    }
    Object.defineProperty(CurrencyInvestmentComponent.prototype, "teams", {
        get: function () {
            return this.teams$.getValue();
        },
        set: function (teams) {
            this.teams$.next(teams);
        },
        enumerable: true,
        configurable: true
    });
    CurrencyInvestmentComponent.prototype.ngOnInit = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > ngOnInit() > "; // for debugging
        // get the team of the investmetn if exists
        var newSubscription = null;
        var currencyRates$ = this.currencyExchangeService.getCurrencyRates$([this.utilService.formatDate(this.investment.buyingDate)]); // get currency rates observable source
        var currencyRatesAndUser$ = this.usersService.user$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__["combineLatest"])(currencyRates$, function (user, currencyRates) {
            _this.user = user;
            return { user: user, currencyRates: currencyRates };
        })); // (currency rates and user) source
        if (this.investment.type === _constants__WEBPACK_IMPORTED_MODULE_11__["INVESTMENTS_TYPES"].CRYPTO) {
            // crypto investment
            var cryptoRates$ = this.currencyExchangeService.getCryptoRates$(this.investment.unit); // get crypto rates observable source
            newSubscription = cryptoRates$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__["combineLatest"])(currencyRatesAndUser$, function (cryptoRates, currencyRatesAndUser) {
                return {
                    currencyRates: currencyRatesAndUser.currencyRates,
                    user: currencyRatesAndUser.user,
                    cryptoRates: cryptoRates
                };
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__["switchMap"])(function (data) {
                _this.currentPrice = data.cryptoRates.price;
                // the investment amount was paid on the date of the investment so we need to convert using that day rates
                _this.investmentAmount = _this.investment.investmentAmount / (data.currencyRates[_this.utilService.formatDate(_this.investment.buyingDate)]["USD" + _this.investment.investmentAmountUnit] || 1);
                // the loan amount was requested on the date of the investment so we need to convert using that day rates
                _this.loanAmount = _this.investment.loanAmount / (data.currencyRates[_this.utilService.formatDate(_this.investment.buyingDate)]["USD" + _this.investment.loanAmountUnit] || 1);
                // the buying price (of the crypto) was paid on the date of the investment so we need to convert using that day rates
                _this.buyingPrice = _this.investment.buyingPrice / (data.currencyRates[_this.utilService.formatDate(_this.investment.buyingDate)]["USD" + _this.investment.buyingPriceUnit] || 1);
                _this.investmentValueWhenBought = _this.buyingPrice * _this.investment.amount;
                _this.investmentReturn = _this.currentPrice * _this.investment.amount - _this.loanAmount;
                return _this.teams$;
            })).subscribe(function (teams) {
                _this.setInvestmentTeamData(teams);
            }, function (error) {
                _this.appService.consoleLog('error', methodTrace + " There was an error trying to generate investment data > ", error);
                _this.appService.showResults("There was an error trying to generate investment data, please try again in a few minutes.", 'error');
            });
        }
        else {
            // currency exchange
            newSubscription = currencyRatesAndUser$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__["switchMap"])(function (data) {
                _this.currentPrice = 1 / (data.currencyRates[_this.utilService.formatToday()]["USD" + _this.investment.unit] || 1);
                // the investment amount was paid on the date of the investment so we need to convert using that day rates
                _this.investmentAmount = _this.investment.investmentAmount / (data.currencyRates[_this.utilService.formatDate(_this.investment.buyingDate)]["USD" + _this.investment.investmentAmountUnit] || 1);
                // the loan amount was requested on the date of the investment so we need to convert using that day rates
                _this.loanAmount = _this.investment.loanAmount / (data.currencyRates[_this.utilService.formatDate(_this.investment.buyingDate)]["USD" + _this.investment.loanAmountUnit] || 1);
                // the buying price (of the currency) was paid on the date of the investment so we need to convert using that day rates
                _this.buyingPrice = _this.investment.buyingPrice / (data.currencyRates[_this.utilService.formatDate(_this.investment.buyingDate)]["USD" + _this.investment.buyingPriceUnit] || 1);
                _this.investmentValueWhenBought = _this.buyingPrice * _this.investment.amount;
                _this.investmentReturn = _this.currentPrice * _this.investment.amount - _this.loanAmount;
                return _this.teams$;
            })).subscribe(function (teams) {
                _this.setInvestmentTeamData(teams);
            }, function (error) {
                _this.appService.consoleLog('error', methodTrace + " There was an error trying to generate investment data > ", error);
                _this.appService.showResults("There was an error trying to generate investment data, please try again in a few minutes.", 'error');
            });
        }
        this.subscription.add(newSubscription);
    };
    CurrencyInvestmentComponent.prototype.ngOnDestroy = function () {
        var methodTrace = this.constructor.name + " > ngOnDestroy() > "; // for debugging
        // this.appService.consoleLog('info', `${methodTrace} Component destroyed.`);
        this.subscription.unsubscribe();
    };
    /**
     * Populates team data as well as the distribution on the investment between team members when the investment is asigned to a team
     *
     * @param {Team[]} teams . The teams of the current user
     */
    CurrencyInvestmentComponent.prototype.setInvestmentTeamData = function (teams) {
        var _this = this;
        this.team = this.investment.team ? teams.filter(function (team) { return team.slug === _this.investment.team.slug; })[0] : null; // look for the team of the investment
        // set totals to emit to parent component. If no team assigned then the total of the investment is the same as my portion
        var totals = {
            investmentId: this.investment.id,
            investmentAmount: this.investmentAmount,
            investmentReturn: this.investmentReturn,
            myInvestmentAmount: this.investmentAmount,
            myInvestmentReturn: this.investmentReturn
        };
        if (this.team) {
            var _loop_1 = function (member) {
                var percentage = (this_1.investment.investmentDistribution.filter(function (portion) { return portion.email === member.email; })[0]).percentage;
                this_1.investmentDistribution.push({
                    member: member,
                    percentage: percentage,
                    money: this_1.investmentReturn * percentage / 100
                });
                if (this_1.user && this_1.user.email === member.email) {
                    totals.myInvestmentAmount = this_1.investmentAmount * percentage / 100;
                    totals.myInvestmentReturn = this_1.investmentReturn * percentage / 100;
                }
            };
            var this_1 = this;
            // if team is present then get my portion of the investment
            for (var _i = 0, _a = this.team.members; _i < _a.length; _i++) {
                var member = _a[_i];
                _loop_1(member);
            }
        }
        this.totalReturns.emit(totals);
    };
    CurrencyInvestmentComponent.prototype.openDeleteDialog = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > openDeleteDialog() > "; // for debugging
        if (!this.investment.id) {
            this.appService.consoleLog('error', methodTrace + " Investment ID is required to delete.");
            return false;
        }
        this.actionRunning = true;
        var yesNoDialogRef = this.dialog.open(_shared_components_yes_no_dialog_yes_no_dialog_component__WEBPACK_IMPORTED_MODULE_2__["YesNoDialogComponent"], {
            width: '250px',
            data: {
                title: 'Delete investment',
                message: "Are you sure you want to delete this investment forever?"
            }
        });
        var newSubscription = yesNoDialogRef.afterClosed().subscribe(function (result) {
            if (result === 'yes') {
                _this.delete();
            }
            else {
                _this.actionRunning = false;
            }
        });
        this.subscription.add(newSubscription);
        return false;
    };
    CurrencyInvestmentComponent.prototype.delete = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > delete() > "; // for debugging
        if (this.user) {
            this.actionRunning = true;
            var newSubscription = this.investmentsService.delete$(this.investment.id, this.user.email).subscribe(function (data) {
                if (data && data.removed > 0) {
                    _this.appService.showResults("Investment successfully removed!", 'success');
                    _this.deletedInvestment.emit({ investment: _this.investment, investmentReturn: _this.investmentReturn, investmentAmount: _this.investmentAmount });
                }
                else {
                    _this.appService.showResults("Investment could not be removed, please try again.", 'error');
                    _this.actionRunning = false;
                }
            }, function (error) {
                _this.appService.consoleLog('error', methodTrace + " There was an error in the server while performing this action > " + error);
                if (error.codeno === 400) {
                    _this.appService.showResults("There was an error in the server while performing this action, please try again in a few minutes.", 'error');
                }
                else {
                    _this.appService.showResults("There was an error with this service and the information provided.", 'error');
                }
                _this.actionRunning = false;
            });
            this.subscription.add(newSubscription);
        }
        else {
            this.appService.showResults("You are not logged into AtomiCoconut, you must login first.", 'error');
            this.router.navigate(['/users/login']);
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _models_currencyInvestment__WEBPACK_IMPORTED_MODULE_8__["CurrencyInvestment"])
    ], CurrencyInvestmentComponent.prototype, "investment", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array),
        __metadata("design:paramtypes", [Array])
    ], CurrencyInvestmentComponent.prototype, "teams", null);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], CurrencyInvestmentComponent.prototype, "totalReturns", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], CurrencyInvestmentComponent.prototype, "deletedInvestment", void 0);
    CurrencyInvestmentComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'currency-investment',
            template: __webpack_require__(/*! ./currency-investment.component.html */ "./src/app/modules/investments/components/currency-investment/currency-investment.component.html"),
            styles: [__webpack_require__(/*! ./currency-investment.component.scss */ "./src/app/modules/investments/components/currency-investment/currency-investment.component.scss")]
        }),
        __metadata("design:paramtypes", [_currency_exchange_service__WEBPACK_IMPORTED_MODULE_7__["CurrencyExchangeService"], _app_service__WEBPACK_IMPORTED_MODULE_3__["AppService"], _users_users_service__WEBPACK_IMPORTED_MODULE_5__["UsersService"], _investments_service__WEBPACK_IMPORTED_MODULE_4__["InvestmentsService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialog"], _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"], _util_service__WEBPACK_IMPORTED_MODULE_12__["UtilService"]])
    ], CurrencyInvestmentComponent);
    return CurrencyInvestmentComponent;
}());



/***/ }),

/***/ "./src/app/modules/investments/components/investment-selector-dialog/investment-selector-dialog.component.html":
/*!*********************************************************************************************************************!*\
  !*** ./src/app/modules/investments/components/investment-selector-dialog/investment-selector-dialog.component.html ***!
  \*********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<h2 mat-dialog-title>Create investment</h2>\r\n\r\n<mat-dialog-content>\r\n  <mat-button-toggle-group fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" class=\"selector__investment-type\" (change)=\"onChange($event)\" #investmentTypesGroup>\r\n    <mat-button-toggle class=\"option__investment-type\" value=\"currency\" matTooltip=\"Currency exchange\" routerLink=\"investments/currency/create\"\r\n        [matTooltipPosition]=\"utilService.isXs() ? 'right' : 'below'\">\r\n      <img src=\"/assets/images/exchange.png\" alt=\"currency\" />\r\n    </mat-button-toggle>\r\n    <mat-button-toggle class=\"option__investment-type\" value=\"cryptocurrency\" matTooltip=\"Crypto currency\" routerLink=\"investments/crypto/create\"\r\n        [matTooltipPosition]=\"utilService.isXs() ? 'right' : 'below'\">\r\n      <img src=\"/assets/images/cryptocurrency.png\" alt=\"Crypto currency\" />\r\n    </mat-button-toggle>\r\n    <mat-button-toggle class=\"option__investment-type\" value=\"property\" matTooltip=\"Property\" routerLink=\"investments/property/create\"\r\n        [matTooltipPosition]=\"utilService.isXs() ? 'right' : 'below'\">\r\n      <img src=\"/assets/images/house.png\" alt=\"Property\" />\r\n    </mat-button-toggle>\r\n  </mat-button-toggle-group>\r\n</mat-dialog-content>\r\n"

/***/ }),

/***/ "./src/app/modules/investments/components/investment-selector-dialog/investment-selector-dialog.component.scss":
/*!*********************************************************************************************************************!*\
  !*** ./src/app/modules/investments/components/investment-selector-dialog/investment-selector-dialog.component.scss ***!
  \*********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ":host {\n  text-align: center; }\n  :host .selector__investment-type .option__investment-type {\n    padding: 10px; }\n  :host .selector__investment-type .option__investment-type img {\n      width: 50px; }\n  @media screen and (min-width: 600px) {\n    :host .selector__investment-type .option__investment-type img {\n      width: 90px; } }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9pbnZlc3RtZW50cy9jb21wb25lbnRzL2ludmVzdG1lbnQtc2VsZWN0b3ItZGlhbG9nL0M6XFx3M1xcYXRvbWlDb2NvbnV0XFxjbGllbnQvc3JjXFxhcHBcXG1vZHVsZXNcXGludmVzdG1lbnRzXFxjb21wb25lbnRzXFxpbnZlc3RtZW50LXNlbGVjdG9yLWRpYWxvZ1xcaW52ZXN0bWVudC1zZWxlY3Rvci1kaWFsb2cuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFDRSxtQkFBa0IsRUF1Qm5CO0VBeEJEO0lBS00sY0FBYSxFQUtkO0VBVkw7TUFRUSxZQUFXLEVBQ1o7RUFJTDtJQWJGO01BbUJVLFlBQVcsRUFDWixFQUFBIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9pbnZlc3RtZW50cy9jb21wb25lbnRzL2ludmVzdG1lbnQtc2VsZWN0b3ItZGlhbG9nL2ludmVzdG1lbnQtc2VsZWN0b3ItZGlhbG9nLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCAnLi4vLi4vLi4vLi4vLi4vdmFyaWFibGVzJztcclxuXHJcbjpob3N0IHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgXHJcbiAgLnNlbGVjdG9yX19pbnZlc3RtZW50LXR5cGUge1xyXG4gICAgLm9wdGlvbl9faW52ZXN0bWVudC10eXBlIHtcclxuICAgICAgcGFkZGluZzogMTBweDtcclxuXHJcbiAgICAgIGltZyB7XHJcbiAgICAgICAgd2lkdGg6IDUwcHg7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIEBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6ICRzY3JlZW5HdFhzKSB7XHJcbiAgICBcclxuICAgIC5zZWxlY3Rvcl9faW52ZXN0bWVudC10eXBlIHtcclxuICAgICAgXHJcbiAgICAgIC5vcHRpb25fX2ludmVzdG1lbnQtdHlwZSB7XHJcbiAgICAgICAgaW1nIHtcclxuICAgICAgICAgIHdpZHRoOiA5MHB4O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufSJdfQ== */"

/***/ }),

/***/ "./src/app/modules/investments/components/investment-selector-dialog/investment-selector-dialog.component.ts":
/*!*******************************************************************************************************************!*\
  !*** ./src/app/modules/investments/components/investment-selector-dialog/investment-selector-dialog.component.ts ***!
  \*******************************************************************************************************************/
/*! exports provided: InvestmentSelectorDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InvestmentSelectorDialogComponent", function() { return InvestmentSelectorDialogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _util_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../util.service */ "./src/app/util.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};



var InvestmentSelectorDialogComponent = /** @class */ (function () {
    function InvestmentSelectorDialogComponent(dialogRef, data, utilService) {
        this.dialogRef = dialogRef;
        this.data = data;
        this.utilService = utilService;
    }
    InvestmentSelectorDialogComponent.prototype.ngOnInit = function () { };
    InvestmentSelectorDialogComponent.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    InvestmentSelectorDialogComponent.prototype.onChange = function (event) {
        this.dialogRef.close();
    };
    InvestmentSelectorDialogComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'investment-selector-dialog',
            template: __webpack_require__(/*! ./investment-selector-dialog.component.html */ "./src/app/modules/investments/components/investment-selector-dialog/investment-selector-dialog.component.html"),
            styles: [__webpack_require__(/*! ./investment-selector-dialog.component.scss */ "./src/app/modules/investments/components/investment-selector-dialog/investment-selector-dialog.component.scss")]
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object, _util_service__WEBPACK_IMPORTED_MODULE_2__["UtilService"]])
    ], InvestmentSelectorDialogComponent);
    return InvestmentSelectorDialogComponent;
}());



/***/ }),

/***/ "./src/app/modules/investments/components/investments-dashboard/investments-dashboard.component.html":
/*!***********************************************************************************************************!*\
  !*** ./src/app/modules/investments/components/investments-dashboard/investments-dashboard.component.html ***!
  \***********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"container__investments\">\r\n  <section *ngIf=\"!getInvestmentsServiceRunning && investments.length > 0\" fxLayout=\"column\" fxLayoutGap=\"10px\">\r\n    \r\n    <div *ngFor=\"let row of investmentsUI\" fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\">\r\n      <div *ngFor=\"let investment of row\" fxFlex fxFlex.gt-xs=\"50\">\r\n        <currency-investment *ngIf=\"investment.type === INVESTMENTS_TYPES.CURRENCY || investment.type === INVESTMENTS_TYPES.CRYPTO\"\r\n          [investment]=\"investment\"\r\n          [teams]=\"teams\"\r\n          (totalReturns)=\"setTotals($event)\"\r\n          (deletedInvestment)=\"removeInvestment($event)\">\r\n        </currency-investment>\r\n\r\n        <property-investment *ngIf=\"investment.type === INVESTMENTS_TYPES.PROPERTY\"\r\n          [investment]=\"investment\"\r\n          [teams]=\"teams\"\r\n          (totalReturns)=\"setTotals($event)\"\r\n          (deletedInvestment)=\"removeInvestment($event)\">\r\n        </property-investment>\r\n      </div>\r\n      \r\n    </div>\r\n\r\n    <mat-card fxFlex class=\"totals__card\">\r\n      <mat-card-content fxLayout=\"row\" fxLayout.xs=\"column\" fxLayoutGap=\"20px\">\r\n        <!-- Totals -->\r\n        <div *ngIf=\"!myTotals.checked\" fxFlex fxFlex.xs=\"none\" fxLayout=\"row\" fxLayout.xs=\"column\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-around center\">\r\n          <p>Total investments: <strong>{{totalInvestment | currency : 'USD' : 'code' : '1.2-2' }}</strong></p>\r\n          <p [class.color__accent]=\"totalReturn >= totalInvestment\" \r\n              [class.color__red]=\"totalReturn < totalInvestment\">\r\n            Total ROI: <strong>{{ totalReturn | currency : 'USD' : 'code' : '1.2-2' }}</strong> ({{totalReturn / totalInvestment * 100 | number : '1.1-2'}}%)\r\n          </p>\r\n        </div>\r\n\r\n        <!-- My totals -->\r\n        <div *ngIf=\"myTotals.checked\" fxFlex fxFlex.xs=\"none\" fxLayout=\"row\" fxLayout.xs=\"column\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-around center\">\r\n          <p>My total investments: <strong>{{myTotalInvestment | currency : 'USD' : 'code' : '1.2-2' }}</strong></p>\r\n          <p [class.color__accent]=\"myTotalReturn >= myTotalInvestment\" \r\n              [class.color__red]=\"myTotalReturn < myTotalInvestment\">\r\n            My total ROI: <strong>{{ myTotalReturn | currency : 'USD' : 'code' : '1.2-2' }}</strong> ({{myTotalReturn / myTotalInvestment * 100 | number : '1.1-2'}}%)\r\n          </p>\r\n        </div>\r\n\r\n        <!-- Totals switcher -->\r\n        <mat-slide-toggle fxFlexAlign.xs=\"center\" color=\"accent\" class=\"form__field form__field__toogle\" [checked]=\"false\" #myTotals>\r\n          My totals\r\n        </mat-slide-toggle>\r\n\r\n      </mat-card-content>\r\n    </mat-card>\r\n\r\n  </section>\r\n\r\n  <section *ngIf=\"!getInvestmentsServiceRunning && investments.length == 0\" fxLayout=\"column\" fxLayoutGap=\"10px\">\r\n    <mat-card fxFlex class=\"no-investments__card\">\r\n      <mat-card-content fxLayout=\"row\" fxLayout.xs=\"column\" fxLayoutGap=\"10px\"\r\n          fxLayoutAlign=\"space-around center\">\r\n        <p> You do not have investments yet.</p>\r\n      </mat-card-content>\r\n    </mat-card>\r\n    \r\n  </section>\r\n\r\n  <progress-bar fxFlexAlign=\"center\" class=\"progress-bar--get-investments\" *ngIf=\"getInvestmentsServiceRunning\"\r\n      color=\"primary\"\r\n      message=\"Loading your investments...\">\r\n  </progress-bar>\r\n\r\n  <section fxLayout=\"column\" fxLayoutAlign=\"start end\" class=\"actions\">\r\n    <button mat-fab class=\"fab mat-elevation-z10\" color=\"primary\" matTooltip=\"Create new investment\" matTooltipPosition=\"left\" (click)=\"openNewInvestmentDialog()\">\r\n      <mat-icon aria-label=\"Create new investemt\">add</mat-icon>\r\n    </button>\r\n  </section>\r\n</div>"

/***/ }),

/***/ "./src/app/modules/investments/components/investments-dashboard/investments-dashboard.component.scss":
/*!***********************************************************************************************************!*\
  !*** ./src/app/modules/investments/components/investments-dashboard/investments-dashboard.component.scss ***!
  \***********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".totals__card, .no-investments__card {\n  text-align: center; }\n  .totals__card md-card-content p, .no-investments__card md-card-content p {\n    margin-bottom: 0; }\n  .progress-bar--get-investments {\n  width: 100%; }\n  @media screen and (min-width: 600px) {\n  .progress-bar--get-investments {\n    width: 300px; } }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9pbnZlc3RtZW50cy9jb21wb25lbnRzL2ludmVzdG1lbnRzLWRhc2hib2FyZC9DOlxcdzNcXGF0b21pQ29jb251dFxcY2xpZW50L3NyY1xcYXBwXFxtb2R1bGVzXFxpbnZlc3RtZW50c1xcY29tcG9uZW50c1xcaW52ZXN0bWVudHMtZGFzaGJvYXJkXFxpbnZlc3RtZW50cy1kYXNoYm9hcmQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFDRSxtQkFBa0IsRUFLbkI7RUFORDtJQUlJLGlCQUFnQixFQUNqQjtFQUdIO0VBQ0UsWUFBVyxFQUNaO0VBRUQ7RUFFRTtJQUNFLGFBQVksRUFDYixFQUFBIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9pbnZlc3RtZW50cy9jb21wb25lbnRzL2ludmVzdG1lbnRzLWRhc2hib2FyZC9pbnZlc3RtZW50cy1kYXNoYm9hcmQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0ICcuLi8uLi8uLi8uLi8uLi92YXJpYWJsZXMnO1xyXG5cclxuLnRvdGFsc19fY2FyZCwgLm5vLWludmVzdG1lbnRzX19jYXJkIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcblxyXG4gIG1kLWNhcmQtY29udGVudCBwIHtcclxuICAgIG1hcmdpbi1ib3R0b206IDA7XHJcbiAgfVxyXG59XHJcblxyXG4ucHJvZ3Jlc3MtYmFyLS1nZXQtaW52ZXN0bWVudHMge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG5AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAkc2NyZWVuR3RYcykge1xyXG5cclxuICAucHJvZ3Jlc3MtYmFyLS1nZXQtaW52ZXN0bWVudHMge1xyXG4gICAgd2lkdGg6IDMwMHB4O1xyXG4gIH1cclxufSJdfQ== */"

/***/ }),

/***/ "./src/app/modules/investments/components/investments-dashboard/investments-dashboard.component.ts":
/*!*********************************************************************************************************!*\
  !*** ./src/app/modules/investments/components/investments-dashboard/investments-dashboard.component.ts ***!
  \*********************************************************************************************************/
/*! exports provided: InvestmentsDashboardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InvestmentsDashboardComponent", function() { return InvestmentsDashboardComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _shared_components_main_navigator_main_navigator_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/components/main-navigator/main-navigator.service */ "./src/app/modules/shared/components/main-navigator/main-navigator.service.ts");
/* harmony import */ var _users_users_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../users/users.service */ "./src/app/modules/users/users.service.ts");
/* harmony import */ var _investment_selector_dialog_investment_selector_dialog_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../investment-selector-dialog/investment-selector-dialog.component */ "./src/app/modules/investments/components/investment-selector-dialog/investment-selector-dialog.component.ts");
/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../app.service */ "./src/app/app.service.ts");
/* harmony import */ var _investments_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../investments.service */ "./src/app/modules/investments/investments.service.ts");
/* harmony import */ var _teams_teams_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../teams/teams.service */ "./src/app/modules/teams/teams.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _currency_exchange_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../currency-exchange.service */ "./src/app/modules/investments/currency-exchange.service.ts");
/* harmony import */ var _models_currencyInvestment__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../models/currencyInvestment */ "./src/app/modules/investments/models/currencyInvestment.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../constants */ "./src/app/constants.ts");
/* harmony import */ var _util_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../util.service */ "./src/app/util.service.ts");
/* harmony import */ var _models_PropertyInvestment__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../models/PropertyInvestment */ "./src/app/modules/investments/models/PropertyInvestment.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
















var InvestmentsDashboardComponent = /** @class */ (function () {
    function InvestmentsDashboardComponent(route, mainNavigatorService, usersService, dialog, appService, teamsService, investmentsService, currencyExchangeService, utilService) {
        this.route = route;
        this.mainNavigatorService = mainNavigatorService;
        this.usersService = usersService;
        this.dialog = dialog;
        this.appService = appService;
        this.teamsService = teamsService;
        this.investmentsService = investmentsService;
        this.currencyExchangeService = currencyExchangeService;
        this.utilService = utilService;
        this.investments = [];
        this.teams = [];
        this.investmentsUI = []; // this is a structure to use in the view an make the rendering easier organizing the info in rows
        this.totalInvestment = 0;
        this.totalReturn = 0;
        this.myTotalInvestment = 0;
        this.myTotalReturn = 0;
        this.totals = {};
        this.user = null;
        this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_9__["Subscription"]();
        this.getInvestmentsServiceRunning = false;
        this.getTeamsServiceRunning = false;
        this.INVESTMENTS_TYPES = _constants__WEBPACK_IMPORTED_MODULE_13__["INVESTMENTS_TYPES"]; // make it available in the view
    }
    InvestmentsDashboardComponent.prototype.ngOnInit = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > ngOnInit() > "; // for debugging
        this.mainNavigatorService.setLinks([
            { displayName: 'Welcome', url: '/welcome', selected: false },
            { displayName: 'Investments', url: null, selected: true },
            { displayName: 'Properties', url: '/properties', selected: false }
        ]);
        // get authUser from resolver
        var newSubscription = this.route.data.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__["map"])(function (data) {
            _this.user = data.authUser;
            return data.authUser;
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__["flatMap"])(function (user) {
            _this.getTeams(user); // I don't care when this come back
            return _this.getInvestments$(user);
        })).subscribe(function (investments) {
            // organize investments in rows of n-items to show in the view
            var investmentsRow = [];
            var investmentsDates = [];
            for (var _i = 0, investments_1 = investments; _i < investments_1.length; _i++) {
                var item = investments_1[_i];
                if (investmentsRow.length < 2) {
                    investmentsRow.push(item);
                }
                else {
                    _this.investmentsUI.push(investmentsRow);
                    investmentsRow = [item];
                }
                if (item instanceof _models_currencyInvestment__WEBPACK_IMPORTED_MODULE_12__["CurrencyInvestment"]) {
                    investmentsDates.push(_this.utilService.formatDate(item.buyingDate, 'YYYY-MM-DD'));
                }
                else if (item instanceof _models_PropertyInvestment__WEBPACK_IMPORTED_MODULE_15__["PropertyInvestment"]) {
                    investmentsDates.push(_this.utilService.formatDate(item.buyingDate, 'YYYY-MM-DD'));
                }
            }
            _this.currencyExchangeService.getCurrencyRates$(investmentsDates); // lets retrieve investment dates for future usage in each investment
            if (investmentsRow.length) {
                _this.investmentsUI.push(investmentsRow);
            }
            _this.investments = investments;
            _this.getInvestmentsServiceRunning = false;
        }, function (error) {
            _this.appService.consoleLog('error', methodTrace + " There was an error in the server while performing this action > " + error);
            if (error.codeno === 400) {
                _this.appService.showResults("There was an error in the server while performing this action, please try again in a few minutes.", 'error');
            }
            else {
                _this.appService.showResults("There was an error with this service and the information provided.", 'error');
            }
            _this.getInvestmentsServiceRunning = false;
        });
        this.subscription.add(newSubscription);
    };
    InvestmentsDashboardComponent.prototype.ngOnDestroy = function () {
        var methodTrace = this.constructor.name + " > ngOnDestroy() > "; // for debugging
        // this.appService.consoleLog('info', `${methodTrace} Component destroyed.`);
        this.subscription.unsubscribe();
    };
    /**
     * Get my investments source from server
     */
    InvestmentsDashboardComponent.prototype.getInvestments$ = function (user) {
        var methodTrace = this.constructor.name + " > getInvestments$() > "; // for debugging
        this.investments = [];
        this.getInvestmentsServiceRunning = true;
        return this.investmentsService.getInvestments$(user.email);
    };
    /**
     * Get my teams from server
     */
    InvestmentsDashboardComponent.prototype.getTeams = function (user) {
        var _this = this;
        var methodTrace = this.constructor.name + " > getTeams() > "; // for debugging
        this.teams = [];
        this.getTeamsServiceRunning = true;
        var newSubscription = this.teamsService.getTeams$(user.email).subscribe(function (teams) {
            _this.teams = teams;
            _this.getTeamsServiceRunning = false;
        }, function (error) {
            _this.appService.consoleLog('error', methodTrace + " There was an error in the server while performing this action > " + error);
            if (error.codeno === 400) {
                _this.appService.showResults("There was an error in the server while performing this action, please try again in a few minutes.", 'error');
            }
            else {
                _this.appService.showResults("There was an error with this service and the information provided.", 'error');
            }
            _this.getTeamsServiceRunning = false;
        });
        this.subscription.add(newSubscription);
    };
    InvestmentsDashboardComponent.prototype.setTotals = function (totalReturns) {
        // update the total that matches the id
        this.totals[totalReturns.investmentId] = totalReturns;
        // reset totals
        this.totalReturn = 0;
        this.totalInvestment = 0;
        this.myTotalInvestment = 0;
        this.myTotalReturn = 0;
        // re calculate totals
        for (var _i = 0, _a = Object.keys(this.totals); _i < _a.length; _i++) {
            var investmentId = _a[_i];
            this.totalReturn += this.totals[investmentId].investmentReturn;
            this.totalInvestment += this.totals[investmentId].investmentAmount;
            this.myTotalInvestment += this.totals[investmentId].myInvestmentAmount;
            this.myTotalReturn += this.totals[investmentId].myInvestmentReturn;
        }
    };
    /**
     * Removes the investment from the investments array and from the investmentUI array used in view. Also reduces the totals in the inveestment amount
     */
    InvestmentsDashboardComponent.prototype.removeInvestment = function (investmentData) {
        var methodTrace = this.constructor.name + " > removeInvestment() > "; // for debugging
        var investment = investmentData.investment;
        if (investment) {
            // get my portion in the investment
            var myPortion = 0;
            for (var _i = 0, _a = investment.investmentDistribution; _i < _a.length; _i++) {
                var portion = _a[_i];
                if (this.user.email === portion.email) {
                    myPortion = portion.percentage;
                    break;
                }
            }
            // update totals row
            var investmentReturn = investmentData.investmentReturn;
            var investmentAmount = investmentData.investmentAmount;
            this.totalReturn -= investmentReturn;
            this.totalInvestment -= investmentAmount;
            this.myTotalReturn -= investmentReturn * myPortion / 100;
            this.myTotalInvestment -= investmentAmount * myPortion / 100;
            // remove investment from array
            var index = 0;
            for (var _b = 0, _c = this.investments; _b < _c.length; _b++) {
                var investmentToDelete = _c[_b];
                if (investment.id === investmentToDelete.id) {
                    break;
                }
                index += 1;
            }
            this.investments.splice(index, 1);
            // update ui array
            var row = 0;
            var offset = 0;
            var found = false;
            for (var i = 0; i < this.investmentsUI.length; i++) {
                for (var j = 0; j < this.investmentsUI[i].length; j++) {
                    if (this.investmentsUI[i][j].id === investment.id) {
                        row = i;
                        offset = j;
                        found = true;
                        break;
                    }
                }
                if (found) {
                    break;
                }
            }
            this.investmentsUI[row].splice(offset, 1);
            if (!this.investmentsUI[row].length) {
                this.investmentsUI.splice(row, 1);
            }
        }
    };
    InvestmentsDashboardComponent.prototype.openNewInvestmentDialog = function () {
        var addPersonDialogRef = this.dialog.open(_investment_selector_dialog_investment_selector_dialog_component__WEBPACK_IMPORTED_MODULE_5__["InvestmentSelectorDialogComponent"], {});
        return false;
    };
    InvestmentsDashboardComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'investments-dashboard',
            template: __webpack_require__(/*! ./investments-dashboard.component.html */ "./src/app/modules/investments/components/investments-dashboard/investments-dashboard.component.html"),
            styles: [__webpack_require__(/*! ./investments-dashboard.component.scss */ "./src/app/modules/investments/components/investments-dashboard/investments-dashboard.component.scss")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"], _shared_components_main_navigator_main_navigator_service__WEBPACK_IMPORTED_MODULE_3__["MainNavigatorService"], _users_users_service__WEBPACK_IMPORTED_MODULE_4__["UsersService"], _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialog"],
            _app_service__WEBPACK_IMPORTED_MODULE_6__["AppService"], _teams_teams_service__WEBPACK_IMPORTED_MODULE_8__["TeamsService"], _investments_service__WEBPACK_IMPORTED_MODULE_7__["InvestmentsService"], _currency_exchange_service__WEBPACK_IMPORTED_MODULE_11__["CurrencyExchangeService"],
            _util_service__WEBPACK_IMPORTED_MODULE_14__["UtilService"]])
    ], InvestmentsDashboardComponent);
    return InvestmentsDashboardComponent;
}());



/***/ }),

/***/ "./src/app/modules/investments/components/investments-edit/investments-edit.component.html":
/*!*************************************************************************************************!*\
  !*** ./src/app/modules/investments/components/investments-edit/investments-edit.component.html ***!
  \*************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container__edit-investment\" fxLayout=\"column\" fxLayoutAlign=\"none none\" fxLayout.gt-xs=\"row\" fxLayoutAlign.gt-xs=\"center none\" fxLayoutGap=\"10px\">\r\n  <form class=\"form__container form__edit-investment\" (ngSubmit)=\"editMode ? onUpdate() : onSubmit()\" #editInvestmentForm=\"ngForm\" novalidate fxLayout=\"column\" fxLayoutGap=\"10px\">\r\n    <div *ngIf=\"!getInvestmentServiceRunning\">\r\n      <section fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"form__fields\">\r\n\r\n        <progress-bar class=\"progress-bar--get-teams\" *ngIf=\"getTeamsServiceRunning\"\r\n          color=\"primary\"\r\n          message=\"Loading your teams...\">\r\n        </progress-bar>\r\n\r\n        <div *ngIf=\"teams.length && !getTeamsServiceRunning\" fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n          <h3 class=\"title\">\r\n            <p class=\"header\">Owner</p>\r\n            <p class=\"mat-caption\">Specify the owner of this investment</p>\r\n          </h3>\r\n          \r\n          <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n            <mat-radio-group fxFlex fxFlex.gt-xs=\"230px\" class=\"form__field radiogroup__owner\"\r\n                [(ngModel)]=\"model.owner\" \r\n                name=\"owner\" \r\n                id=\"owner\" \r\n                #owner=\"ngModel\"\r\n                (change)=\"onRadioChange($event)\">\r\n              <mat-radio-button class=\"owner__option\" value=\"me\">Just me</mat-radio-button>\r\n              <mat-radio-button class=\"owner__option\" value=\"team\">My team</mat-radio-button>\r\n            </mat-radio-group>\r\n    \r\n            <mat-form-field *ngIf=\"teams.length && model.owner === 'team'\" fxFlex fxFlex.gt-xs=\"350px\" class=\"form__field\">\r\n              <mat-select [(ngModel)]=\"model.team\"\r\n                  name=\"team\" \r\n                  id=\"team\" \r\n                  #team=\"ngModel\" \r\n                  placeholder=\"Select a team\"\r\n                  (selectionChange)=\"onSelectChange($event)\"\r\n                  required>\r\n                <mat-option *ngFor=\"let team of teams\" [value]=\"team\">\r\n                  {{team.name}}\r\n                </mat-option>\r\n              </mat-select>\r\n\r\n              <mat-icon matPrefix>group</mat-icon>\r\n              <mat-error *ngIf=\"team.invalid && (team.dirty || team.touched) && team.errors.required\">Please choose a team</mat-error>\r\n            </mat-form-field>\r\n          </div>\r\n        </div>\r\n        \r\n        <div *ngIf=\"model.team\" fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n          <h3 class=\"title\">\r\n            <p class=\"header\">Split between team members</p>\r\n            <p class=\"mat-caption\">Specify how to split the returns setting a percentage of the total investment amount to each member</p>\r\n          </h3>\r\n  \r\n          <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n            <div fxLayout=\"column\" fxLayout.gt-xs=\"row wrap\" fxLayoutGap=\"20px\" class=\"team-members\">\r\n              <div *ngFor=\"let member of model.team.members; index as memberIndex\" fxFlex=\"none\" fxFlex.gt-xs=\"250px\" fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"member\">\r\n                <div class=\"member-details\" fxLayout=\"row\" fxLayoutGap=\"10px\">\r\n                  <img class=\"member__avatar\" [src]=\"member.avatar\"/>\r\n                  <div class=\"member__info\" fxLayout=\"column\" [matTooltip]=\"member.email === model.team.admin.email ? 'Administrator' : ''\" matTooltipPosition=\"right\">\r\n                    <p class=\"member__name\">{{member.name}} <mat-icon *ngIf=\"member.email === model.team.admin.email\" class=\"admin-icon\" aria-label=\"Admin\" >lock</mat-icon></p>\r\n                    <p class=\"member__email\">{{member.email}}</p>\r\n                  </div>\r\n                </div>\r\n      \r\n                <div class=\"member-percentage\">\r\n                  <mat-form-field class=\"form__field\">\r\n                    <input matInput type=\"number\" id=\"memberPercentage_{{member.email}}\" name=\"memberPercentage_{{member.email}}\" placeholder=\"Percentage of investment\"\r\n                        [(ngModel)]=\"model.membersPercentage[member.email]\" \r\n                        [value]=\"model.membersPercentage[member.email]\"\r\n                        numberValidator='{\"min\": 0, \"max\": 100}'\r\n                        required\r\n                        #memberPercentage=\"ngModel\">\r\n\r\n                    <span matSuffix>%</span>\r\n                    <mat-hint>Investment portion for {{member.name}}.</mat-hint>\r\n                    <mat-error *ngIf=\"memberPercentage.invalid && (memberPercentage.dirty || memberPercentage.touched) && memberPercentage.errors.required\">Percentage of investment is required.</mat-error>\r\n                    <mat-error *ngIf=\"memberPercentage.invalid && (memberPercentage.dirty || memberPercentage.touched) && memberPercentage.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n                    <mat-error *ngIf=\"memberPercentage.invalid && (memberPercentage.dirty || memberPercentage.touched) && memberPercentage.errors.numberValidatorMin\">Min value must be greater or equal than 0</mat-error>\r\n                    <mat-error *ngIf=\"memberPercentage.invalid && (memberPercentage.dirty || memberPercentage.touched) && memberPercentage.errors.numberValidatorMax\">Max value must be less or equal than 100</mat-error>\r\n                  </mat-form-field>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n          </div>\r\n        </div>\r\n  \r\n        <div fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n          <h3 class=\"title title__investment-amount\">\r\n            <p class=\"header\">Investment details</p>\r\n          </h3>\r\n  \r\n          <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n            <!-- Investment amount -->\r\n            <div fxLayout=\"row\" fxLayoutGap=\"10px\">\r\n              <currency-unit fxFlex=\"50px\"\r\n                  [id]=\"'investmentAmountUnit'\" \r\n                  [value]=\"model.investmentAmountUnit\"\r\n                  [view]=\"'narrow'\"\r\n                  (newValue)=\"onCurrencyUnitChange($event)\">\r\n              </currency-unit>\r\n              \r\n              <mat-form-field fxFlex fxFlex.sm=\"120px\" fxFlex.gt-sm=\"200px\" class=\"form__field\">\r\n                <input matInput type=\"number\" id=\"investmentAmount\" name=\"investmentAmount\" placeholder=\"Investment amount\"\r\n                    [(ngModel)]=\"model.investmentAmount\" \r\n                    [value]=\"model.investmentAmount\"\r\n                    numberValidator \r\n                    required\r\n                    #investmentAmount=\"ngModel\">\r\n                <mat-hint>Set the amount of money invested (excluding loan amount)</mat-hint>\r\n                <mat-error *ngIf=\"investmentAmount.invalid && (investmentAmount.dirty || investmentAmount.touched) && investmentAmount.errors.required\">Investment amount is required.</mat-error>\r\n                <mat-error *ngIf=\"investmentAmount.invalid && (investmentAmount.dirty || investmentAmount.touched) && investmentAmount.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n              </mat-form-field>\r\n            </div>\r\n\r\n            <!-- Loan amount -->\r\n            <div fxLayout=\"row\" fxLayoutGap=\"10px\">\r\n              <currency-unit fxFlex=\"50px\"\r\n                  [id]=\"'loanAmountUnit'\" \r\n                  [value]=\"model.loanAmountUnit\"\r\n                  [view]=\"'narrow'\"\r\n                  (newValue)=\"onCurrencyUnitChange($event)\">\r\n              </currency-unit>\r\n              \r\n              <mat-form-field fxFlex fxFlex.sm=\"120px\" fxFlex.gt-sm=\"200px\" class=\"form__field\">\r\n                <input matInput type=\"number\" id=\"loanAmount\" name=\"loanAmount\" placeholder=\"Loan amount\"\r\n                    [(ngModel)]=\"model.loanAmount\" \r\n                    [value]=\"model.loanAmount\"\r\n                    numberValidator \r\n                    #loanAmount=\"ngModel\">\r\n                <mat-hint>Set the amount of money borrowed</mat-hint>\r\n                <mat-error *ngIf=\"loanAmount.invalid && (loanAmount.dirty || loanAmount.touched) && loanAmount.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n              </mat-form-field>\r\n            </div>\r\n          </div>\r\n        </div>\r\n  \r\n        <div fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n          <currency-investment-form *ngIf=\"type === INVESTMENT_TYPES.CRYPTO || type === INVESTMENT_TYPES.CURRENCY\" [defaultValues]=\"model.investmentData\"\r\n              (values)=\"onInvestmentDataChange($event)\">\r\n          </currency-investment-form>\r\n\r\n          <property-investment-form *ngIf=\"type === INVESTMENT_TYPES.PROPERTY\" [defaultValues]=\"model.investmentData\"\r\n              [user]=\"user\"\r\n              (values)=\"onInvestmentDataChange($event)\">\r\n          </property-investment-form>\r\n        </div>\r\n      </section>\r\n  \r\n      \r\n      <section class=\"form__actions form__actions--edit-investment\"\r\n          fxLayout=\"column\" fxLayout.gt-sm=\"row\" \r\n          fxLayoutAlign=\"none start\" fxLayoutAlign.gt-sm=\"center start\" \r\n          fxLayoutGap=\"10px\">\r\n          \r\n        <button mat-fab *ngIf=\"!editInvestmentServiceRunning\" \r\n            class=\"fab mat-elevation-z10 form__action\" \r\n            color=\"accent\" \r\n            type=\"submit\"\r\n            matTooltip=\"Save changes\" matTooltipPosition=\"left\" \r\n            [disabled]=\"!editInvestmentForm.form.valid || !investmentDataValid\">\r\n          <mat-icon aria-label=\"Save changes\">save</mat-icon>\r\n        </button>\r\n        \r\n        <mat-progress-spinner *ngIf=\"editInvestmentServiceRunning\"\r\n            class=\"progress-spinner progress-spinner--edit-investment\"\r\n            color=\"accent\"\r\n            [diameter]=\"55\" [strokeWidth]=\"10\"\r\n            mode=\"indeterminate\">\r\n        </mat-progress-spinner>\r\n      </section>\r\n    </div>\r\n    \r\n    <!-- <pre>{{model | json}}</pre> -->\r\n  </form>\r\n\r\n  <progress-bar class=\"progress-bar--get-investment\" *ngIf=\"getInvestmentServiceRunning\"\r\n      color=\"primary\"\r\n      message=\"Loading investment info...\">\r\n  </progress-bar>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/modules/investments/components/investments-edit/investments-edit.component.scss":
/*!*************************************************************************************************!*\
  !*** ./src/app/modules/investments/components/investments-edit/investments-edit.component.scss ***!
  \*************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".progress-bar--get-investment, .progress-bar--get-teams {\n  width: 100%; }\n\n.container__edit-investment .form__fields .form__fields__row__container .radiogroup__owner .owner__option {\n  margin-right: 10px; }\n\n.container__edit-investment .form__fields .form__fields__row__container .radiogroup__owner .owner__option:last-child {\n    margin-right: 0; }\n\n.container__edit-investment .form__fields .form__fields__row__container .title__investment-amount {\n  margin-bottom: 5px !important; }\n\n.container__edit-investment .team-members .member .member__avatar {\n  border-radius: 50%;\n  width: 40px;\n  height: 40px;\n  padding: 0 10px 0 0; }\n\n.container__edit-investment .team-members .member .member__info .admin-icon {\n  font-size: 14px;\n  height: auto;\n  width: auto; }\n\n.container__edit-investment .team-members .member .member__info .member__email {\n  font-size: 11px; }\n\n@media screen and (min-width: 600px) {\n  .progress-bar--get-investment, .progress-bar--get-teams {\n    width: 300px; } }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9pbnZlc3RtZW50cy9jb21wb25lbnRzL2ludmVzdG1lbnRzLWVkaXQvQzpcXHczXFxhdG9taUNvY29udXRcXGNsaWVudC9zcmNcXGFwcFxcbW9kdWxlc1xcaW52ZXN0bWVudHNcXGNvbXBvbmVudHNcXGludmVzdG1lbnRzLWVkaXRcXGludmVzdG1lbnRzLWVkaXQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFDRSxZQUFXLEVBQ1o7O0FBRUQ7RUFPUSxtQkFBa0IsRUFLbkI7O0FBWlA7SUFVVSxnQkFBZSxFQUNoQjs7QUFYVDtFQWVRLDhCQUE2QixFQUM5Qjs7QUFoQlA7RUEyQlEsbUJBQWtCO0VBQ2xCLFlBQVc7RUFDWCxhQUFZO0VBQ1osb0JBQW1CLEVBQ3BCOztBQS9CUDtFQW9DVSxnQkFBZTtFQUNmLGFBQVk7RUFDWixZQUFXLEVBQ1o7O0FBdkNUO0VBMENVLGdCQUFlLEVBQ2hCOztBQU1UO0VBRUU7SUFDRSxhQUFZLEVBQ2IsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvaW52ZXN0bWVudHMvY29tcG9uZW50cy9pbnZlc3RtZW50cy1lZGl0L2ludmVzdG1lbnRzLWVkaXQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0ICcuLi8uLi8uLi8uLi8uLi92YXJpYWJsZXMnO1xyXG5cclxuLnByb2dyZXNzLWJhci0tZ2V0LWludmVzdG1lbnQsIC5wcm9ncmVzcy1iYXItLWdldC10ZWFtcyB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbi5jb250YWluZXJfX2VkaXQtaW52ZXN0bWVudCB7XHJcbiAgXHJcbiAgLmZvcm1fX2ZpZWxkcyB7XHJcblxyXG4gICAgLmZvcm1fX2ZpZWxkc19fcm93X19jb250YWluZXIge1xyXG5cclxuICAgICAgLnJhZGlvZ3JvdXBfX293bmVyIC5vd25lcl9fb3B0aW9uIHtcclxuICAgICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XHJcbiAgXHJcbiAgICAgICAgJjpsYXN0LWNoaWxkIHtcclxuICAgICAgICAgIG1hcmdpbi1yaWdodDogMDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC50aXRsZV9faW52ZXN0bWVudC1hbW91bnQge1xyXG4gICAgICAgIG1hcmdpbi1ib3R0b206IDVweCAhaW1wb3J0YW50O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgfVxyXG5cclxuICAudGVhbS1tZW1iZXJzIHtcclxuXHJcbiAgICAubWVtYmVyIHtcclxuICAgICAgXHJcbiAgICAgIC5tZW1iZXJfX2F2YXRhciB7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgICAgIHdpZHRoOiA0MHB4O1xyXG4gICAgICAgIGhlaWdodDogNDBweDtcclxuICAgICAgICBwYWRkaW5nOiAwIDEwcHggMCAwO1xyXG4gICAgICB9XHJcbiAgXHJcbiAgICAgIC5tZW1iZXJfX2luZm8ge1xyXG4gICAgICAgIFxyXG4gICAgICAgIC5hZG1pbi1pY29uIHtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgICAgICAgIGhlaWdodDogYXV0bztcclxuICAgICAgICAgIHdpZHRoOiBhdXRvO1xyXG4gICAgICAgIH1cclxuICBcclxuICAgICAgICAubWVtYmVyX19lbWFpbCB7XHJcbiAgICAgICAgICBmb250LXNpemU6IDExcHg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAkc2NyZWVuR3RYcykge1xyXG5cclxuICAucHJvZ3Jlc3MtYmFyLS1nZXQtaW52ZXN0bWVudCwgLnByb2dyZXNzLWJhci0tZ2V0LXRlYW1zIHtcclxuICAgIHdpZHRoOiAzMDBweDtcclxuICB9XHJcbn0iXX0= */"

/***/ }),

/***/ "./src/app/modules/investments/components/investments-edit/investments-edit.component.ts":
/*!***********************************************************************************************!*\
  !*** ./src/app/modules/investments/components/investments-edit/investments-edit.component.ts ***!
  \***********************************************************************************************/
/*! exports provided: InvestmentsEditComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InvestmentsEditComponent", function() { return InvestmentsEditComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _shared_components_main_navigator_main_navigator_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/components/main-navigator/main-navigator.service */ "./src/app/modules/shared/components/main-navigator/main-navigator.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _teams_teams_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../teams/teams.service */ "./src/app/modules/teams/teams.service.ts");
/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../app.service */ "./src/app/app.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _investments_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../investments.service */ "./src/app/modules/investments/investments.service.ts");
/* harmony import */ var _models_currencyInvestment__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../models/currencyInvestment */ "./src/app/modules/investments/models/currencyInvestment.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../constants */ "./src/app/constants.ts");
/* harmony import */ var _models_PropertyInvestment__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../models/PropertyInvestment */ "./src/app/modules/investments/models/PropertyInvestment.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var InvestmentsEditComponent = /** @class */ (function () {
    function InvestmentsEditComponent(route, mainNavigatorService, investmentsService, teamsService, appService, router) {
        this.route = route;
        this.mainNavigatorService = mainNavigatorService;
        this.investmentsService = investmentsService;
        this.teamsService = teamsService;
        this.appService = appService;
        this.router = router;
        this.editMode = false;
        this.user = null;
        this.teams = [];
        this.investment = null;
        this.model = {
            id: null,
            email: null,
            owner: 'me',
            team: null,
            teamSlug: null,
            membersPercentage: {},
            loanAmount: null,
            loanAmountUnit: null,
            investmentAmount: null,
            investmentAmountUnit: null,
            type: null,
            investmentData: {},
            investmentDistribution: [] // how the investment would be distributed into its owners
        };
        this.id = null; // investment id
        this.type = null; // investment type
        // services flags
        this.editInvestmentServiceRunning = false;
        this.getInvestmentServiceRunning = false;
        this.getTeamsServiceRunning = false;
        this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_6__["Subscription"]();
        this.formChangesSubscription = null;
        this.investmentDataValid = false; // this value is set when investment data form is updated
        this.INVESTMENT_TYPES = _constants__WEBPACK_IMPORTED_MODULE_10__["INVESTMENTS_TYPES"];
    }
    InvestmentsEditComponent.prototype.ngOnInit = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > ngOnInit() > "; // for debugging
        this.mainNavigatorService.setLinks([
            { displayName: 'Welcome', url: '/welcome', selected: false },
            { displayName: 'Investments', url: '/investments', selected: false }
        ]);
        // generates a user source object from authUser from resolver
        var user$ = this.route.data.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["map"])(function (data) { return data.authUser; }));
        // creates a params source from parameters in url useful for the rest of the code
        var params$ = this.route.paramMap.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["map"])(function (params) {
            var type = params.get('type');
            if (![_constants__WEBPACK_IMPORTED_MODULE_10__["INVESTMENTS_TYPES"].CURRENCY, _constants__WEBPACK_IMPORTED_MODULE_10__["INVESTMENTS_TYPES"].CRYPTO, _constants__WEBPACK_IMPORTED_MODULE_10__["INVESTMENTS_TYPES"].PROPERTY].includes(type)) {
                _this.appService.showResults('You must provide a valid investment type to continue.', 'error');
                _this.router.navigate(['welcome']);
            }
            else {
                _this.type = type;
                _this.model.type = type;
                _this.model.investmentData.type = type;
            }
            return { id: params.get('id') };
        }));
        // combine user$ and id$ sources into one object and start listen to it for changes
        var newSubscription = user$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["combineLatest"])(params$, function (user, urlParams) {
            var urlObject = _this.route.url.getValue();
            var investmentId = null;
            var propertyId = null;
            if (urlObject[0]['path'] === _constants__WEBPACK_IMPORTED_MODULE_10__["INVESTMENTS_TYPES"].PROPERTY && urlObject[1]['path'] === 'create') {
                // we are creating a property investment coming from the property component
                propertyId = urlParams.id;
            }
            else {
                // we are editing an investment or creating a new one coming from the investment dashboard
                investmentId = urlParams.id;
            }
            _this.populateRequiredData(user, investmentId, propertyId);
            return investmentId;
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["flatMap"])(function (investmentId) {
            if (investmentId) {
                return _this.getInvestment$(investmentId);
            }
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["of"])(null);
        })).subscribe(function (investment) {
            if (investment) {
                _this.populateInvestmentData(investment);
                _this.getInvestmentServiceRunning = false;
                if (_this.form && !_this.formChangesSubscription) {
                    _this.subscribeFormValueChanges();
                }
            }
        }, function (error) {
            _this.appService.consoleLog('error', methodTrace + " There was an error in the server while performing this action > " + error);
            if (error.codeno === 400) {
                _this.appService.showResults("There was an error in the server while performing this action, please try again in a few minutes.", 'error');
            }
            else if (error.codeno === 461 || error.codeno === 462) {
                _this.appService.showResults(error.msg, 'error');
                _this.router.navigate(['/welcome']);
            }
            else {
                _this.appService.showResults("There was an error with this service and the information provided.", 'error');
            }
            _this.getInvestmentServiceRunning = false;
        });
        this.subscription.add(newSubscription);
    };
    /**
     * Populates the data required to work with this component
     */
    InvestmentsEditComponent.prototype.populateRequiredData = function (user, investmentId, propertyId) {
        if (investmentId === void 0) { investmentId = null; }
        if (propertyId === void 0) { propertyId = null; }
        this.user = user;
        this.getTeams(); // don't need to wait for this
        this.model.email = user.email;
        this.model.investmentAmountUnit = user.currency;
        this.model.loanAmountUnit = user.currency;
        this.model.id = investmentId;
        if (propertyId) {
            this.model.investmentData.propertyId = propertyId;
        }
        if (!investmentId) {
            // we are creating a new investment
            this.id = null;
            this.editMode = false;
            this.mainNavigatorService.appendLink({ displayName: 'Create Investment', url: '', selected: true });
        }
        else {
            this.mainNavigatorService.appendLink({ displayName: 'Edit Investment', url: '', selected: true });
            // we are editing an existing investment
            this.id = investmentId; // the new slug
            this.editMode = true;
        }
    };
    /**
     * Populates all the investment data in the view model
     * @param { Investment } investment
     */
    InvestmentsEditComponent.prototype.populateInvestmentData = function (investment) {
        this.investment = investment;
        // populate the model
        this.model.owner = investment.team ? 'team' : 'me';
        this.model.team = investment.team;
        this.setSelectedTeam(); // this is necesary to make the selectbox in ui set a team
        this.model.teamSlug = investment.team ? investment.team.slug : null;
        this.model.investmentDistribution = investment.investmentDistribution;
        for (var _i = 0, _a = investment.investmentDistribution; _i < _a.length; _i++) {
            var portion = _a[_i];
            this.model.membersPercentage[portion.email] = portion.percentage;
        }
        this.model.loanAmount = investment.loanAmount;
        this.model.loanAmountUnit = investment.loanAmountUnit;
        this.model.investmentAmount = investment.investmentAmount;
        this.model.investmentAmountUnit = investment.investmentAmountUnit;
        this.model.type = investment.type;
        if (investment instanceof _models_currencyInvestment__WEBPACK_IMPORTED_MODULE_9__["CurrencyInvestment"]) {
            this.model.investmentData = {
                type: investment.type,
                unit: investment.unit,
                amount: investment.amount,
                buyingPrice: investment.buyingPrice,
                buyingPriceUnit: investment.buyingPriceUnit,
                buyingDate: investment.buyingDate
            };
        }
        else if (investment instanceof _models_PropertyInvestment__WEBPACK_IMPORTED_MODULE_11__["PropertyInvestment"]) {
            this.model.investmentData = {
                type: investment.type,
                property: investment.property,
                address: investment.property.address,
                buyingPrice: investment.buyingPrice,
                buyingPriceUnit: investment.buyingPriceUnit,
                buyingDate: investment.buyingDate
            };
        }
    };
    InvestmentsEditComponent.prototype.ngAfterViewInit = function () {
        if (this.form && !this.formChangesSubscription) {
            this.subscribeFormValueChanges();
        }
    };
    /**
     * This methods subscribes to changes on the main form in the view. We do it in a separate method because when the page loads for edition the form it is not defined in the
     * view until an investment is retrived from the server. We save an instance of the subscription to avoid subscriwe twice or more times.
     */
    InvestmentsEditComponent.prototype.subscribeFormValueChanges = function () {
        var _this = this;
        this.formChangesSubscription = this.form.valueChanges.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["debounceTime"])(500)).subscribe(function (values) {
            if (values.owner === 'team' && values.team && _this.model.team) {
                // calculates the percentage acum from all the members
                var percentageAcum = _this.model.team.members.reduce(function (total, member) {
                    return total + (_this.model.membersPercentage[member.email] || 0);
                }, 0);
                if (percentageAcum > 100) {
                    var lastMember = _this.model.team.members.slice(-1)[0];
                    var diff = percentageAcum - 100;
                    var newValue = Number(_angular_common__WEBPACK_IMPORTED_MODULE_1__["DecimalPipe"].prototype.transform(_this.model.membersPercentage[lastMember.email] - diff, '1.0-2', 'en'));
                    if (newValue < 0) {
                        _this.setDefaultInvestmentPercentages();
                        _this.appService.showResults("The sum of percentages must not exceed 100%, we reset the values to make it valid.", 'warn');
                    }
                    else {
                        _this.model.membersPercentage[lastMember.email] = newValue <= 100 ? newValue : 0;
                        _this.appService.showResults("The sum of percentages must not exceed 100%, we reset the last values to make it valid.", 'warn');
                    }
                }
            }
        });
        this.subscription.add(this.formChangesSubscription);
    };
    InvestmentsEditComponent.prototype.ngOnDestroy = function () {
        var methodTrace = this.constructor.name + " > ngOnDestroy() > "; // for debugging
        // this.appService.consoleLog('info', `${methodTrace} Component destroyed.`);
        this.subscription.unsubscribe();
    };
    InvestmentsEditComponent.prototype.onSubmit = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > onSubmit() > "; // for debugging
        this.editInvestmentServiceRunning = true;
        this.model.investmentDistribution = this.populateInvestmentDistributionArray();
        this.model.createdOn = new Date(Date.now());
        this.model.updatedOn = new Date(Date.now());
        // call the investment create service
        var newSubscription = this.investmentsService.create$(this.model).subscribe(function (data) {
            if (data && data.id && data.type) {
                _this.appService.showResults("Investment successfully created!", 'success');
                _this.router.navigate(['/investments/', data.type, 'edit', data.id]);
            }
            else {
                _this.appService.consoleLog('error', methodTrace + " Unexpected data format.");
                _this.editInvestmentServiceRunning = false;
            }
        }, function (error) {
            _this.appService.consoleLog('error', methodTrace + " There was an error with the create/edit investment service.", error);
            if (error.codeno === 400) {
                _this.appService.showResults("There was an error with the investment services, please try again in a few minutes.", 'error');
            }
            _this.editInvestmentServiceRunning = false;
        });
        this.subscription.add(newSubscription);
    };
    InvestmentsEditComponent.prototype.onUpdate = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > onUpdate() > "; // for debugging
        this.editInvestmentServiceRunning = true;
        this.model.investmentDistribution = this.populateInvestmentDistributionArray();
        this.model.updatedOn = new Date(Date.now());
        // call the investment create service
        var newSubscription = this.investmentsService.update$(this.model).subscribe(function (data) {
            if (data && data.id && data.type) {
                _this.appService.showResults("Investment successfully updated!", 'success');
            }
            else {
                _this.appService.consoleLog('error', methodTrace + " Unexpected data format.");
            }
            _this.editInvestmentServiceRunning = false;
        }, function (error) {
            _this.appService.consoleLog('error', methodTrace + " There was an error with the create/edit investment service.", error);
            if (error.codeno === 400) {
                _this.appService.showResults("There was an error with the investment services, please try again in a few minutes.", 'error');
            }
            _this.editInvestmentServiceRunning = false;
        });
        this.subscription.add(newSubscription);
    };
    /**
     * Get my teams from server
     */
    InvestmentsEditComponent.prototype.getTeams = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > getTeams() > "; // for debugging
        this.teams = [];
        this.getTeamsServiceRunning = true;
        var newSubscription = this.teamsService.getTeams$(this.user.email).subscribe(function (teams) {
            _this.teams = teams;
            _this.getTeamsServiceRunning = false;
            _this.setSelectedTeam();
        }, function (error) {
            _this.appService.consoleLog('error', methodTrace + " There was an error in the server while performing this action > " + error);
            if (error.codeno === 400) {
                _this.appService.showResults("There was an error in the server while performing this action, please try again in a few minutes.", 'error');
            }
            else {
                _this.appService.showResults("There was an error with this service and the information provided.", 'error');
            }
            _this.getTeamsServiceRunning = false;
        });
        this.subscription.add(newSubscription);
    };
    /**
     * Get the selected team . This is going to works when teams and investment is here (so we are in edit mode) and the investment has a team selected
     */
    InvestmentsEditComponent.prototype.setSelectedTeam = function () {
        if (this.teams && this.teams.length && this.investment && this.investment.team) {
            for (var _i = 0, _a = this.teams; _i < _a.length; _i++) {
                var team = _a[_i];
                if (this.investment.team.slug === team.slug) {
                    this.model.team = team;
                    break;
                }
            }
        }
    };
    /**
     * Populates an array that specifies the distribution of the investment between its owners and returns it.
     *
     * @return {array} The distribution of the investment
     */
    InvestmentsEditComponent.prototype.populateInvestmentDistributionArray = function () {
        var result = [];
        if (!this.model.team) {
            result.push({ email: this.user.email, percentage: 100 });
        }
        else {
            for (var _i = 0, _a = Object.keys(this.model.membersPercentage); _i < _a.length; _i++) {
                var email = _a[_i];
                result.push({ email: email, percentage: this.model.membersPercentage[email] });
            }
        }
        return result;
    };
    /**
     * Get an investment source from server based on the id provided
     * @param {string} id
     *
     * @return { Observable<Investment> }
     */
    InvestmentsEditComponent.prototype.getInvestment$ = function (id) {
        var methodTrace = this.constructor.name + " > getInvestment$() > "; // for debugging
        if (!id) {
            this.appService.showResults("Invalid investment ID", 'error');
            this.appService.consoleLog('error', methodTrace + " ID parameter must be provided, but was: ", id);
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["of"])(null);
        }
        this.getInvestmentServiceRunning = true;
        return this.investmentsService.getInvestmentById$(this.user.email, id);
    };
    InvestmentsEditComponent.prototype.onSelectChange = function (matSelectChange) {
        this.model.teamSlug = matSelectChange.value.slug;
        this.setDefaultInvestmentPercentages();
    };
    InvestmentsEditComponent.prototype.onRadioChange = function (matRadioChange) {
        if (matRadioChange.value === 'me') {
            // reset team values from model
            this.model.team = this.model.teamSlug = null;
        }
        this.model.membersPercentage = {};
    };
    InvestmentsEditComponent.prototype.onCurrencyUnitChange = function ($event) {
        this.model[$event.source.id] = $event.value;
    };
    InvestmentsEditComponent.prototype.onInvestmentDataChange = function ($event) {
        this.model.investmentData = $event.value.model;
        this.investmentDataValid = $event.value.valid;
    };
    /**
     * Splits equally the percentage of an investment to all the team members
     */
    InvestmentsEditComponent.prototype.setDefaultInvestmentPercentages = function () {
        this.model.membersPercentage = {};
        // set the default percentage of the investment to each member
        var defaultPercentage = Number(_angular_common__WEBPACK_IMPORTED_MODULE_1__["DecimalPipe"].prototype.transform(100 / this.model.team.members.length, '1.0-2', 'en'));
        for (var _i = 0, _a = this.model.team.members; _i < _a.length; _i++) {
            var member = _a[_i];
            this.model.membersPercentage[member.email] = defaultPercentage;
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('editInvestmentForm'),
        __metadata("design:type", Object)
    ], InvestmentsEditComponent.prototype, "form", void 0);
    InvestmentsEditComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'investments-edit',
            template: __webpack_require__(/*! ./investments-edit.component.html */ "./src/app/modules/investments/components/investments-edit/investments-edit.component.html"),
            styles: [__webpack_require__(/*! ./investments-edit.component.scss */ "./src/app/modules/investments/components/investments-edit/investments-edit.component.scss")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"], _shared_components_main_navigator_main_navigator_service__WEBPACK_IMPORTED_MODULE_2__["MainNavigatorService"], _investments_service__WEBPACK_IMPORTED_MODULE_8__["InvestmentsService"],
            _teams_teams_service__WEBPACK_IMPORTED_MODULE_4__["TeamsService"], _app_service__WEBPACK_IMPORTED_MODULE_5__["AppService"], _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"]])
    ], InvestmentsEditComponent);
    return InvestmentsEditComponent;
}());



/***/ }),

/***/ "./src/app/modules/investments/components/property-investment-form/property-investment-form.component.html":
/*!*****************************************************************************************************************!*\
  !*** ./src/app/modules/investments/components/property-investment-form/property-investment-form.component.html ***!
  \*****************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<form class=\"form__container form__edit-property-investment\" #editPropertyInvestmentForm=\"ngForm\" novalidate fxLayout=\"column\" fxLayoutGap=\"10px\">\r\n  \r\n  <progress-bar class=\"progress-bar--get-property\" *ngIf=\"getPropertyServiceRunning\"\r\n      color=\"primary\"\r\n      message=\"Loading property info...\">\r\n  </progress-bar>\r\n  \r\n  <section *ngIf=\"!getPropertyServiceRunning\" fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"form__fields\">\r\n    \r\n    <div fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n      <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n        <!-- Address -->\r\n        <mat-form-field fxFlex class=\"form__field address__field\">\r\n          <input matInput type=\"text\" id=\"property\" name=\"property\" placeholder=\"Property\" \r\n              [(ngModel)]=\"model.address\" \r\n              required\r\n              readonly\r\n              matTooltip=\"Select property...\"\r\n              [value]=\"model.address\"\r\n              #property=\"ngModel\"\r\n              (click)=\"openPropertySelectionDialog()\">\r\n          \r\n          <mat-icon matPrefix [matTooltip]=\"model.property ? 'Go to property' : ''\" [routerLink]=\"model.property ? '/properties/' + model.property.type + '/edit/' + model.property.id : '.'\">home</mat-icon>\r\n          <button mat-button matTooltip=\"Select property...\" matSuffix mat-icon-button aria-label=\"Choose property...\" (click)=\"openPropertySelectionDialog()\">\r\n            <mat-icon>view_list</mat-icon>\r\n          </button>\r\n              \r\n          <mat-error *ngIf=\"property.invalid && (property.dirty || property.touched) && property.errors.required\">This field is required.</mat-error>\r\n        </mat-form-field>\r\n      </div>\r\n    </div>\r\n\r\n    <div fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n      <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n        <!-- Buying date -->\r\n        <mat-form-field fxFlex fxFlex.gt-xs=\"100px\" class=\"form__field\">\r\n          <input placeholder=\"Buying date\"\r\n              id=\"buyingDate\"\r\n              name=\"buyingDate\"\r\n              readonly\r\n              required\r\n              #buyingDate=\"ngModel\"\r\n              matInput \r\n              [(ngModel)]=\"model.buyingDate\" \r\n              [matDatepicker]=\"pickerBuyingDate\"\r\n              (click)=\"pickerBuyingDate.open()\">\r\n          <mat-datepicker-toggle matSuffix [for]=\"pickerBuyingDate\"></mat-datepicker-toggle>\r\n          <mat-datepicker [touchUi]=\"utilService.isGtSm() ? false : true\" #pickerBuyingDate></mat-datepicker>\r\n          <mat-error *ngIf=\"buyingDate.invalid && (buyingDate.dirty || buyingDate.touched) && buyingDate.errors.required\">Buying date is required.</mat-error>\r\n          <mat-error *ngIf=\"buyingDate.invalid && (buyingDate.dirty || buyingDate.touched) && buyingDate.errors.matDatepickerParse\">Buying date is invalid or not follows the pattern \"mm/dd/yyyy\"</mat-error>\r\n        </mat-form-field>\r\n\r\n        <div fxLayout=\"row\" fxLayoutGap=\"10px\">\r\n          <!-- Buying price unit -->\r\n          <currency-unit fxFlex=\"50px\"\r\n              [id]=\"'buyingPriceUnit'\" \r\n              [view]=\"'narrow'\"\r\n              [value]=\"model.buyingPriceUnit\"\r\n              (newValue)=\"onCurrencyUnitChange($event)\">\r\n          </currency-unit>\r\n\r\n          <!-- Buying price -->\r\n          <mat-form-field fxFlex fxFlex.sm=\"120px\" fxFlex.gt-sm=\"200px\" class=\"form__field\">\r\n            <input matInput type=\"number\" id=\"buyingPrice\" name=\"buyingPrice\" placeholder=\"Price\"\r\n                [(ngModel)]=\"model.buyingPrice\" \r\n                [value]=\"model.buyingPrice\"\r\n                numberValidator \r\n                required\r\n                #buyingPrice=\"ngModel\">\r\n            <mat-hint align=\"start\">Price on buying date.</mat-hint>\r\n            <mat-error *ngIf=\"buyingPrice.invalid && (buyingPrice.dirty || buyingPrice.touched) && buyingPrice.errors.required\">Buying price is required.</mat-error>\r\n            <mat-error *ngIf=\"buyingPrice.invalid && (buyingPrice.dirty || buyingPrice.touched) && buyingPrice.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n        \r\n      </div>\r\n    </div>\r\n  </section>\r\n</form>\r\n"

/***/ }),

/***/ "./src/app/modules/investments/components/property-investment-form/property-investment-form.component.scss":
/*!*****************************************************************************************************************!*\
  !*** ./src/app/modules/investments/components/property-investment-form/property-investment-form.component.scss ***!
  \*****************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".form__edit-property-investment .address__field {\n  cursor: pointer; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9pbnZlc3RtZW50cy9jb21wb25lbnRzL3Byb3BlcnR5LWludmVzdG1lbnQtZm9ybS9DOlxcdzNcXGF0b21pQ29jb251dFxcY2xpZW50L3NyY1xcYXBwXFxtb2R1bGVzXFxpbnZlc3RtZW50c1xcY29tcG9uZW50c1xccHJvcGVydHktaW52ZXN0bWVudC1mb3JtXFxwcm9wZXJ0eS1pbnZlc3RtZW50LWZvcm0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFHSSxnQkFBZSxFQUNoQiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvaW52ZXN0bWVudHMvY29tcG9uZW50cy9wcm9wZXJ0eS1pbnZlc3RtZW50LWZvcm0vcHJvcGVydHktaW52ZXN0bWVudC1mb3JtLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmZvcm1fX2VkaXQtcHJvcGVydHktaW52ZXN0bWVudCB7XHJcblxyXG4gIC5hZGRyZXNzX19maWVsZCB7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgfVxyXG59Il19 */"

/***/ }),

/***/ "./src/app/modules/investments/components/property-investment-form/property-investment-form.component.ts":
/*!***************************************************************************************************************!*\
  !*** ./src/app/modules/investments/components/property-investment-form/property-investment-form.component.ts ***!
  \***************************************************************************************************************/
/*! exports provided: PropertyInvestmentFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PropertyInvestmentFormComponent", function() { return PropertyInvestmentFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../app.service */ "./src/app/app.service.ts");
/* harmony import */ var _util_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../util.service */ "./src/app/util.service.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../constants */ "./src/app/constants.ts");
/* harmony import */ var _properties_properties_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../properties/properties.service */ "./src/app/modules/properties/properties.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _users_models_user__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../users/models/user */ "./src/app/modules/users/models/user.ts");
/* harmony import */ var _properties_components_property_selector_dialog_property_selector_dialog_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../properties/components/property-selector-dialog/property-selector-dialog.component */ "./src/app/modules/properties/components/property-selector-dialog/property-selector-dialog.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var PropertyInvestmentFormComponent = /** @class */ (function () {
    function PropertyInvestmentFormComponent(dateAdapter, appService, dialog, utilService, propertiesService, router) {
        this.dateAdapter = dateAdapter;
        this.appService = appService;
        this.dialog = dialog;
        this.utilService = utilService;
        this.propertiesService = propertiesService;
        this.router = router;
        this.defaultValues = null; // the default values of the component model  
        this.user = null;
        this.values = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.model = {
            type: null,
            property: null,
            propertyId: null,
            address: null,
            buyingPrice: null,
            buyingPriceUnit: null,
            buyingDate: null
        };
        this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subscription"]();
        this.getPropertyServiceRunning = false;
        this.dateAdapter.setLocale('en-GB');
    }
    PropertyInvestmentFormComponent.prototype.ngOnInit = function () {
        this.model.type = _constants__WEBPACK_IMPORTED_MODULE_6__["INVESTMENTS_TYPES"].PROPERTY;
        this.model.buyingDate = new Date(Date.now());
        this.model.buyingPriceUnit = this.user.currency;
        Object.assign(this.model, this.defaultValues);
        if (this.model.propertyId) {
            // when creating from the property "invest action" or some component that shows properties an allow the creation of an investment of it
            this.getProperty(this.model.propertyId);
        }
        else if (this.model.property) {
            // when editing a property investment
            this.model.address = this.model.property.address.description;
        }
    };
    PropertyInvestmentFormComponent.prototype.ngOnDestroy = function () {
        var methodTrace = this.constructor.name + " > ngOnDestroy() > "; // for debugging
        // this.appService.consoleLog('info', `${methodTrace} Component destroyed.`);
        this.subscription.unsubscribe();
    };
    PropertyInvestmentFormComponent.prototype.onCurrencyUnitChange = function ($event) {
        this.model[$event.source.id] = $event.value;
        this.emitValues();
    };
    PropertyInvestmentFormComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        // send data before touching any value
        this.emitValues();
        // after any event in the form we send updated data
        var newSubscription = this.form.valueChanges.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["debounceTime"])(500)).subscribe(function (values) {
            _this.emitValues();
        });
        this.subscription.add(newSubscription);
    };
    PropertyInvestmentFormComponent.prototype.emitValues = function () {
        this.values.emit({
            value: {
                model: this.model,
                valid: this.form.valid
            }
        });
    };
    /**
     * Get a property from server based on the id provided
     * @param {string} id
     */
    PropertyInvestmentFormComponent.prototype.getProperty = function (id) {
        var _this = this;
        var methodTrace = this.constructor.name + " > getProperty() > "; // for debugging
        if (!id) {
            this.appService.showResults("Invalid property ID", 'error');
            this.appService.consoleLog('error', methodTrace + " ID parameter must be provided, but was: ", id);
            this.router.navigate(['/properties']);
        }
        this.getPropertyServiceRunning = true;
        var newSubscription = this.propertiesService.getPropertyById$(this.user.email, id).subscribe(function (property) {
            _this.setProperty(property);
        }, function (error) {
            _this.appService.consoleLog('error', methodTrace + " There was an error in the server while performing this action > ", error);
            if (error.codeno === 400) {
                _this.appService.showResults("There was an error in the server while performing this action, please try again in a few minutes.", 'error');
            }
            else if (error.codeno === 461 || error.codeno === 462) {
                _this.appService.showResults(error.msg, 'error');
            }
            else {
                _this.appService.showResults("There was an error with this service and the information provided.", 'error');
            }
            _this.router.navigate(['/properties']);
            _this.getPropertyServiceRunning = false;
        });
        this.subscription.add(newSubscription);
    };
    PropertyInvestmentFormComponent.prototype.setProperty = function (property) {
        if (property.createdBy.email !== this.user.email) {
            // we cannot create an investment of a property not created by me
            this.appService.showResults("Only the property creator (" + property.createdBy.name + ") is allowed to create an investment with this property.", 'error');
            return this.router.navigate(['/properties']);
        }
        else {
            this.model.property = property;
            this.model.address = property.address.description;
            var buyingPrice = null;
            var buyingPriceUnit = null;
            if (property.purchasePrice) {
                buyingPrice = property.purchasePrice;
                buyingPriceUnit = property.purchasePriceUnit;
            }
            else if (property.offerPrice) {
                buyingPrice = property.offerPrice;
                buyingPriceUnit = property.offerPriceUnit;
            }
            else if (property.askingPrice) {
                buyingPrice = property.askingPrice;
                buyingPriceUnit = property.askingPriceUnit;
            }
            else if (property.walkAwayPrice) {
                buyingPrice = property.walkAwayPrice;
                buyingPriceUnit = property.walkAwayPriceUnit;
            }
            this.model.buyingPrice = buyingPrice;
            this.model.buyingPriceUnit = buyingPriceUnit || this.user.currency;
            this.getPropertyServiceRunning = false;
        }
    };
    PropertyInvestmentFormComponent.prototype.openPropertySelectionDialog = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > openPropertySelectionDialog() > "; // for debugging
        var propertySelectorDialogRef = this.dialog.open(_properties_components_property_selector_dialog_property_selector_dialog_component__WEBPACK_IMPORTED_MODULE_10__["PropertySelectorDialogComponent"], {
            data: {
                title: 'Select a property',
                user: this.user
            }
        });
        var newSubscription = propertySelectorDialogRef.afterClosed().subscribe(function (result) {
            if (result) {
                _this.setProperty(result);
            }
        });
        this.subscription.add(newSubscription);
        return false;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('editPropertyInvestmentForm'),
        __metadata("design:type", Object)
    ], PropertyInvestmentFormComponent.prototype, "form", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], PropertyInvestmentFormComponent.prototype, "defaultValues", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _users_models_user__WEBPACK_IMPORTED_MODULE_9__["User"])
    ], PropertyInvestmentFormComponent.prototype, "user", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], PropertyInvestmentFormComponent.prototype, "values", void 0);
    PropertyInvestmentFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'property-investment-form',
            template: __webpack_require__(/*! ./property-investment-form.component.html */ "./src/app/modules/investments/components/property-investment-form/property-investment-form.component.html"),
            styles: [__webpack_require__(/*! ./property-investment-form.component.scss */ "./src/app/modules/investments/components/property-investment-form/property-investment-form.component.scss")]
        }),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_3__["DateAdapter"], _app_service__WEBPACK_IMPORTED_MODULE_4__["AppService"], _angular_material__WEBPACK_IMPORTED_MODULE_3__["MatDialog"],
            _util_service__WEBPACK_IMPORTED_MODULE_5__["UtilService"], _properties_properties_service__WEBPACK_IMPORTED_MODULE_7__["PropertiesService"], _angular_router__WEBPACK_IMPORTED_MODULE_8__["Router"]])
    ], PropertyInvestmentFormComponent);
    return PropertyInvestmentFormComponent;
}());



/***/ }),

/***/ "./src/app/modules/investments/components/property-investment/property-investment.component.html":
/*!*******************************************************************************************************!*\
  !*** ./src/app/modules/investments/components/property-investment/property-investment.component.html ***!
  \*******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-card class=\"investment__card\">\r\n  <mat-card-header routerLink=\"/properties/{{investment.property.type}}/edit/{{investment.property.id}}\">\r\n    <div mat-card-avatar class=\"header-image\">\r\n        <img [src]=\"'/assets/images/house.png'\" [alt]=\"investment.type\" />\r\n    </div>\r\n    <mat-card-title>{{investmentTitle}}</mat-card-title>\r\n    <mat-card-subtitle>{{investment.property.address.description}}</mat-card-subtitle>\r\n  </mat-card-header>\r\n  <mat-card-content class=\"card__content\">\r\n    <!-- Card Data -->\r\n    <div fxLayout=\"column\" fxLayoutAlign=\"space-evenly center\" class=\"card__data\">\r\n      <span>Amount invested: <strong>{{investmentAmount | currency : 'USD' : 'code' : '1.2-2' }}</strong></span>\r\n\r\n      <span>on {{investment.buyingDate | date}}</span>\r\n      \r\n      <div fxLayout=\"row\" fxLayoutGap=\"5px\" fxLayoutAlign=\"center center\">\r\n        <span>Buying price: {{ buyingPrice | currency : 'USD' : 'code' : '1.2-2' }}</span>\r\n        <info-tooltip text=\"Price on investment date\" position=\"right\"></info-tooltip>\r\n      </div>\r\n\r\n      <div>\r\n        Today market value: \r\n        <span [class.color__accent]=\"currentPrice >= buyingPrice\" \r\n          [class.color__red]=\"currentPrice < buyingPrice\">\r\n\r\n          <strong>{{currentPrice | currency : 'USD' : 'code' : '1.2-2'}}</strong>\r\n        </span>\r\n      </div>\r\n\r\n      <div fxLayout=\"row\" fxLayoutGap=\"5px\" fxLayoutAlign=\"center center\">\r\n        <span *ngIf=\"investment.loanAmount\">\r\n          Loan amount: <strong>{{ loanAmount | currency : 'USD' : 'code' : '1.2-2' }}</strong>\r\n        </span>\r\n        <info-tooltip text=\"{{loanAmount / buyingPrice | percent}} of buying price\" position=\"right\"></info-tooltip>\r\n      </div>\r\n\r\n      <div fxLayout=\"column\" [class.color__accent]=\"investmentReturn >= investmentAmount\" \r\n          [class.color__red]=\"investmentReturn < investmentAmount\">\r\n        \r\n        <div fxLayout=\"row\" fxLayoutGap=\"5px\" fxLayoutAlign=\"center center\">\r\n          <span>ROI: <strong>{{ investmentReturn | currency : 'USD' : 'code' : '1.2-2' }}</strong> ({{investmentReturn / investmentAmount | percent : '1.1-2'}})</span>\r\n          <info-tooltip text=\"Return on investment (Market value)\" position=\"right\"></info-tooltip>\r\n        </div>\r\n\r\n        <div fxLayout=\"row\" fxLayoutGap=\"5px\" fxLayoutAlign=\"center center\">\r\n          <span>Net ROI: <strong>{{ investmentReturn - investmentAmount - loanAmount | currency : 'USD' : 'code' : '1.2-2' }}</strong></span>\r\n          <info-tooltip text=\"Return on investment - Amount invested - Loan amount\" position=\"right\"></info-tooltip>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- Team -->\r\n    <mat-expansion-panel *ngIf=\"team\" class=\"team-panel\">\r\n      <mat-expansion-panel-header>\r\n        <mat-panel-title>\r\n          {{team.name}}\r\n        </mat-panel-title>\r\n        <mat-panel-description>\r\n          \r\n        </mat-panel-description>\r\n      </mat-expansion-panel-header>\r\n      \r\n      <div fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"team-panel__content\">\r\n\r\n        <section class=\"members\" fxLayout=\"column\" fxLayoutGap=\"10px\">\r\n          <div *ngFor=\"let portion of investmentDistribution\" fxLayout=\"row\" fxLayoutGap=\"10px\" class=\"member\">\r\n            <img class=\"member__avatar\" [src]=\"portion.member.avatar\"/>\r\n            <div fxFlex class=\"member__info\" fxLayout=\"column\">\r\n              <p class=\"member__name\">{{portion.member.name}}</p>\r\n              <!-- <p class=\"member__email\">{{member.email}}</p> -->\r\n              <div class=\"member__money\" fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between end\">\r\n                <p>{{ portion.percentage }}%</p>\r\n                <p>{{ portion.money | currency : 'USD' : 'code' : '1.2-2' }}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </div>\r\n      \r\n    </mat-expansion-panel>\r\n    <!-- EOF Team -->\r\n\r\n    <section class=\"card__actions\" fxLayout=\"row\" fxLayoutAlign=\"end none\" fxLayoutGap=\"10px\">\r\n      <button *ngIf=\"!actionRunning\" mat-mini-fab routerLink=\"/investments/property/edit/{{investment.id}}\" color=\"primary\" (click)=\"actionRunning = true\">\r\n        <mat-icon aria-label=\"Edit Investment\">edit</mat-icon>\r\n      </button>\r\n\r\n      <button *ngIf=\"!actionRunning\" mat-mini-fab color=\"warn\" (click)=\"openDeleteDialog()\">\r\n        <mat-icon aria-label=\"Delete investment\">delete</mat-icon>\r\n      </button>\r\n\r\n      <mat-progress-spinner *ngIf=\"actionRunning\"\r\n        class=\"progress-spinner progress-spinner--action\"\r\n        color=\"warn\"\r\n        [diameter]=\"40\" [strokeWidth]=\"7\"\r\n        mode=\"indeterminate\">\r\n      </mat-progress-spinner>\r\n    </section>\r\n  </mat-card-content>\r\n</mat-card>"

/***/ }),

/***/ "./src/app/modules/investments/components/property-investment/property-investment.component.scss":
/*!*******************************************************************************************************!*\
  !*** ./src/app/modules/investments/components/property-investment/property-investment.component.scss ***!
  \*******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".investment__card {\n  text-align: left; }\n  .investment__card mat-card-header {\n    cursor: pointer; }\n  .investment__card mat-card-header .header-image img {\n      width: 40px; }\n  .investment__card .card__content .team-panel {\n    cursor: default;\n    margin-top: 10px; }\n  .investment__card .card__content .team-panel mat-panel-title {\n      font-size: 18px; }\n  .investment__card .card__content .team-panel .team-panel__content {\n      text-align: left; }\n  .investment__card .card__content .team-panel .team-panel__content .members .member .member__avatar {\n        border-radius: 50%;\n        width: 40px;\n        height: 40px;\n        padding: 0 10px 0 0; }\n  .investment__card .card__content .team-panel .team-panel__content .members .member .member__info .member__email {\n        font-size: 11px; }\n  .investment__card .card__content .card__actions {\n    margin: 10px 0 0; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9pbnZlc3RtZW50cy9jb21wb25lbnRzL3Byb3BlcnR5LWludmVzdG1lbnQvQzpcXHczXFxhdG9taUNvY29udXRcXGNsaWVudC9zcmNcXGFwcFxcbW9kdWxlc1xcaW52ZXN0bWVudHNcXGNvbXBvbmVudHNcXHByb3BlcnR5LWludmVzdG1lbnRcXHByb3BlcnR5LWludmVzdG1lbnQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxpQkFBZ0IsRUFrRGpCO0VBbkREO0lBSUksZ0JBQWUsRUFRaEI7RUFaSDtNQVNRLFlBQVksRUFDYjtFQVZQO0lBaUJNLGdCQUFlO0lBQ2YsaUJBQWdCLEVBMkJqQjtFQTdDTDtNQXFCUSxnQkFBZSxFQUNoQjtFQXRCUDtNQXlCUSxpQkFBZ0IsRUFrQmpCO0VBM0NQO1FBOEJZLG1CQUFrQjtRQUNsQixZQUFXO1FBQ1gsYUFBWTtRQUNaLG9CQUFtQixFQUNwQjtFQWxDWDtRQXVDYyxnQkFBZSxFQUNoQjtFQXhDYjtJQWdETSxpQkFBZ0IsRUFDakIiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL2ludmVzdG1lbnRzL2NvbXBvbmVudHMvcHJvcGVydHktaW52ZXN0bWVudC9wcm9wZXJ0eS1pbnZlc3RtZW50LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmludmVzdG1lbnRfX2NhcmQge1xyXG4gIHRleHQtYWxpZ246IGxlZnQ7XHJcblxyXG4gIG1hdC1jYXJkLWhlYWRlciB7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcblxyXG4gICAgLmhlYWRlci1pbWFnZSB7XHJcbiAgICBcclxuICAgICAgaW1nIHtcclxuICAgICAgICB3aWR0aCA6IDQwcHg7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC5jYXJkX19jb250ZW50IHtcclxuXHJcbiAgICAudGVhbS1wYW5lbCB7XHJcbiAgICAgIGN1cnNvcjogZGVmYXVsdDtcclxuICAgICAgbWFyZ2luLXRvcDogMTBweDtcclxuICBcclxuICAgICAgbWF0LXBhbmVsLXRpdGxlIHtcclxuICAgICAgICBmb250LXNpemU6IDE4cHg7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgLnRlYW0tcGFuZWxfX2NvbnRlbnQge1xyXG4gICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLm1lbWJlcnMgLm1lbWJlciB7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC5tZW1iZXJfX2F2YXRhciB7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgICAgICAgICAgd2lkdGg6IDQwcHg7XHJcbiAgICAgICAgICAgIGhlaWdodDogNDBweDtcclxuICAgICAgICAgICAgcGFkZGluZzogMCAxMHB4IDAgMDtcclxuICAgICAgICAgIH1cclxuICBcclxuICAgICAgICAgIC5tZW1iZXJfX2luZm8ge1xyXG4gIFxyXG4gICAgICAgICAgICAubWVtYmVyX19lbWFpbCB7XHJcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAxMXB4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIC5jYXJkX19hY3Rpb25zIHtcclxuICAgICAgbWFyZ2luOiAxMHB4IDAgMDsgXHJcbiAgICB9XHJcbiAgfVxyXG59Il19 */"

/***/ }),

/***/ "./src/app/modules/investments/components/property-investment/property-investment.component.ts":
/*!*****************************************************************************************************!*\
  !*** ./src/app/modules/investments/components/property-investment/property-investment.component.ts ***!
  \*****************************************************************************************************/
/*! exports provided: PropertyInvestmentComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PropertyInvestmentComponent", function() { return PropertyInvestmentComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _models_PropertyInvestment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models/PropertyInvestment */ "./src/app/modules/investments/models/PropertyInvestment.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _currency_exchange_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../currency-exchange.service */ "./src/app/modules/investments/currency-exchange.service.ts");
/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../app.service */ "./src/app/app.service.ts");
/* harmony import */ var _users_users_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../users/users.service */ "./src/app/modules/users/users.service.ts");
/* harmony import */ var _investments_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../investments.service */ "./src/app/modules/investments/investments.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _shared_components_yes_no_dialog_yes_no_dialog_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../shared/components/yes-no-dialog/yes-no-dialog.component */ "./src/app/modules/shared/components/yes-no-dialog/yes-no-dialog.component.ts");
/* harmony import */ var _properties_models_house__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../properties/models/house */ "./src/app/modules/properties/models/house.ts");
/* harmony import */ var _util_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../util.service */ "./src/app/util.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













var PropertyInvestmentComponent = /** @class */ (function () {
    function PropertyInvestmentComponent(currencyExchangeService, appService, usersService, investmentsService, dialog, router, utilService) {
        this.currencyExchangeService = currencyExchangeService;
        this.appService = appService;
        this.usersService = usersService;
        this.investmentsService = investmentsService;
        this.dialog = dialog;
        this.router = router;
        this.utilService = utilService;
        this.totalReturns = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.deletedInvestment = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.teams$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"]([]);
        this.investmentAmount = 0;
        this.buyingPrice = 0;
        this.investmentReturn = 0;
        this.investmentValueWhenBought = 0;
        this.currentPrice = 0;
        this.loanAmount = 0;
        this.investmentTitle = null;
        this.actionRunning = false;
        this.user = null;
        this.team = null; // if the investment has a tema this will be populated with the full info of the team
        this.investmentDistribution = [];
        this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subscription"]();
    }
    Object.defineProperty(PropertyInvestmentComponent.prototype, "teams", {
        get: function () {
            return this.teams$.getValue();
        },
        set: function (teams) {
            this.teams$.next(teams);
        },
        enumerable: true,
        configurable: true
    });
    PropertyInvestmentComponent.prototype.ngOnInit = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > ngOnInit() > "; // for debugging
        if (this.investment.property instanceof _properties_models_house__WEBPACK_IMPORTED_MODULE_11__["House"]) {
            this.investmentTitle = this.utilService.capitalizeFirstLetter(this.investment.property.buildingType);
        }
        // get the team of the investmetn if exists
        var newSubscription = null;
        var currencyRates$ = this.currencyExchangeService.getCurrencyRates$([this.utilService.formatDate(this.investment.buyingDate)]); // get currency rates observable source
        var currencyRatesAndUser$ = this.usersService.user$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["combineLatest"])(currencyRates$, function (user, currencyRates) {
            _this.user = user;
            return { user: user, currencyRates: currencyRates };
        })); // (currency rates and user) source
        newSubscription = currencyRatesAndUser$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["switchMap"])(function (data) {
            // market value should be always up to date so no rate conversion is required
            _this.currentPrice = _this.currencyExchangeService.getUsdValueOf(_this.investment.property.marketValue, _this.investment.property.marketValueUnit);
            // the investment amount was paid on the date of the investment so we need to convert using that day rates
            _this.investmentAmount = _this.investment.investmentAmount / (data.currencyRates[_this.utilService.formatDate(_this.investment.buyingDate)]["USD" + _this.investment.investmentAmountUnit] || 1);
            // the loan amount was requested on the date of the investment so we need to convert using that day rates
            _this.loanAmount = _this.investment.loanAmount / (data.currencyRates[_this.utilService.formatDate(_this.investment.buyingDate)]["USD" + _this.investment.loanAmountUnit] || 1);
            // the buying price (of the property) was requested on the date of the investment so we need to convert using that day rates
            _this.buyingPrice = _this.investment.buyingPrice / (data.currencyRates[_this.utilService.formatDate(_this.investment.buyingDate)]["USD" + _this.investment.buyingPriceUnit] || 1);
            _this.investmentReturn = _this.currentPrice;
            return _this.teams$;
        })).subscribe(function (teams) {
            _this.setInvestmentTeamData(teams);
        }, function (error) {
            _this.appService.consoleLog('error', methodTrace + " There was an error trying to generate investment data > ", error);
            _this.appService.showResults("There was an error trying to generate investment data, please try again in a few minutes.", 'error');
        });
        this.subscription.add(newSubscription);
    };
    PropertyInvestmentComponent.prototype.ngOnDestroy = function () {
        var methodTrace = this.constructor.name + " > ngOnDestroy() > "; // for debugging
        // this.appService.consoleLog('info', `${methodTrace} Component destroyed.`);
        this.subscription.unsubscribe();
    };
    /**
     * Populates team data as well as the distribution on the investment between team members when the investment is asigned to a team
     *
     * @param {Team[]} teams . The teams of the current user
     */
    PropertyInvestmentComponent.prototype.setInvestmentTeamData = function (teams) {
        var _this = this;
        this.team = this.investment.team ? teams.filter(function (team) { return team.slug === _this.investment.team.slug; })[0] : null; // look for the team of the investment
        // set totals to emit to parent component. If no team assigned then the total of the investment is the same as my portion
        var totals = {
            investmentId: this.investment.id,
            investmentAmount: this.investmentAmount,
            investmentReturn: this.investmentReturn,
            myInvestmentAmount: this.investmentAmount,
            myInvestmentReturn: this.investmentReturn
        };
        if (this.team) {
            var _loop_1 = function (member) {
                var percentage = (this_1.investment.investmentDistribution.filter(function (portion) { return portion.email === member.email; })[0]).percentage;
                this_1.investmentDistribution.push({
                    member: member,
                    percentage: percentage,
                    money: this_1.investmentReturn * percentage / 100
                });
                if (this_1.user && this_1.user.email === member.email) {
                    totals.myInvestmentAmount = this_1.investmentAmount * percentage / 100;
                    totals.myInvestmentReturn = this_1.investmentReturn * percentage / 100;
                }
            };
            var this_1 = this;
            // if team is present then get my portion of the investment
            for (var _i = 0, _a = this.team.members; _i < _a.length; _i++) {
                var member = _a[_i];
                _loop_1(member);
            }
        }
        this.totalReturns.emit(totals);
    };
    PropertyInvestmentComponent.prototype.openDeleteDialog = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > openDeleteDialog() > "; // for debugging
        if (!this.investment.id) {
            this.appService.consoleLog('error', methodTrace + " Investment ID is required to delete.");
            return false;
        }
        this.actionRunning = true;
        var yesNoDialogRef = this.dialog.open(_shared_components_yes_no_dialog_yes_no_dialog_component__WEBPACK_IMPORTED_MODULE_10__["YesNoDialogComponent"], {
            width: '250px',
            data: {
                title: 'Delete investment',
                message: "Are you sure you want to delete this investment forever?"
            }
        });
        var newSubscription = yesNoDialogRef.afterClosed().subscribe(function (result) {
            if (result === 'yes') {
                _this.delete();
            }
            else {
                _this.actionRunning = false;
            }
        });
        this.subscription.add(newSubscription);
        return false;
    };
    PropertyInvestmentComponent.prototype.delete = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > delete() > "; // for debugging
        if (this.user) {
            this.actionRunning = true;
            var newSubscription = this.investmentsService.delete$(this.investment.id, this.user.email).subscribe(function (data) {
                if (data && data.removed > 0) {
                    _this.appService.showResults("Investment successfully removed!", 'success');
                    _this.deletedInvestment.emit({ investment: _this.investment, investmentReturn: _this.investmentReturn, investmentAmount: _this.investmentAmount });
                }
                else {
                    _this.appService.showResults("Investment could not be removed, please try again.", 'error');
                    _this.actionRunning = false;
                }
            }, function (error) {
                _this.appService.consoleLog('error', methodTrace + " There was an error in the server while performing this action > " + error);
                if (error.codeno === 400) {
                    _this.appService.showResults("There was an error in the server while performing this action, please try again in a few minutes.", 'error');
                }
                else {
                    _this.appService.showResults("There was an error with this service and the information provided.", 'error');
                }
                _this.actionRunning = false;
            });
            this.subscription.add(newSubscription);
        }
        else {
            this.appService.showResults("You are not logged into AtomiCoconut, you must login first.", 'error');
            this.router.navigate(['/users/login']);
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _models_PropertyInvestment__WEBPACK_IMPORTED_MODULE_1__["PropertyInvestment"])
    ], PropertyInvestmentComponent.prototype, "investment", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array),
        __metadata("design:paramtypes", [Array])
    ], PropertyInvestmentComponent.prototype, "teams", null);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], PropertyInvestmentComponent.prototype, "totalReturns", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], PropertyInvestmentComponent.prototype, "deletedInvestment", void 0);
    PropertyInvestmentComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'property-investment',
            template: __webpack_require__(/*! ./property-investment.component.html */ "./src/app/modules/investments/components/property-investment/property-investment.component.html"),
            styles: [__webpack_require__(/*! ./property-investment.component.scss */ "./src/app/modules/investments/components/property-investment/property-investment.component.scss")]
        }),
        __metadata("design:paramtypes", [_currency_exchange_service__WEBPACK_IMPORTED_MODULE_4__["CurrencyExchangeService"], _app_service__WEBPACK_IMPORTED_MODULE_5__["AppService"], _users_users_service__WEBPACK_IMPORTED_MODULE_6__["UsersService"], _investments_service__WEBPACK_IMPORTED_MODULE_7__["InvestmentsService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_8__["MatDialog"], _angular_router__WEBPACK_IMPORTED_MODULE_9__["Router"], _util_service__WEBPACK_IMPORTED_MODULE_12__["UtilService"]])
    ], PropertyInvestmentComponent);
    return PropertyInvestmentComponent;
}());



/***/ }),

/***/ "./src/app/modules/investments/currency-exchange.service.ts":
/*!******************************************************************!*\
  !*** ./src/app/modules/investments/currency-exchange.service.ts ***!
  \******************************************************************/
/*! exports provided: CurrencyExchangeService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CurrencyExchangeService", function() { return CurrencyExchangeService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../app.service */ "./src/app/app.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _util_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util.service */ "./src/app/util.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var CurrencyExchangeService = /** @class */ (function () {
    function CurrencyExchangeService(http, appService, utilService) {
        this.http = http;
        this.appService = appService;
        this.utilService = utilService;
        this.cryptoExchangeServerUrl = 'https://coincap.io/page/';
        this.cryptoRates = {};
        this.currencyRates = {};
        this.serverHost = _environments_environment__WEBPACK_IMPORTED_MODULE_5__["environment"].apiHost + '/api/currencyRates';
    }
    CurrencyExchangeService.prototype.getCurrencyRates$ = function (dates, base) {
        var _this = this;
        if (dates === void 0) { dates = []; }
        if (base === void 0) { base = 'USD'; }
        var methodTrace = this.constructor.name + " > getCurrencyRates$() > "; // for debugging
        dates.push(this.utilService.formatToday('YYYY-MM-DD')); // adds today to the array
        // check if all the required dates are already cached in this service
        var found = true;
        for (var _i = 0, dates_1 = dates; _i < dates_1.length; _i++) {
            var date = dates_1[_i];
            if (!this.currencyRates[date]) {
                found = false;
                break;
            }
        }
        if (found) {
            // all dates cached then return this object
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(this.currencyRates);
        }
        // if here then we need to retrieve some dates from the server
        var params = new _angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpParams"]().set('dates', "" + dates);
        return this.http.get(this.serverHost + "/getByDates/" + base, { params: params }).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(function (res) {
            var data = _this.appService.extractData(res);
            if (data) {
                // merge results
                Object.assign(_this.currencyRates, data);
            }
            else {
                _this.appService.consoleLog('error', methodTrace + " Unexpected data format.");
            }
            return _this.currencyRates;
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["catchError"])(this.appService.handleError), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["retry"])(3));
    };
    CurrencyExchangeService.prototype.getCryptoRates$ = function (crypto) {
        var _this = this;
        if (crypto === void 0) { crypto = 'BTC'; }
        var methodTrace = this.constructor.name + " > getCryptoRates$() > "; // for debugging
        if (this.cryptoRates[crypto.toUpperCase()]) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(this.cryptoRates[crypto.toUpperCase()]);
        }
<<<<<<< HEAD
<<<<<<< HEAD
        return this.http.get("" + this.cryptoExchangeServerUrl + crypto.toUpperCase()).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(function (res) { return _this.extractCryptoExchangeData(crypto, res); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["switchMap"])(function (rates) {
=======
        return this.http.get("" + this.cryptoExchangeServerUrl + crypto.toUpperCase()).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(this.extractCryptoExchangeData), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["switchMap"])(function (rates) {
>>>>>>> more progress in this refactor
=======
        return this.http.get("" + this.cryptoExchangeServerUrl + crypto.toUpperCase()).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(function (res) { return _this.extractCryptoExchangeData(crypto, res); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["switchMap"])(function (rates) {
>>>>>>> more fixes in welcome component
            if (rates) {
                _this.cryptoRates[crypto.toUpperCase()] = rates;
            }
            else {
                _this.appService.consoleLog('error', methodTrace + " Unexpected data format.");
            }
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(_this.cryptoRates[crypto.toUpperCase()]);
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["catchError"])(this.appService.handleError));
    };
    CurrencyExchangeService.prototype.extractCryptoExchangeData = function (crypto, res) {
        if (res['id'] === crypto.toUpperCase()) {
            return res;
        }
        else {
            throw res;
        }
    };
    /**
     * Get the value on USD at today's rate of the amount provided in a foreign unit
     * @param amount
     * @param unit
     */
    CurrencyExchangeService.prototype.getUsdValueOf = function (amount, unit) {
        if (unit !== 'USD') {
            var today = this.utilService.formatToday();
            if (this.currencyRates[today]) {
                return amount / this.currencyRates[today]["USD" + unit];
            }
            else {
                this.appService.showResults('Currency rates data was not loaded yet. Figures are shown as USD', 'error');
            }
        }
        return amount;
    };
    CurrencyExchangeService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"], _app_service__WEBPACK_IMPORTED_MODULE_2__["AppService"], _util_service__WEBPACK_IMPORTED_MODULE_6__["UtilService"]])
    ], CurrencyExchangeService);
    return CurrencyExchangeService;
}());



/***/ }),

/***/ "./src/app/modules/investments/investments-routing.module.ts":
/*!*******************************************************************!*\
  !*** ./src/app/modules/investments/investments-routing.module.ts ***!
  \*******************************************************************/
/*! exports provided: InvestmentsRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InvestmentsRoutingModule", function() { return InvestmentsRoutingModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _components_investments_dashboard_investments_dashboard_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/investments-dashboard/investments-dashboard.component */ "./src/app/modules/investments/components/investments-dashboard/investments-dashboard.component.ts");
/* harmony import */ var _components_investments_edit_investments_edit_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/investments-edit/investments-edit.component */ "./src/app/modules/investments/components/investments-edit/investments-edit.component.ts");
/* harmony import */ var _auth_resolver_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../auth-resolver.service */ "./src/app/auth-resolver.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var routes = [
    {
        path: 'investments',
        children: [
            {
                path: ':type/create',
                component: _components_investments_edit_investments_edit_component__WEBPACK_IMPORTED_MODULE_3__["InvestmentsEditComponent"],
                resolve: {
                    authUser: _auth_resolver_service__WEBPACK_IMPORTED_MODULE_4__["AuthResolver"]
                }
            },
            {
                path: ':type/create/:id',
                component: _components_investments_edit_investments_edit_component__WEBPACK_IMPORTED_MODULE_3__["InvestmentsEditComponent"],
                resolve: {
                    authUser: _auth_resolver_service__WEBPACK_IMPORTED_MODULE_4__["AuthResolver"]
                }
            },
            {
                path: ':type/edit/:id',
                component: _components_investments_edit_investments_edit_component__WEBPACK_IMPORTED_MODULE_3__["InvestmentsEditComponent"],
                resolve: {
                    authUser: _auth_resolver_service__WEBPACK_IMPORTED_MODULE_4__["AuthResolver"]
                }
            },
            {
                path: '',
                pathMatch: 'full',
                component: _components_investments_dashboard_investments_dashboard_component__WEBPACK_IMPORTED_MODULE_2__["InvestmentsDashboardComponent"],
                resolve: {
                    authUser: _auth_resolver_service__WEBPACK_IMPORTED_MODULE_4__["AuthResolver"]
                }
            }
        ]
    }
];
var InvestmentsRoutingModule = /** @class */ (function () {
    function InvestmentsRoutingModule() {
    }
    InvestmentsRoutingModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forChild(routes)],
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]]
        })
    ], InvestmentsRoutingModule);
    return InvestmentsRoutingModule;
}());



/***/ }),

/***/ "./src/app/modules/investments/investments.module.ts":
/*!***********************************************************!*\
  !*** ./src/app/modules/investments/investments.module.ts ***!
  \***********************************************************/
/*! exports provided: InvestmentsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InvestmentsModule", function() { return InvestmentsModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _investments_routing_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./investments-routing.module */ "./src/app/modules/investments/investments-routing.module.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/flex-layout */ "./node_modules/@angular/flex-layout/esm5/flex-layout.es5.js");
/* harmony import */ var _modules_shared_custom_material_design_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../modules/shared/custom-material-design.module */ "./src/app/modules/shared/custom-material-design.module.ts");
/* harmony import */ var _modules_shared_shared_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../modules/shared/shared.module */ "./src/app/modules/shared/shared.module.ts");
/* harmony import */ var _components_investments_dashboard_investments_dashboard_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/investments-dashboard/investments-dashboard.component */ "./src/app/modules/investments/components/investments-dashboard/investments-dashboard.component.ts");
/* harmony import */ var _components_currency_investment_currency_investment_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/currency-investment/currency-investment.component */ "./src/app/modules/investments/components/currency-investment/currency-investment.component.ts");
/* harmony import */ var _components_investment_selector_dialog_investment_selector_dialog_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/investment-selector-dialog/investment-selector-dialog.component */ "./src/app/modules/investments/components/investment-selector-dialog/investment-selector-dialog.component.ts");
/* harmony import */ var _components_investments_edit_investments_edit_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/investments-edit/investments-edit.component */ "./src/app/modules/investments/components/investments-edit/investments-edit.component.ts");
/* harmony import */ var _components_currency_investment_form_currency_investment_form_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/currency-investment-form/currency-investment-form.component */ "./src/app/modules/investments/components/currency-investment-form/currency-investment-form.component.ts");
/* harmony import */ var _investments_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./investments.service */ "./src/app/modules/investments/investments.service.ts");
/* harmony import */ var _components_property_investment_form_property_investment_form_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/property-investment-form/property-investment-form.component */ "./src/app/modules/investments/components/property-investment-form/property-investment-form.component.ts");
/* harmony import */ var _components_property_investment_property_investment_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./components/property-investment/property-investment.component */ "./src/app/modules/investments/components/property-investment/property-investment.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};















var InvestmentsModule = /** @class */ (function () {
    function InvestmentsModule() {
    }
    InvestmentsModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _investments_routing_module__WEBPACK_IMPORTED_MODULE_2__["InvestmentsRoutingModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                _angular_flex_layout__WEBPACK_IMPORTED_MODULE_4__["FlexLayoutModule"],
                _modules_shared_custom_material_design_module__WEBPACK_IMPORTED_MODULE_5__["CustomMaterialDesignModule"],
                _modules_shared_shared_module__WEBPACK_IMPORTED_MODULE_6__["SharedModule"]
            ],
            declarations: [
                _components_currency_investment_currency_investment_component__WEBPACK_IMPORTED_MODULE_8__["CurrencyInvestmentComponent"],
                _components_investments_dashboard_investments_dashboard_component__WEBPACK_IMPORTED_MODULE_7__["InvestmentsDashboardComponent"],
                _components_investment_selector_dialog_investment_selector_dialog_component__WEBPACK_IMPORTED_MODULE_9__["InvestmentSelectorDialogComponent"],
                _components_investments_edit_investments_edit_component__WEBPACK_IMPORTED_MODULE_10__["InvestmentsEditComponent"],
                _components_currency_investment_form_currency_investment_form_component__WEBPACK_IMPORTED_MODULE_11__["CurrencyInvestmentFormComponent"],
                _components_property_investment_form_property_investment_form_component__WEBPACK_IMPORTED_MODULE_13__["PropertyInvestmentFormComponent"],
                _components_property_investment_property_investment_component__WEBPACK_IMPORTED_MODULE_14__["PropertyInvestmentComponent"]
            ],
            entryComponents: [
                _components_investment_selector_dialog_investment_selector_dialog_component__WEBPACK_IMPORTED_MODULE_9__["InvestmentSelectorDialogComponent"] // added as material doc suggest to allow AOT on this on the fly created class
            ],
            providers: [_investments_service__WEBPACK_IMPORTED_MODULE_12__["InvestmentsService"]]
        })
    ], InvestmentsModule);
    return InvestmentsModule;
}());



/***/ }),

/***/ "./src/app/modules/investments/investments.service.ts":
/*!************************************************************!*\
  !*** ./src/app/modules/investments/investments.service.ts ***!
  \************************************************************/
/*! exports provided: InvestmentsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InvestmentsService", function() { return InvestmentsService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../app.service */ "./src/app/app.service.ts");
/* harmony import */ var _users_models_user__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../users/models/user */ "./src/app/modules/users/models/user.ts");
/* harmony import */ var _models_currencyInvestment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./models/currencyInvestment */ "./src/app/modules/investments/models/currencyInvestment.ts");
/* harmony import */ var _models_PropertyInvestment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./models/PropertyInvestment */ "./src/app/modules/investments/models/PropertyInvestment.ts");
/* harmony import */ var _teams_models_team__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../teams/models/team */ "./src/app/modules/teams/models/team.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../constants */ "./src/app/constants.ts");
/* harmony import */ var _properties_models_house__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../properties/models/house */ "./src/app/modules/properties/models/house.ts");
/* harmony import */ var _properties_models_address__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../properties/models/address */ "./src/app/modules/properties/models/address.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};














var InvestmentsService = /** @class */ (function () {
    function InvestmentsService(http, appService) {
        this.http = http;
        this.appService = appService;
        this.serverHost = _environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].apiHost + '/api/investments';
        this.headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]().set('Content-Type', 'application/json');
    }
    /**
     * Server call to Create a new investment in the system
     * @param postData
     *
     * @return { Observable<any> }
     */
    InvestmentsService.prototype.create$ = function (postData) {
        if (postData === void 0) { postData = {}; }
        var methodTrace = this.constructor.name + " > create$() > "; // for debugging
        return this.http.post(this.serverHost + "/create", postData, { headers: this.headers })
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["map"])(this.appService.extractData), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["catchError"])(this.appService.handleError));
    };
    /**
     * Server call to Update an investment in the system
     * @param postData
     *
     * @return { Observable<any> }
     */
    InvestmentsService.prototype.update$ = function (postData) {
        if (postData === void 0) { postData = {}; }
        var methodTrace = this.constructor.name + " > update$() > "; // for debugging
        return this.http.post(this.serverHost + "/update", postData, { headers: this.headers })
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["map"])(this.appService.extractData), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["catchError"])(this.appService.handleError));
    };
    /**
     * Server call to Get an investment from the server based on its ID
     * @param {string} id . The investment id
     *
     * @return { Observable<Investment> }
     */
    InvestmentsService.prototype.getInvestmentById$ = function (email, id) {
        var _this = this;
        var methodTrace = this.constructor.name + " > getInvestmentById$() > "; // for debugging
        if (!id || !email) {
            this.appService.consoleLog('error', methodTrace + " Required parameters missing.");
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(null);
        }
        var params = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpParams"]()
            .set('id', id)
            .set('email', email);
        var investment$ = this.http.get(this.serverHost + "/getbyId", { params: params })
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["map"])(this.appService.extractData), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["catchError"])(this.appService.handleError));
        return investment$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["switchMap"])(function (investment) {
            var result = null;
            if (investment && investment._id) {
                var createdBy = new _users_models_user__WEBPACK_IMPORTED_MODULE_5__["User"](investment.createdBy.name, investment.createdBy.email, investment.createdBy.gravatar);
                var team = null;
                if (investment.team) {
                    // fill team members
                    var admin = null;
                    var members = [];
                    for (var _i = 0, _a = investment.team.members; _i < _a.length; _i++) {
                        var member = _a[_i];
                        var newMember = new _users_models_user__WEBPACK_IMPORTED_MODULE_5__["User"](member.name, member.email, member.gravatar);
                        members.push(newMember);
                        if (member.isAdmin) {
                            admin = newMember;
                        }
                    }
                    team = new _teams_models_team__WEBPACK_IMPORTED_MODULE_8__["Team"](investment.team.name, investment.team.description, investment.team.slug, admin, members);
                }
                if (investment.investmentType === _constants__WEBPACK_IMPORTED_MODULE_10__["INVESTMENTS_TYPES"].CURRENCY || investment.investmentType === _constants__WEBPACK_IMPORTED_MODULE_10__["INVESTMENTS_TYPES"].CRYPTO) {
                    result = new _models_currencyInvestment__WEBPACK_IMPORTED_MODULE_6__["CurrencyInvestment"](investment._id, investment.amount, investment.amountUnit, createdBy, team, investment.investmentDistribution, investment.investmentData.amountUnit, investment.investmentData.amount, investment.investmentData.buyingPrice, investment.investmentData.buyingPriceUnit, investment.investmentData.buyingDate, investment.investmentType, investment.loanAmount, investment.loanAmountUnit);
                }
                else if (investment.investmentType === _constants__WEBPACK_IMPORTED_MODULE_10__["INVESTMENTS_TYPES"].PROPERTY) {
                    var property = null;
                    var propertyData = investment.investmentData.property;
                    var address = new _properties_models_address__WEBPACK_IMPORTED_MODULE_12__["Address"]();
                    if (propertyData.location) {
                        address = new _properties_models_address__WEBPACK_IMPORTED_MODULE_12__["Address"](propertyData.location.address, propertyData.location.coordinates[1], propertyData.location.coordinates[0], propertyData.location.mapsPlaceId);
                    }
                    if (propertyData.propertyType === _constants__WEBPACK_IMPORTED_MODULE_10__["PROPERTY_TYPES"].HOUSE) {
                        // we share the createdBy of the investment because we know is the same
                        property = new _properties_models_house__WEBPACK_IMPORTED_MODULE_11__["House"](propertyData._id, propertyData.propertyType, address, createdBy, propertyData.landArea, propertyData.floorArea, propertyData.askingPrice, propertyData.askingPriceUnit, propertyData.offerPrice, propertyData.offerPriceUnit, propertyData.walkAwayPrice, propertyData.walkAwayPriceUnit, propertyData.purchasePrice, propertyData.purchasePriceUnit, propertyData.dateListed, propertyData.reasonForSelling, propertyData.marketValue, propertyData.marketValueUnit, propertyData.registeredValue, propertyData.registeredValueUnit, propertyData.rates, propertyData.ratesUnit, propertyData.insurance, propertyData.insuranceUnit, propertyData.renovationCost, propertyData.renovationCostUnit, propertyData.maintenanceCost, propertyData.maintenanceCostUnit, propertyData.description, propertyData.otherCost, propertyData.otherCostUnit, propertyData.notes, propertyData.capitalGrowth, propertyData.bedrooms, propertyData.bathrooms, propertyData.parkingSpaces, propertyData.fenced, propertyData.rented, propertyData.rentPrice, propertyData.rentPriceUnit, propertyData.rentPricePeriod, propertyData.rentAppraisalDone, propertyData.vacancy, propertyData.bodyCorporate, propertyData.bodyCorporateUnit, propertyData.utilitiesCost, propertyData.utilitiesCostUnit, propertyData.agent, propertyData.managed, propertyData.managerRate, propertyData.buildingType, propertyData.titleType);
                    }
                    result = new _models_PropertyInvestment__WEBPACK_IMPORTED_MODULE_7__["PropertyInvestment"](investment._id, investment.amount, investment.amountUnit, createdBy, team, investment.investmentDistribution, property, investment.investmentData.buyingPrice, investment.investmentData.buyingPriceUnit, investment.investmentData.buyingDate, investment.investmentType, investment.loanAmount, investment.loanAmountUnit);
                }
            }
            else {
                _this.appService.consoleLog('error', methodTrace + " Unexpected data format.");
            }
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(result);
        }));
    };
    /**
     * Server call to Get all the Investments for the current user from the server
     * @param {string} email . The user email
     *
     * @return { Observable<Investment[]> }
     */
    InvestmentsService.prototype.getInvestments$ = function (email) {
        var _this = this;
        var methodTrace = this.constructor.name + " > getInvestments$() > "; // for debugging
        if (!email) {
            this.appService.consoleLog('error', methodTrace + " Required parameters missing.");
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])([]);
        }
        var params = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpParams"]().set('email', email);
        var investmentsData$ = this.http.get(this.serverHost + "/getAll", { params: params })
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["map"])(this.appService.extractData), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["catchError"])(this.appService.handleError));
        return investmentsData$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["switchMap"])(function (investmentsData) {
            var investments = [];
            if (investmentsData && investmentsData instanceof Array) {
                for (var _i = 0, investmentsData_1 = investmentsData; _i < investmentsData_1.length; _i++) {
                    var item = investmentsData_1[_i];
                    var createdBy = new _users_models_user__WEBPACK_IMPORTED_MODULE_5__["User"](item.createdBy.name, item.createdBy.email, item.createdBy.gravatar);
                    var team = item.team ? new _teams_models_team__WEBPACK_IMPORTED_MODULE_8__["Team"](item.team.name, item.team.description, item.team.slug) : null;
                    if (item.investmentType === _constants__WEBPACK_IMPORTED_MODULE_10__["INVESTMENTS_TYPES"].CURRENCY || item.investmentType === _constants__WEBPACK_IMPORTED_MODULE_10__["INVESTMENTS_TYPES"].CRYPTO) {
                        investments.push(new _models_currencyInvestment__WEBPACK_IMPORTED_MODULE_6__["CurrencyInvestment"](item._id, item.amount, item.amountUnit, createdBy, team, item.investmentDistribution, item.investmentData.amountUnit, item.investmentData.amount, item.investmentData.buyingPrice, item.investmentData.buyingPriceUnit, item.investmentData.buyingDate, item.investmentType, item.loanAmount, item.loanAmountUnit));
                    }
                    else if (item.investmentType === _constants__WEBPACK_IMPORTED_MODULE_10__["INVESTMENTS_TYPES"].PROPERTY) {
                        var property = null;
                        var propertyData = item.investmentData.property;
                        var address = new _properties_models_address__WEBPACK_IMPORTED_MODULE_12__["Address"]();
                        if (propertyData.location) {
                            address = new _properties_models_address__WEBPACK_IMPORTED_MODULE_12__["Address"](propertyData.location.address, propertyData.location.coordinates[1], propertyData.location.coordinates[0], propertyData.location.mapsPlaceId);
                        }
                        if (propertyData.propertyType === _constants__WEBPACK_IMPORTED_MODULE_10__["PROPERTY_TYPES"].HOUSE) {
                            // we share the createdBy of the investment because we know is the same
                            property = new _properties_models_house__WEBPACK_IMPORTED_MODULE_11__["House"](propertyData._id, propertyData.propertyType, address, createdBy, propertyData.landArea, propertyData.floorArea, propertyData.askingPrice, propertyData.askingPriceUnit, propertyData.offerPrice, propertyData.offerPriceUnit, propertyData.walkAwayPrice, propertyData.walkAwayPriceUnit, propertyData.purchasePrice, propertyData.purchasePriceUnit, propertyData.dateListed, propertyData.reasonForSelling, propertyData.marketValue, propertyData.marketValueUnit, propertyData.registeredValue, propertyData.registeredValueUnit, propertyData.rates, propertyData.ratesUnit, propertyData.insurance, propertyData.insuranceUnit, propertyData.renovationCost, propertyData.renovationCostUnit, propertyData.maintenanceCost, propertyData.maintenanceCostUnit, propertyData.description, propertyData.otherCost, propertyData.otherCostUnit, propertyData.notes, propertyData.capitalGrowth, propertyData.bedrooms, propertyData.bathrooms, propertyData.parkingSpaces, propertyData.fenced, propertyData.rented, propertyData.rentPrice, propertyData.rentPriceUnit, propertyData.rentPricePeriod, propertyData.rentAppraisalDone, propertyData.vacancy, propertyData.bodyCorporate, propertyData.bodyCorporateUnit, propertyData.utilitiesCost, propertyData.utilitiesCostUnit, propertyData.agent, propertyData.managed, propertyData.managerRate, propertyData.buildingType, propertyData.titleType);
                        }
                        investments.push(new _models_PropertyInvestment__WEBPACK_IMPORTED_MODULE_7__["PropertyInvestment"](item._id, item.amount, item.amountUnit, createdBy, team, item.investmentDistribution, property, item.investmentData.buyingPrice, item.investmentData.buyingPriceUnit, item.investmentData.buyingDate, item.investmentType, item.loanAmount, item.loanAmountUnit));
                    }
                }
            }
            else {
                _this.appService.consoleLog('error', methodTrace + " Unexpected data format.");
            }
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(investments);
        }));
    };
    /**
     * Server call to delete an investment from the server
     * @param {string} id . The investment id
     * @param {string} email . The current user email.
     *
     * @return { Observable<any> }
     */
    InvestmentsService.prototype.delete$ = function (id, email) {
        var methodTrace = this.constructor.name + " > delete$() > "; // for debugging
        if (!id || !email) {
            this.appService.consoleLog('error', methodTrace + " Required parameters missing.");
            return rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"].throw(null);
        }
        var params = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpParams"]().set('email', email);
        return this.http.delete(this.serverHost + "/delete/" + id, { headers: this.headers, params: params })
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["map"])(this.appService.extractData), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["catchError"])(this.appService.handleError));
    };
    InvestmentsService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"], _app_service__WEBPACK_IMPORTED_MODULE_4__["AppService"]])
    ], InvestmentsService);
    return InvestmentsService;
}());



/***/ }),

/***/ "./src/app/modules/investments/models/PropertyInvestment.ts":
/*!******************************************************************!*\
  !*** ./src/app/modules/investments/models/PropertyInvestment.ts ***!
  \******************************************************************/
/*! exports provided: PropertyInvestment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PropertyInvestment", function() { return PropertyInvestment; });
/* harmony import */ var _investment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./investment */ "./src/app/modules/investments/models/investment.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var PropertyInvestment = /** @class */ (function (_super) {
    __extends(PropertyInvestment, _super);
    function PropertyInvestment(id, investmentAmount, investmentAmountUnit, createdBy, team, investmentDistribution, property, buyingPrice, buyingPriceUnit, buyingDate, type, loanAmount, loanAmountUnit) {
        if (team === void 0) { team = null; }
        if (investmentDistribution === void 0) { investmentDistribution = []; }
        if (type === void 0) { type = 'property'; }
        if (loanAmount === void 0) { loanAmount = 0; }
        var _this = _super.call(this, id, type, investmentAmount, investmentAmountUnit, createdBy, team, investmentDistribution, loanAmount, loanAmountUnit) || this;
        _this.property = property;
        _this.buyingDate = buyingDate;
        _this.buyingPrice = buyingPrice;
        _this.buyingPriceUnit = buyingPriceUnit;
        return _this;
    }
    return PropertyInvestment;
}(_investment__WEBPACK_IMPORTED_MODULE_0__["Investment"]));



/***/ }),

/***/ "./src/app/modules/investments/models/currencyInvestment.ts":
/*!******************************************************************!*\
  !*** ./src/app/modules/investments/models/currencyInvestment.ts ***!
  \******************************************************************/
/*! exports provided: CurrencyInvestment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CurrencyInvestment", function() { return CurrencyInvestment; });
/* harmony import */ var _investment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./investment */ "./src/app/modules/investments/models/investment.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var CurrencyInvestment = /** @class */ (function (_super) {
    __extends(CurrencyInvestment, _super);
    function CurrencyInvestment(id, investmentAmount, investmentAmountUnit, createdBy, team, investmentDistribution, unit, amount, buyingPrice, buyingPriceUnit, buyingDate, type, loanAmount, loanAmountUnit) {
        if (team === void 0) { team = null; }
        if (investmentDistribution === void 0) { investmentDistribution = []; }
        if (type === void 0) { type = 'currency'; }
        if (loanAmount === void 0) { loanAmount = 0; }
        var _this = _super.call(this, id, type, investmentAmount, investmentAmountUnit, createdBy, team, investmentDistribution, loanAmount, loanAmountUnit) || this;
        _this.unit = unit;
        _this.amount = amount;
        _this.buyingDate = buyingDate;
        _this.buyingPrice = buyingPrice;
        _this.buyingPriceUnit = buyingPriceUnit;
        return _this;
    }
    return CurrencyInvestment;
}(_investment__WEBPACK_IMPORTED_MODULE_0__["Investment"]));



/***/ }),

/***/ "./src/app/modules/investments/models/investment.ts":
/*!**********************************************************!*\
  !*** ./src/app/modules/investments/models/investment.ts ***!
  \**********************************************************/
/*! exports provided: Investment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Investment", function() { return Investment; });
var Investment = /** @class */ (function () {
    function Investment(id, type, investmentAmount, investmentAmountUnit, createdBy, team, investmentDistribution, loanAmount, loanAmountUnit) {
        if (team === void 0) { team = null; }
        if (investmentDistribution === void 0) { investmentDistribution = []; }
        if (loanAmount === void 0) { loanAmount = 0; }
        this.investmentAmount = investmentAmount;
        this.investmentAmountUnit = investmentAmountUnit;
        this.team = team;
        this.investmentDistribution = investmentDistribution;
        this.createdBy = createdBy;
        this.id = id;
        this.type = type;
        this.loanAmount = loanAmount;
        this.loanAmountUnit = loanAmountUnit;
    }
    return Investment;
}());



/***/ }),

/***/ "./src/app/modules/properties/components/house-figures-dialog/house-figures-dialog.component.html":
/*!********************************************************************************************************!*\
  !*** ./src/app/modules/properties/components/house-figures-dialog/house-figures-dialog.component.html ***!
  \********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <h2 mat-dialog-title></h2> -->\r\n<mat-dialog-content>\r\n  <section fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"dialog__house-figures-results\">\r\n    <mat-accordion>  \r\n      <mat-expansion-panel>\r\n        <mat-expansion-panel-header>\r\n          Additional values\r\n        </mat-expansion-panel-header>\r\n    \r\n        <!-- Missing required data from -->\r\n        <form class=\"form__container form__house-figures-results\" #houseFiguresResultsDialogForm=\"ngForm\" novalidate fxLayout=\"column\" fxLayoutGap=\"10px\" >\r\n          <section fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"form__fields\">\r\n            <div fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"form__fields__row__container\">\r\n              <h3 class=\"title\">\r\n                <!-- <p class=\"header\">Figures extra info</p> -->\r\n                <p class=\"mat-caption\">This information it is not saved in the database, play with these values to evaluate a potencial investment</p>\r\n              </h3>\r\n\r\n              <div fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"form__fields__row\">\r\n                <!-- Loan coverage -->\r\n                <div fxFlex=\"none\" fxLayout=\"column\" class=\"form__field slider__field\">\r\n                  <label class=\"slider__label\">Loan coverage</label>\r\n                  <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"start center\">\r\n                    <mat-slider fxFlex id=\"loanCoverage\" name=\"loanCoverage\"\r\n                        color=\"accent\"\r\n                        [max]=\"100\"\r\n                        [min]=\"0\"\r\n                        [step]=\"1\"\r\n                        thumbLabel=\"true\"\r\n                        tickInterval=\"1\"\r\n                        [(ngModel)]=\"modelHouseFiguresResults.loanCoverage\"\r\n                        [value]=\"modelHouseFiguresResults.loanCoverage\"> \r\n                    </mat-slider>\r\n                    <span *ngIf=\"modelHouseFiguresResults.loanCoverage\">{{modelHouseFiguresResults.loanCoverage}}%</span>\r\n                  </div>\r\n                  <label class=\"mat-hint slider__label__hint\">Percentage of the purchase price covered by the loan.</label>\r\n                </div>\r\n\r\n                <!-- Loan term -->\r\n                <div fxFlex=\"none\" fxLayout=\"column\" class=\"form__field slider__field\">\r\n                  <label class=\"slider__label\">Term</label>\r\n                  <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"start center\">\r\n                    <mat-slider fxFlex id=\"loanTerm\" name=\"loanTerm\"\r\n                        color=\"accent\"\r\n                        [max]=\"30\"\r\n                        [min]=\"1\"\r\n                        [step]=\"1\"\r\n                        thumbLabel=\"true\"\r\n                        tickInterval=\"1\"\r\n                        [(ngModel)]=\"modelHouseFiguresResults.loanTerm\"\r\n                        [value]=\"modelHouseFiguresResults.loanTerm\"> \r\n                    </mat-slider>\r\n                    <span *ngIf=\"modelHouseFiguresResults.loanTerm\">{{modelHouseFiguresResults.loanTerm}} years</span>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- Interest rates -->\r\n                <mat-form-field fxFlex class=\"form__field\">\r\n                  <input matInput type=\"number\" id=\"interestRates\" name=\"interestRates\" placeholder=\"Interest rates\" \r\n                      [(ngModel)]=\"modelHouseFiguresResults.interestRates\" \r\n                      numberValidator='{\"min\": 0, \"max\": 100}' \r\n                      [value]=\"modelHouseFiguresResults.interestRates\"\r\n                      #interestRates=\"ngModel\">\r\n\r\n                  <mat-icon matPrefix>timeline</mat-icon>\r\n                  <span matSuffix>%</span>\r\n                  <mat-hint align=\"start\">Average loan interest rates (as a percentage).</mat-hint>\r\n                  <mat-error *ngIf=\"interestRates.invalid && (interestRates.dirty || interestRates.touched) && interestRates.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n                  <mat-error *ngIf=\"interestRates.invalid && (interestRates.dirty || interestRates.touched) && interestRates.errors.numberValidatorMin\">Min value must be greater or equal than 0</mat-error>\r\n                  <mat-error *ngIf=\"interestRates.invalid && (interestRates.dirty || interestRates.touched) && interestRates.errors.numberValidatorMax\">Max value must be less or equal than 100</mat-error>\r\n                </mat-form-field>\r\n\r\n                <!-- Payment frecuency -->\r\n                <mat-form-field fxFlex class=\"form__field\">\r\n                  <mat-select id=\"paymentFrecuency\" name=\"paymentFrecuency\" placeholder=\"Frecuency\" \r\n                      [(ngModel)]=\"modelHouseFiguresResults.paymentFrecuency\" [value]=\"modelHouseFiguresResults.paymentFrecuency\">\r\n                    <mat-option value=\"12\">Monthly</mat-option>\r\n                    <mat-option value=\"26\">Fornightly</mat-option>\r\n                    <mat-option value=\"52\">Weekly</mat-option>\r\n                  </mat-select>\r\n                  \r\n                  <mat-hint align=\"start\">Payment frecuency</mat-hint>\r\n                </mat-form-field>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        </form>\r\n      </mat-expansion-panel>\r\n    </mat-accordion>\r\n\r\n    <house-figures-results\r\n        title=\"Property figures\"\r\n        subtitle=\"This figures asumes that all of the currency values in the form are in the same unit.\"\r\n        [purchasePrice]=\"model.purchasePrice || model.offerPrice || model.askingPrice || model.walkAwayPrice || 0\"\r\n        [capitalGrowth]=\"model.propertyTypeData.capitalGrowth || 0\"\r\n        [marketValue]=\"model.marketValue\"\r\n        [loanCoverage]=\"modelHouseFiguresResults.loanCoverage\"\r\n        [interestRates]=\"modelHouseFiguresResults.interestRates\"\r\n        [loanTerm]=\"modelHouseFiguresResults.loanTerm\"\r\n        [paymentFrecuency]=\"modelHouseFiguresResults.paymentFrecuency\"\r\n        [rentPrice]=\"model.propertyTypeData.rentPrice\"\r\n        [rentPaymentFrecuency]=\"model.propertyTypeData.rentPricePeriod\"\r\n        [vacancy]=\"model.propertyTypeData.vacancy\"\r\n        [renovationCost]=\"model.renovationCost\"\r\n        [mantainanceCost]=\"model.maintenanceCost\"\r\n        [bodyCorporate]=\"model.propertyTypeData.bodyCorporate\"\r\n        [houseRates]=\"model.propertyTypeData.rates\"\r\n        [utilities]=\"model.propertyTypeData.utilitiesCost\"\r\n        [insurance]=\"model.propertyTypeData.insurance\"\r\n        [otherCosts]=\"model.otherCost\"\r\n        [managed]=\"model.propertyTypeData.managed ? model.propertyTypeData.managerRate : 0\">\r\n    </house-figures-results>\r\n  </section>\r\n</mat-dialog-content>\r\n\r\n<mat-dialog-actions fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-around center\">\r\n  <button mat-mini-fab color=\"warn\" [mat-dialog-close]=\"modelHouseFiguresResults\">\r\n    <mat-icon aria-label=\"No\">clear</mat-icon>\r\n  </button>\r\n</mat-dialog-actions>"

/***/ }),

/***/ "./src/app/modules/properties/components/house-figures-dialog/house-figures-dialog.component.scss":
/*!********************************************************************************************************!*\
  !*** ./src/app/modules/properties/components/house-figures-dialog/house-figures-dialog.component.scss ***!
  \********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvcHJvcGVydGllcy9jb21wb25lbnRzL2hvdXNlLWZpZ3VyZXMtZGlhbG9nL2hvdXNlLWZpZ3VyZXMtZGlhbG9nLmNvbXBvbmVudC5zY3NzIn0= */"

/***/ }),

/***/ "./src/app/modules/properties/components/house-figures-dialog/house-figures-dialog.component.ts":
/*!******************************************************************************************************!*\
  !*** ./src/app/modules/properties/components/house-figures-dialog/house-figures-dialog.component.ts ***!
  \******************************************************************************************************/
/*! exports provided: HouseFiguresDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HouseFiguresDialogComponent", function() { return HouseFiguresDialogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};


var HouseFiguresDialogComponent = /** @class */ (function () {
    function HouseFiguresDialogComponent(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
        this.model = {};
        this.modelHouseFiguresResults = {};
        this.model = data.model;
        this.modelHouseFiguresResults = data.modelHouseFiguresResults;
    }
    HouseFiguresDialogComponent.prototype.ngOnInit = function () {
    };
    HouseFiguresDialogComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-house-figures-dialog',
            template: __webpack_require__(/*! ./house-figures-dialog.component.html */ "./src/app/modules/properties/components/house-figures-dialog/house-figures-dialog.component.html"),
            styles: [__webpack_require__(/*! ./house-figures-dialog.component.scss */ "./src/app/modules/properties/components/house-figures-dialog/house-figures-dialog.component.scss")]
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], HouseFiguresDialogComponent);
    return HouseFiguresDialogComponent;
}());



/***/ }),

/***/ "./src/app/modules/properties/components/houses-edit/houses-edit.component.html":
/*!**************************************************************************************!*\
  !*** ./src/app/modules/properties/components/houses-edit/houses-edit.component.html ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<form class=\"form__container form__edit-house\" #editHouseForm=\"ngForm\" novalidate fxLayout=\"column\" fxLayoutGap=\"10px\">\r\n  <section fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"form__fields\">\r\n\r\n    <div fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n      <h3 class=\"title\">\r\n        <p class=\"header\">Features</p>\r\n      </h3>\r\n\r\n      <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n        <!-- Building type -->\r\n        <mat-form-field fxFlex class=\"form__field\">\r\n          <mat-select id=\"buildingType\" name=\"buildingType\" placeholder=\"Building type\" [value]=\"model.buildingType\" [(ngModel)]=\"model.buildingType\">\r\n            <mat-option value=\"house\">House</mat-option>\r\n            <mat-option value=\"apartment\">Apartment</mat-option>\r\n            <mat-option value=\"unit\">Unit</mat-option>\r\n          </mat-select>\r\n\r\n          <mat-icon matPrefix>home</mat-icon>\r\n        </mat-form-field>\r\n        \r\n        <!-- Title type -->\r\n        <mat-form-field fxFlex class=\"form__field\">\r\n          <mat-select id=\"titleType\" name=\"titleType\" placeholder=\"Title type\" [value]=\"model.titleType\" [(ngModel)]=\"model.titleType\">\r\n            <mat-option value=\"feeSimple\">Fee simple</mat-option>\r\n            <mat-option value=\"crossLease\">Cross lease</mat-option>\r\n            <mat-option value=\"leaseHold\">Lease hold</mat-option>\r\n          </mat-select>\r\n\r\n          <mat-icon matPrefix>description</mat-icon>\r\n        </mat-form-field>\r\n      </div>\r\n\r\n      <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n        <!-- Land area -->\r\n        <mat-form-field fxFlex  class=\"form__field\">\r\n          <input matInput type=\"number\" id=\"landArea\" name=\"landArea\" placeholder=\"Land area\" \r\n              [(ngModel)]=\"model.landArea\" \r\n              [value]=\"model.landArea\"\r\n              numberValidator\r\n              #landArea=\"ngModel\">\r\n              \r\n          <span matSuffix>m2</span>\r\n          <mat-hint align=\"start\">Land area in square meters.</mat-hint>\r\n          <mat-error *ngIf=\"landArea.invalid && (landArea.dirty || landArea.touched) && landArea.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n        </mat-form-field>\r\n\r\n        <!-- Floor area -->\r\n        <mat-form-field fxFlex  class=\"form__field\">\r\n          <input matInput type=\"number\" id=\"floorArea\" name=\"floorArea\" placeholder=\"Floor area\" \r\n              [(ngModel)]=\"model.floorArea\" \r\n              [value]=\"model.floorArea\"\r\n              numberValidator\r\n              #floorArea=\"ngModel\">\r\n              \r\n          <span matSuffix>m2</span>\r\n          <mat-hint align=\"start\">Floor area in square meters.</mat-hint>\r\n          <mat-error *ngIf=\"floorArea.invalid && (floorArea.dirty || floorArea.touched) && floorArea.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n        </mat-form-field>\r\n      </div>\r\n\r\n      <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n        <!-- Bedrooms -->\r\n        <mat-form-field fxFlex fxFlex.gt-xs=\"140px\" fxFlex.gt-md=\"200px\" class=\"form__field\">\r\n          <input matInput type=\"number\" id=\"bedrooms\" name=\"bedrooms\" placeholder=\"Bedrooms\" \r\n              [(ngModel)]=\"model.bedrooms\" \r\n              [value]=\"model.bedrooms\"\r\n              numberValidator\r\n              #bedrooms=\"ngModel\">\r\n              \r\n          <mat-icon matPrefix>hotel</mat-icon>\r\n          <mat-error *ngIf=\"bedrooms.invalid && (bedrooms.dirty || bedrooms.touched) && bedrooms.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n        </mat-form-field>\r\n\r\n        <!-- Bathrooms -->\r\n        <mat-form-field fxFlex fxFlex.gt-xs=\"140px\" fxFlex.gt-md=\"200px\" class=\"form__field\">\r\n          <input matInput type=\"number\" id=\"bathrooms\" name=\"bathrooms\" placeholder=\"Bathrooms\" \r\n              [(ngModel)]=\"model.bathrooms\" \r\n              [value]=\"model.bathrooms\"\r\n              numberValidator\r\n              #bathrooms=\"ngModel\">\r\n\r\n          <mat-icon matPrefix>airline_seat_legroom_reduced</mat-icon>\r\n          <mat-error *ngIf=\"bathrooms.invalid && (bathrooms.dirty || bathrooms.touched) && bathrooms.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n        </mat-form-field>\r\n\r\n        <!-- Parking spaces -->\r\n        <mat-form-field fxFlex fxFlex.gt-xs=\"140px\" fxFlex.gt-md=\"200px\" class=\"form__field\">\r\n          <input matInput type=\"number\" id=\"parkingSpaces\" name=\"parkingSpaces\" placeholder=\"Parking spaces\" \r\n              [(ngModel)]=\"model.parkingSpaces\" \r\n              [value]=\"model.parkingSpaces\"\r\n              numberValidator\r\n              #parkingSpaces=\"ngModel\">\r\n              \r\n          <mat-icon matPrefix>directions_car</mat-icon>\r\n          <mat-error *ngIf=\"parkingSpaces.invalid && (parkingSpaces.dirty || parkingSpaces.touched) && parkingSpaces.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n        </mat-form-field>\r\n\r\n        <!-- Fenced? -->\r\n        <div fxFlex class=\"form__field\">\r\n          <mat-checkbox id=\"fenced\" name=\"fenced\" class=\"\"\r\n              labelPosition=\"before\"\r\n              [(ngModel)]=\"model.fenced\">\r\n            Fenced?\r\n          </mat-checkbox>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n      <h3 class=\"title\">\r\n        <p class=\"header\">Rent information</p>\r\n      </h3>\r\n    \r\n      <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n        <!-- Rent price -->\r\n        <div fxLayout=\"row\" fxLayoutGap=\"10px\">\r\n          <currency-unit fxFlex=\"50px\"\r\n              [id]=\"'rentPriceUnit'\" \r\n              [value]=\"model.rentPriceUnit\"\r\n              [view]=\"'narrow'\"\r\n              (newValue)=\"onCurrencyUnitChange($event)\">\r\n          </currency-unit>\r\n          \r\n          <mat-form-field fxFlex fxFlex.sm=\"120px\" fxFlex.gt-sm=\"200px\" class=\"form__field\">\r\n            <input matInput type=\"number\" id=\"rentPrice\" name=\"rentPrice\" placeholder=\"Rent price\"\r\n                [(ngModel)]=\"model.rentPrice\" \r\n                [value]=\"model.rentPrice\"\r\n                numberValidator\r\n                #rentPrice=\"ngModel\">\r\n            \r\n            <mat-error *ngIf=\"rentPrice.invalid && (rentPrice.dirty || rentPrice.touched) && rentPrice.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n\r\n        <!-- Rent payment period -->\r\n        <mat-form-field fxFlex class=\"form__field\">\r\n          <mat-select id=\"rentPricePeriod\" name=\"rentPricePeriod\" placeholder=\"Payment frecuency\" [value]=\"model.rentPricePeriod\" [(ngModel)]=\"model.rentPricePeriod\">\r\n            <mat-option value=\"weekly\">per week</mat-option>\r\n            <mat-option value=\"monthly\">per month</mat-option>\r\n          </mat-select>\r\n        </mat-form-field>\r\n      </div>\r\n\r\n      <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n        <!-- Managed? -->\r\n        <div fxFlex class=\"form__field\">\r\n          <mat-slide-toggle class=\"\" id=\"managed\" name=\"managed\"\r\n              color=\"accent\"\r\n              [checked]=\"model.managed\"\r\n              (change)=\"onSlideToggleChange($event)\">\r\n            Managed?\r\n          </mat-slide-toggle>\r\n        </div>\r\n\r\n        <!-- Manager rate -->\r\n        <div fxFlex=\"none\" fxFlex.gt-xs fxLayout=\"column\" class=\"form__field\">\r\n          <label class=\"slider__label\">Manager rate</label>\r\n          <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"start center\">\r\n            <mat-slider fxFlex id=\"managerRate\" name=\"managerRate\"\r\n                color=\"accent\"\r\n                [max]=\"20\"\r\n                [min]=\"0\"\r\n                [step]=\"1\"\r\n                [disabled]=\"!model.managed\"\r\n                thumbLabel=\"true\"\r\n                tickInterval=\"1\"\r\n                [(ngModel)]=\"model.managerRate\"\r\n                [value]=\"model.managerRate\"> \r\n            </mat-slider>\r\n            <span *ngIf=\"model.managerRate\">{{model.managerRate}}%</span>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Address -->\r\n        <mat-form-field fxFlex class=\"form__field\">\r\n          <input matInput type=\"text\" id=\"agent\" name=\"agent\" placeholder=\"Agent\" \r\n              [(ngModel)]=\"model.agent\"\r\n              [value]=\"model.agent\"\r\n              #agent=\"ngModel\">\r\n\r\n          <mat-icon matPrefix>person</mat-icon>\r\n        </mat-form-field>\r\n      </div>\r\n\r\n      <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n        <!-- Vacancy -->\r\n        <div fxFlex=\"none\" fxFlex.gt-xs=\"250px\" fxLayout=\"column\" class=\"form__field\">\r\n          <label class=\"slider__label\">Vacancy</label>\r\n          <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"start center\">\r\n            <mat-slider fxFlex id=\"vacancy\" name=\"vacancy\"\r\n                color=\"accent\"\r\n                [max]=\"20\"\r\n                [min]=\"0\"\r\n                [step]=\"1\"\r\n                thumbLabel=\"true\"\r\n                tickInterval=\"1\"\r\n                [(ngModel)]=\"model.vacancy\"\r\n                [value]=\"model.vacancy\"> \r\n            </mat-slider>\r\n            <span *ngIf=\"model.vacancy\">{{model.vacancy}} weeks</span>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Rent appraisal done? -->\r\n        <div fxFlex class=\"form__field\">\r\n          <mat-checkbox id=\"rentAppraisalDone\" name=\"rentAppraisalDone\" class=\"\"\r\n              labelPosition=\"before\"\r\n              [(ngModel)]=\"model.rentAppraisalDone\">\r\n            Rent appraisal done?\r\n          </mat-checkbox>\r\n        </div>\r\n\r\n        <!-- Rented? -->\r\n        <div fxFlex class=\"form__field\">\r\n          <mat-checkbox id=\"rented\" name=\"rented\" class=\"\"\r\n              labelPosition=\"before\"\r\n              [(ngModel)]=\"model.rented\">\r\n            Rented?\r\n          </mat-checkbox>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <div fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n      <h3 class=\"title\">\r\n        <p class=\"header\">Additional information</p>\r\n      </h3>\r\n\r\n      <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n        <!-- Registered value -->\r\n        <div fxLayout=\"row\" fxLayoutGap=\"10px\">\r\n          <currency-unit fxFlex=\"50px\"\r\n              [id]=\"'registeredValueUnit'\" \r\n              [value]=\"model.registeredValueUnit\"\r\n              [view]=\"'narrow'\"\r\n              (newValue)=\"onCurrencyUnitChange($event)\">\r\n          </currency-unit>\r\n          \r\n          <mat-form-field fxFlex fxFlex.sm=\"120px\" fxFlex.gt-sm=\"200px\" class=\"form__field\">\r\n            <input matInput type=\"number\" id=\"registeredValue\" name=\"registeredValue\" placeholder=\"Registered value\"\r\n                [(ngModel)]=\"model.registeredValue\" \r\n                [value]=\"model.registeredValue\"\r\n                numberValidator\r\n                #registeredValue=\"ngModel\">\r\n            \r\n            <mat-hint align=\"start\">The value an independent valuator gives to the house based on the recent sales in the area.</mat-hint>\r\n            <mat-error *ngIf=\"registeredValue.invalid && (registeredValue.dirty || registeredValue.touched) && registeredValue.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n\r\n        <!-- Capital growth -->\r\n        <mat-form-field fxFlex fxFlex.sm=\"140px\" fxFlex.gt-sm=\"200px\" class=\"form__field\">\r\n          <input matInput type=\"number\" id=\"capitalGrowth\" name=\"capitalGrowth\" placeholder=\"Capital growth\" \r\n              [(ngModel)]=\"model.capitalGrowth\" \r\n              [value]=\"model.capitalGrowth\"\r\n              numberValidator='{\"min\": 0, \"max\": 100}' \r\n              #capitalGrowth=\"ngModel\">\r\n          \r\n          <mat-icon matPrefix>trending_up</mat-icon>\r\n          <span matSuffix>%</span>\r\n          <mat-hint align=\"start\">Annual capital growth percentage for owning the property.</mat-hint>\r\n          <mat-error *ngIf=\"capitalGrowth.invalid && (capitalGrowth.dirty || capitalGrowth.touched) && capitalGrowth.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n          <mat-error *ngIf=\"capitalGrowth.invalid && (capitalGrowth.dirty || capitalGrowth.touched) && capitalGrowth.errors.numberValidatorMin\">Min value must be greater or equal than 0</mat-error>\r\n          <mat-error *ngIf=\"capitalGrowth.invalid && (capitalGrowth.dirty || capitalGrowth.touched) && capitalGrowth.errors.numberValidatorMax\">Max value must be less or equal than 100</mat-error>\r\n        </mat-form-field>\r\n      </div>\r\n    </div>\r\n    \r\n    <div fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n      <h3 class=\"title\">\r\n        <p class=\"header\">Living costs</p>\r\n      </h3>\r\n\r\n      <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n        <!-- Body corporate -->\r\n        <div fxLayout=\"row\" fxLayoutGap=\"10px\">\r\n          <currency-unit fxFlex=\"50px\"\r\n              [id]=\"'bodyCorporateUnit'\" \r\n              [value]=\"model.bodyCorporateUnit\"\r\n              [view]=\"'narrow'\"\r\n              (newValue)=\"onCurrencyUnitChange($event)\">\r\n          </currency-unit>\r\n          \r\n          <mat-form-field fxFlex fxFlex.sm=\"120px\" fxFlex.md=\"140px\" fxFlex.gt-md=\"200px\" class=\"form__field\">\r\n            <input matInput type=\"number\" id=\"bodyCorporate\" name=\"bodyCorporate\" placeholder=\"Body corporate\"\r\n                [(ngModel)]=\"model.bodyCorporate\" \r\n                [value]=\"model.bodyCorporate\"\r\n                numberValidator\r\n                #bodyCorporate=\"ngModel\">\r\n            \r\n            <mat-hint align=\"start\">The bodyCorporate rates this property pays annually.</mat-hint>\r\n            <mat-error *ngIf=\"bodyCorporate.invalid && (bodyCorporate.dirty || bodyCorporate.touched) && bodyCorporate.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n\r\n        <!-- Utilities -->\r\n        <div fxLayout=\"row\" fxLayoutGap=\"10px\">\r\n          <currency-unit fxFlex=\"50px\"\r\n              [id]=\"'utilitiesCostUnit'\" \r\n              [value]=\"model.utilitiesCostUnit\"\r\n              [view]=\"'narrow'\"\r\n              (newValue)=\"onCurrencyUnitChange($event)\">\r\n          </currency-unit>\r\n          \r\n          <mat-form-field fxFlex fxFlex.sm=\"120px\" fxFlex.md=\"140px\" fxFlex.gt-md=\"200px\" class=\"form__field\">\r\n            <input matInput type=\"number\" id=\"utilitiesCost\" name=\"utilitiesCost\" placeholder=\"Utilities\"\r\n                [(ngModel)]=\"model.utilitiesCost\" \r\n                [value]=\"model.utilitiesCost\"\r\n                numberValidator\r\n                #utilitiesCost=\"ngModel\">\r\n            \r\n            <mat-hint align=\"start\">Electricity, water, gas, internet, ...</mat-hint>\r\n            <mat-error *ngIf=\"utilitiesCost.invalid && (utilitiesCost.dirty || utilitiesCost.touched) && utilitiesCost.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n\r\n        <!-- Rates -->\r\n        <div fxLayout=\"row\" fxLayoutGap=\"10px\">\r\n          <currency-unit fxFlex=\"50px\"\r\n              [id]=\"'ratesUnit'\" \r\n              [value]=\"model.ratesUnit\"\r\n              [view]=\"'narrow'\"\r\n              (newValue)=\"onCurrencyUnitChange($event)\">\r\n          </currency-unit>\r\n          \r\n          <mat-form-field fxFlex fxFlex.sm=\"120px\" fxFlex.md=\"140px\" fxFlex.gt-md=\"200px\" class=\"form__field\">\r\n            <input matInput type=\"number\" id=\"rates\" name=\"rates\" placeholder=\"Rates\"\r\n                [(ngModel)]=\"model.rates\" \r\n                [value]=\"model.rates\"\r\n                numberValidator\r\n                #rates=\"ngModel\">\r\n            \r\n            <mat-hint align=\"start\">The rates this property pays annually.</mat-hint>\r\n            <mat-error *ngIf=\"rates.invalid && (rates.dirty || rates.touched) && rates.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n      </div>\r\n\r\n      <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n        <!-- Insurance -->\r\n        <div fxLayout=\"row\" fxLayoutGap=\"10px\">\r\n          <currency-unit fxFlex=\"50px\"\r\n              [id]=\"'insuranceUnit'\" \r\n              [value]=\"model.insuranceUnit\"\r\n              [view]=\"'narrow'\"\r\n              (newValue)=\"onCurrencyUnitChange($event)\">\r\n          </currency-unit>\r\n          \r\n          <mat-form-field fxFlex fxFlex.sm=\"120px\" fxFlex.md=\"140px\" fxFlex.gt-md=\"200px\" class=\"form__field\">\r\n            <input matInput type=\"number\" id=\"insurance\" name=\"insurance\" placeholder=\"Insurance\"\r\n                [(ngModel)]=\"model.insurance\" \r\n                [value]=\"model.insurance\"\r\n                numberValidator\r\n                #insurance=\"ngModel\">\r\n            \r\n            <mat-hint align=\"start\">Annual insurance price for the house.</mat-hint>\r\n            <mat-error *ngIf=\"insurance.invalid && (insurance.dirty || insurance.touched) && insurance.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n\r\n</form>"

/***/ }),

/***/ "./src/app/modules/properties/components/houses-edit/houses-edit.component.scss":
/*!**************************************************************************************!*\
  !*** ./src/app/modules/properties/components/houses-edit/houses-edit.component.scss ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvcHJvcGVydGllcy9jb21wb25lbnRzL2hvdXNlcy1lZGl0L2hvdXNlcy1lZGl0LmNvbXBvbmVudC5zY3NzIn0= */"

/***/ }),

/***/ "./src/app/modules/properties/components/houses-edit/houses-edit.component.ts":
/*!************************************************************************************!*\
  !*** ./src/app/modules/properties/components/houses-edit/houses-edit.component.ts ***!
  \************************************************************************************/
/*! exports provided: HousesEditComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HousesEditComponent", function() { return HousesEditComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _util_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../util.service */ "./src/app/util.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../app.service */ "./src/app/app.service.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../constants */ "./src/app/constants.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var HousesEditComponent = /** @class */ (function () {
    function HousesEditComponent(appService, utilService) {
        this.appService = appService;
        this.utilService = utilService;
        this.defaultValues = null; // the default values of the component model
        this.defaultCurrencyUnit = 'USD'; // the default currency unit
        this.values = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.model = {
            buildingType: null,
            titleType: null,
            landArea: null,
            floorArea: null,
            registeredValue: null,
            registeredValueUnit: null,
            rates: null,
            ratesUnit: null,
            insurance: null,
            insuranceUnit: null,
            capitalGrowth: null,
            bedrooms: null,
            bathrooms: null,
            parkingSpaces: null,
            fenced: false,
            rented: false,
            rentPrice: null,
            rentPriceUnit: null,
            rentPricePeriod: null,
            rentAppraisalDone: false,
            vacancy: null,
            bodyCorporate: null,
            bodyCorporateUnit: null,
            utilitiesCost: null,
            utilitiesCostUnit: null,
            managed: false,
            managerRate: null,
            agent: null
        };
        this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subscription"]();
    }
    HousesEditComponent.prototype.ngOnInit = function () {
        this.model.registeredValueUnit = this.model.ratesUnit = this.model.insuranceUnit = this.model.rentPriceUnit = this.model.bodyCorporateUnit =
            this.model.utilitiesCostUnit = this.defaultCurrencyUnit;
        this.model.buildingType = _constants__WEBPACK_IMPORTED_MODULE_5__["HOUSE_BUILDING_TYPES"].HOUSE;
        this.model.rentPricePeriod = 'weekly';
        Object.assign(this.model, this.defaultValues);
    };
    HousesEditComponent.prototype.ngOnDestroy = function () {
        var methodTrace = this.constructor.name + " > ngOnDestroy() > "; // for debugging
        // this.appService.consoleLog('info', `${methodTrace} Component destroyed.`);
        this.subscription.unsubscribe();
    };
    HousesEditComponent.prototype.onCurrencyUnitChange = function ($event) {
        this.model[$event.source.id] = $event.value;
        this.emitValues();
    };
    HousesEditComponent.prototype.onSlideToggleChange = function ($event) {
        this.model[$event.source.id] = $event.checked;
        this.emitValues();
    };
    HousesEditComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        // send data before touching any value
        this.emitValues();
        // after any event in the form we send updated data
        var newSubscription = this.form.valueChanges.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["debounceTime"])(500)).subscribe(function (values) {
            _this.emitValues();
        });
        this.subscription.add(newSubscription);
    };
    HousesEditComponent.prototype.emitValues = function () {
        this.values.emit({
            value: {
                model: this.model,
                valid: this.form.valid
            }
        });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('editHouseForm'),
        __metadata("design:type", Object)
    ], HousesEditComponent.prototype, "form", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], HousesEditComponent.prototype, "defaultValues", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], HousesEditComponent.prototype, "defaultCurrencyUnit", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], HousesEditComponent.prototype, "values", void 0);
    HousesEditComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'houses-edit',
            template: __webpack_require__(/*! ./houses-edit.component.html */ "./src/app/modules/properties/components/houses-edit/houses-edit.component.html"),
            styles: [__webpack_require__(/*! ./houses-edit.component.scss */ "./src/app/modules/properties/components/houses-edit/houses-edit.component.scss")]
        }),
        __metadata("design:paramtypes", [_app_service__WEBPACK_IMPORTED_MODULE_4__["AppService"], _util_service__WEBPACK_IMPORTED_MODULE_1__["UtilService"]])
    ], HousesEditComponent);
    return HousesEditComponent;
}());



/***/ }),

/***/ "./src/app/modules/properties/components/properties-dashboard/properties-dashboard.component.html":
/*!********************************************************************************************************!*\
  !*** ./src/app/modules/properties/components/properties-dashboard/properties-dashboard.component.html ***!
  \********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"container__properties\">\r\n  <properties-table [user]=\"user\" [showActions]=\"true\"></properties-table>\r\n\r\n  <section fxLayout=\"column\" fxLayoutAlign=\"start end\" class=\"actions\">\r\n    <button mat-fab routerLink=\"house/create\" class=\"fab mat-elevation-z10\" color=\"primary\" matTooltip=\"Create new property\" matTooltipPosition=\"left\">\r\n      <mat-icon aria-label=\"Create new property\">add</mat-icon>\r\n    </button>\r\n  </section>\r\n</div>"

/***/ }),

/***/ "./src/app/modules/properties/components/properties-dashboard/properties-dashboard.component.scss":
/*!********************************************************************************************************!*\
  !*** ./src/app/modules/properties/components/properties-dashboard/properties-dashboard.component.scss ***!
  \********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvcHJvcGVydGllcy9jb21wb25lbnRzL3Byb3BlcnRpZXMtZGFzaGJvYXJkL3Byb3BlcnRpZXMtZGFzaGJvYXJkLmNvbXBvbmVudC5zY3NzIn0= */"

/***/ }),

/***/ "./src/app/modules/properties/components/properties-dashboard/properties-dashboard.component.ts":
/*!******************************************************************************************************!*\
  !*** ./src/app/modules/properties/components/properties-dashboard/properties-dashboard.component.ts ***!
  \******************************************************************************************************/
/*! exports provided: PropertiesDashboardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PropertiesDashboardComponent", function() { return PropertiesDashboardComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _shared_components_main_navigator_main_navigator_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/components/main-navigator/main-navigator.service */ "./src/app/modules/shared/components/main-navigator/main-navigator.service.ts");
/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../app.service */ "./src/app/app.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var PropertiesDashboardComponent = /** @class */ (function () {
    function PropertiesDashboardComponent(route, mainNavigatorService, appService) {
        this.route = route;
        this.mainNavigatorService = mainNavigatorService;
        this.appService = appService;
        this.user = null;
        this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_4__["Subscription"]();
    }
    PropertiesDashboardComponent.prototype.ngOnInit = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > ngOnInit() > "; // for debugging
        this.mainNavigatorService.setLinks([
            { displayName: 'Welcome', url: '/welcome', selected: false },
            { displayName: 'Investments', url: '/investments', selected: false },
            { displayName: 'Properties', url: null, selected: true },
            { displayName: 'Calculators', url: '/calculators', selected: false }
        ]);
        // get authUser from resolver
        this.route.data.subscribe(function (data) {
            _this.user = data.authUser;
        });
    };
    PropertiesDashboardComponent.prototype.ngOnDestroy = function () {
        var methodTrace = this.constructor.name + " > ngOnDestroy() > "; // for debugging
        // this.appService.consoleLog('info', `${methodTrace} Component destroyed.`);
        this.subscription.unsubscribe();
    };
    PropertiesDashboardComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'properties-dashboard',
            template: __webpack_require__(/*! ./properties-dashboard.component.html */ "./src/app/modules/properties/components/properties-dashboard/properties-dashboard.component.html"),
            styles: [__webpack_require__(/*! ./properties-dashboard.component.scss */ "./src/app/modules/properties/components/properties-dashboard/properties-dashboard.component.scss")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"], _shared_components_main_navigator_main_navigator_service__WEBPACK_IMPORTED_MODULE_2__["MainNavigatorService"],
            _app_service__WEBPACK_IMPORTED_MODULE_3__["AppService"]])
    ], PropertiesDashboardComponent);
    return PropertiesDashboardComponent;
}());



/***/ }),

/***/ "./src/app/modules/properties/components/properties-edit/properties-edit.component.html":
/*!**********************************************************************************************!*\
  !*** ./src/app/modules/properties/components/properties-edit/properties-edit.component.html ***!
  \**********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container__edit-property\" fxLayout=\"column\" fxLayoutAlign=\"none none\" fxLayout.gt-sm=\"row\" fxLayoutAlign.gt-xs=\"center none\" fxLayoutGap=\"10px\">\r\n  <!-- Form  -->\r\n  <form *ngIf=\"!getPropertyServiceRunning\" class=\"form__container form__edit-property\" (ngSubmit)=\"editMode ? onUpdate() : onSubmit()\" #editPropertyForm=\"ngForm\" \r\n      novalidate fxLayout=\"column\" fxLayoutGap=\"10px\">\r\n    \r\n    <section fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"form__fields\">\r\n      <div fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n        <h3 class=\"title\">\r\n          <p class=\"header\">Basic info</p>\r\n        </h3>\r\n  \r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n          <!-- Address -->\r\n          <address-autocomplete fxFlex\r\n              [id]=\"'address'\" \r\n              [defaultValues]=\"model.address\"\r\n              [placeHolder]=\"'Address'\"\r\n              (values)=\"onAddressChange($event)\">\r\n          </address-autocomplete>\r\n        </div>\r\n\r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n          <!-- Map -->\r\n          <dynamic-map *ngIf=\"model.address && model.address.latitude && model.address.longitude\"\r\n              fxFlex [latitude]=\"model.address.latitude\" [longitude]=\"model.address.longitude\" [markers]=\"[model.address]\" [mapContainerHeight]=\"300\"></dynamic-map>\r\n        </div>\r\n\r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n          <!-- Description -->\r\n          <mat-form-field fxFlex class=\"form__field\">\r\n            <textarea matInput id=\"description\" name=\"description\" placeholder=\"Description\"\r\n                matTextareaAutosize matAutosizeMinRows=\"2\" matAutosizeMaxRows=\"5\"\r\n                [(ngModel)]=\"model.description\" \r\n                value=\"model.description\"\r\n                #description=\"ngModel\">\r\n            </textarea>\r\n\r\n            <mat-icon matPrefix>subject</mat-icon>\r\n          </mat-form-field>\r\n        </div>\r\n      </div>\r\n  \r\n      <div fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n        <h3 class=\"title\">\r\n          <p class=\"header\">Pricing information</p>\r\n        </h3>\r\n      \r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n          <!-- Asking price -->\r\n          <div fxLayout=\"row\" fxLayoutGap=\"10px\">\r\n            <currency-unit fxFlex=\"50px\"\r\n                [id]=\"'askingPriceUnit'\" \r\n                [value]=\"model.askingPriceUnit\"\r\n                [view]=\"'narrow'\"\r\n                (newValue)=\"onCurrencyUnitChange($event)\">\r\n            </currency-unit>\r\n            \r\n            <mat-form-field fxFlex fxFlex.sm=\"120px\" fxFlex.md=\"140px\" fxFlex.gt-md=\"200px\" class=\"form__field\">\r\n              <input matInput type=\"number\" id=\"askingPrice\" name=\"askingPrice\" placeholder=\"Asking price\"\r\n                  [(ngModel)]=\"model.askingPrice\" \r\n                  [value]=\"model.askingPrice\"\r\n                  numberValidator\r\n                  #askingPrice=\"ngModel\">\r\n              \r\n              <mat-hint align=\"start\">The price the owner ask for sell the house.</mat-hint>\r\n              <mat-error *ngIf=\"askingPrice.invalid && (askingPrice.dirty || askingPrice.touched) && askingPrice.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n            </mat-form-field>\r\n          </div>\r\n          \r\n          <!-- Offer price -->\r\n          <div fxLayout=\"row\" fxLayoutGap=\"10px\">\r\n            <currency-unit fxFlex=\"50px\"\r\n                [id]=\"'offerPriceUnit'\" \r\n                [value]=\"model.offerPriceUnit\"\r\n                [view]=\"'narrow'\"\r\n                (newValue)=\"onCurrencyUnitChange($event)\">\r\n            </currency-unit>\r\n            \r\n            <mat-form-field fxFlex fxFlex.sm=\"120px\" fxFlex.md=\"140px\" fxFlex.gt-md=\"200px\" class=\"form__field\">\r\n              <input matInput type=\"number\" id=\"offerPrice\" name=\"offerPrice\" placeholder=\"Offer price\"\r\n                  [(ngModel)]=\"model.offerPrice\" \r\n                  [value]=\"model.offerPrice\"\r\n                  numberValidator\r\n                  #offerPrice=\"ngModel\">\r\n              \r\n              <mat-hint align=\"start\">The price the owner ask for sell the house.</mat-hint>\r\n              <mat-error *ngIf=\"offerPrice.invalid && (offerPrice.dirty || offerPrice.touched) && offerPrice.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n            </mat-form-field>\r\n          </div>\r\n\r\n          <!-- Walk away price -->\r\n          <div fxLayout=\"row\" fxLayoutGap=\"10px\">\r\n            <currency-unit fxFlex=\"50px\"\r\n                [id]=\"'walkAwayPriceUnit'\" \r\n                [value]=\"model.walkAwayPriceUnit\"\r\n                [view]=\"'narrow'\"\r\n                (newValue)=\"onCurrencyUnitChange($event)\">\r\n            </currency-unit>\r\n            \r\n            <mat-form-field fxFlex fxFlex.sm=\"120px\" fxFlex.md=\"140px\" fxFlex.gt-md=\"200px\" class=\"form__field\">\r\n              <input matInput type=\"number\" id=\"walkAwayPrice\" name=\"walkAwayPrice\" placeholder=\"Walk away price\"\r\n                  [(ngModel)]=\"model.walkAwayPrice\" \r\n                  [value]=\"model.walkAwayPrice\"\r\n                  numberValidator\r\n                  #walkAwayPrice=\"ngModel\">\r\n              \r\n              <mat-hint align=\"start\">The price the owner ask for sell the house.</mat-hint>\r\n              <mat-error *ngIf=\"walkAwayPrice.invalid && (walkAwayPrice.dirty || walkAwayPrice.touched) && walkAwayPrice.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n            </mat-form-field>\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n          <!-- Purchase price -->\r\n          <div fxLayout=\"row\" fxLayoutGap=\"10px\">\r\n            <currency-unit fxFlex=\"50px\"\r\n                [id]=\"'purchasePriceUnit'\" \r\n                [value]=\"model.purchasePriceUnit\"\r\n                [view]=\"'narrow'\"\r\n                (newValue)=\"onCurrencyUnitChange($event)\">\r\n            </currency-unit>\r\n            \r\n            <mat-form-field fxFlex fxFlex.sm=\"120px\" fxFlex.md=\"140px\" fxFlex.gt-md=\"200px\" class=\"form__field\">\r\n              <input matInput type=\"number\" id=\"purchasePrice\" name=\"purchasePrice\" placeholder=\"Purchase price\"\r\n                  [(ngModel)]=\"model.purchasePrice\" \r\n                  [value]=\"model.purchasePrice\"\r\n                  numberValidator\r\n                  #purchasePrice=\"ngModel\">\r\n              \r\n              <mat-error *ngIf=\"purchasePrice.invalid && (purchasePrice.dirty || purchasePrice.touched) && purchasePrice.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n            </mat-form-field>\r\n          </div>\r\n\r\n          <!-- Market value -->\r\n          <div fxLayout=\"row\" fxLayoutGap=\"10px\">\r\n            <currency-unit fxFlex=\"50px\"\r\n                [id]=\"'marketValueUnit'\" \r\n                [value]=\"model.marketValueUnit\"\r\n                [view]=\"'narrow'\"\r\n                (newValue)=\"onCurrencyUnitChange($event)\">\r\n            </currency-unit>\r\n            \r\n            <mat-form-field fxFlex fxFlex.sm=\"120px\" fxFlex.md=\"140px\" fxFlex.gt-md=\"200px\" class=\"form__field\">\r\n              <input matInput type=\"number\" id=\"marketValue\" name=\"marketValue\" placeholder=\"Market value\"\r\n                  [(ngModel)]=\"model.marketValue\" \r\n                  [value]=\"model.marketValue\"\r\n                  numberValidator\r\n                  #marketValue=\"ngModel\">\r\n              \r\n              <mat-hint align=\"start\">Last sale price.</mat-hint>\r\n              <mat-error *ngIf=\"marketValue.invalid && (marketValue.dirty || marketValue.touched) && marketValue.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n            </mat-form-field>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n        <h3 class=\"title\">\r\n          <p class=\"header\">Costs</p>\r\n        </h3>\r\n\r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n          <!-- Reno cost -->\r\n          <div fxLayout=\"row\" fxLayoutGap=\"10px\">\r\n            <currency-unit fxFlex=\"50px\"\r\n                [id]=\"'renovationCostUnit'\" \r\n                [value]=\"model.renovationCostUnit\"\r\n                [view]=\"'narrow'\"\r\n                (newValue)=\"onCurrencyUnitChange($event)\">\r\n            </currency-unit>\r\n            \r\n            <mat-form-field fxFlex fxFlex.sm=\"120px\" fxFlex.md=\"140px\" fxFlex.gt-md=\"200px\" class=\"form__field\">\r\n              <input matInput type=\"number\" id=\"renovationCost\" name=\"renovationCost\" placeholder=\"Renovation cost\"\r\n                  [(ngModel)]=\"model.renovationCost\" \r\n                  [value]=\"model.renovationCost\"\r\n                  numberValidator\r\n                  #renovationCost=\"ngModel\">\r\n              \r\n              <mat-hint align=\"start\">Last sale price.</mat-hint>\r\n              <mat-error *ngIf=\"renovationCost.invalid && (renovationCost.dirty || renovationCost.touched) && renovationCost.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n            </mat-form-field>\r\n          </div>\r\n\r\n          <!-- Maintenance cost -->\r\n          <div fxLayout=\"row\" fxLayoutGap=\"10px\">\r\n            <currency-unit fxFlex=\"50px\"\r\n                [id]=\"'maintenanceCostUnit'\" \r\n                [value]=\"model.maintenanceCostUnit\"\r\n                [view]=\"'narrow'\"\r\n                (newValue)=\"onCurrencyUnitChange($event)\">\r\n            </currency-unit>\r\n            \r\n            <mat-form-field fxFlex fxFlex.sm=\"120px\" fxFlex.md=\"140px\" fxFlex.gt-md=\"200px\" class=\"form__field\">\r\n              <input matInput type=\"number\" id=\"maintenanceCost\" name=\"maintenanceCost\" placeholder=\"Maintenance cost\"\r\n                  [(ngModel)]=\"model.maintenanceCost\" \r\n                  [value]=\"model.maintenanceCost\"\r\n                  numberValidator\r\n                  #maintenanceCost=\"ngModel\">\r\n              \r\n              <mat-hint align=\"start\">Last sale price.</mat-hint>\r\n              <mat-error *ngIf=\"maintenanceCost.invalid && (maintenanceCost.dirty || maintenanceCost.touched) && maintenanceCost.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n            </mat-form-field>\r\n          </div>\r\n          \r\n          <!-- Other cost -->\r\n          <div fxLayout=\"row\" fxLayoutGap=\"10px\">\r\n            <currency-unit fxFlex=\"50px\"\r\n                [id]=\"'otherCostUnit'\" \r\n                [value]=\"model.otherCostUnit\"\r\n                [view]=\"'narrow'\"\r\n                (newValue)=\"onCurrencyUnitChange($event)\">\r\n            </currency-unit>\r\n            \r\n            <mat-form-field fxFlex fxFlex.sm=\"120px\" fxFlex.md=\"140px\" fxFlex.gt-md=\"200px\" class=\"form__field\">\r\n              <input matInput type=\"number\" id=\"otherCost\" name=\"otherCost\" placeholder=\"Other cost\"\r\n                  [(ngModel)]=\"model.otherCost\" \r\n                  [value]=\"model.otherCost\"\r\n                  numberValidator\r\n                  #otherCost=\"ngModel\">\r\n              \r\n              <mat-hint align=\"start\">Last sale price.</mat-hint>\r\n              <mat-error *ngIf=\"otherCost.invalid && (otherCost.dirty || otherCost.touched) && otherCost.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n            </mat-form-field>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n        <h3 class=\"title\">\r\n          <p class=\"header\">Other information</p>\r\n        </h3>\r\n\r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n          <!-- Date listed -->\r\n          <mat-form-field fxFlex fxFlex.gt-xs=\"100px\" class=\"form__field\">\r\n            <input placeholder=\"Listing date\"\r\n                id=\"dateListed\"\r\n                name=\"dateListed\"\r\n                readonly\r\n                #dateListed=\"ngModel\"\r\n                matInput \r\n                [(ngModel)]=\"model.dateListed\" \r\n                [matDatepicker]=\"pickerDateListed\"\r\n                (click)=\"pickerDateListed.open()\">\r\n            <mat-datepicker-toggle matSuffix [for]=\"pickerDateListed\"></mat-datepicker-toggle>\r\n            <mat-datepicker [touchUi]=\"utilService.isGtSm() ? false : true\" #pickerDateListed></mat-datepicker>\r\n            <mat-error *ngIf=\"dateListed.invalid && (dateListed.dirty || dateListed.touched) && dateListed.errors.matDatepickerParse\">Buying date is invalid or not follows the pattern \"mm/dd/yyyy\"</mat-error>\r\n          </mat-form-field>\r\n  \r\n          <!-- Reason for selling -->\r\n          <mat-form-field fxFlex class=\"form__field\">\r\n            <textarea matInput id=\"reasonForSelling\" name=\"reasonForSelling\" placeholder=\"Reason for selling\"\r\n                matTextareaAutosize matAutosizeMinRows=\"2\" matAutosizeMaxRows=\"5\"\r\n                [(ngModel)]=\"model.reasonForSelling\" \r\n                value=\"model.reasonForSelling\"\r\n                #reasonForSelling=\"ngModel\">\r\n            </textarea>\r\n          </mat-form-field>\r\n        </div>\r\n\r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n          <!-- Notes -->\r\n          <mat-form-field fxFlex class=\"form__field\">\r\n            <textarea matInput id=\"notes\" name=\"notes\" placeholder=\"Other notes\"\r\n                matTextareaAutosize matAutosizeMinRows=\"2\" matAutosizeMaxRows=\"5\"\r\n                [(ngModel)]=\"model.notes\" \r\n                value=\"model.notes\"\r\n                #notes=\"ngModel\">\r\n            </textarea>\r\n\r\n            <mat-icon matPrefix>subject</mat-icon>\r\n          </mat-form-field>\r\n        </div>\r\n      </div>\r\n\r\n      <div fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n        <houses-edit *ngIf=\"type === propertyTypes.HOUSE\" \r\n            [defaultValues]=\"model.propertyTypeData\"\r\n            [defaultCurrencyUnit]=\"user.currency\"\r\n            (values)=\"onPropertyTypeDataChange($event)\">\r\n        </houses-edit>\r\n      </div>\r\n    </section>\r\n\r\n    <section class=\"form__actions form__actions--edit-property\"\r\n        fxLayout=\"column\" fxLayout.gt-sm=\"row\"  \r\n        fxLayoutGap=\"10px\">\r\n      \r\n      <button mat-fab *ngIf=\"!editPropertyServiceRunning\" \r\n          class=\"fab mat-elevation-z10 form__action\" \r\n          color=\"accent\" \r\n          type=\"submit\"\r\n          matTooltip=\"Save changes\" matTooltipPosition=\"left\" \r\n          [disabled]=\"!(editPropertyForm.form.valid && includedFormsValid())\">\r\n        <mat-icon aria-label=\"Save changes\">save</mat-icon>\r\n      </button>\r\n      \r\n      <mat-progress-spinner *ngIf=\"editPropertyServiceRunning\"\r\n          class=\"progress-spinner progress-spinner--edit-property\"\r\n          color=\"accent\"\r\n          [diameter]=\"55\" [strokeWidth]=\"10\"\r\n          mode=\"indeterminate\">\r\n      </mat-progress-spinner>\r\n    </section>\r\n  </form>\r\n\r\n  <!-- Figures -->\r\n  <section *ngIf=\"!getPropertyServiceRunning\" fxHide.lt-md=\"true\" fxLayout=\"column\" fxLayoutGap=\"10px\" fxFlex=\"300px\" class=\"house-figures-results\">\r\n    <mat-card>\r\n      <mat-card-content>\r\n        <!-- Missing required data from -->\r\n        <form class=\"form__container form__house-figures-results\" #houseFiguresResultsForm=\"ngForm\" novalidate fxLayout=\"column\" fxLayoutGap=\"10px\" >\r\n          <section fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"form__fields\">\r\n            <div fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"form__fields__row__container\">\r\n              <h3 class=\"title\">\r\n                <p class=\"header\">Additional values</p>\r\n                <p class=\"mat-caption\">This information it is not saved in the database, play with these values to evaluate a potencial investment</p>\r\n              </h3>\r\n\r\n              <div fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"form__fields__row\">\r\n                <!-- Loan coverage -->\r\n                <div fxFlex=\"none\" fxLayout=\"column\" class=\"form__field slider__field\">\r\n                  <label class=\"slider__label\">Loan coverage</label>\r\n                  <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"start center\">\r\n                    <mat-slider fxFlex id=\"loanCoverage\" name=\"loanCoverage\"\r\n                        color=\"accent\"\r\n                        [max]=\"100\"\r\n                        [min]=\"0\"\r\n                        [step]=\"1\"\r\n                        thumbLabel=\"true\"\r\n                        tickInterval=\"1\"\r\n                        [(ngModel)]=\"modelHouseFiguresResults.loanCoverage\"\r\n                        [value]=\"modelHouseFiguresResults.loanCoverage\"> \r\n                    </mat-slider>\r\n                    <span *ngIf=\"modelHouseFiguresResults.loanCoverage\">{{modelHouseFiguresResults.loanCoverage}}%</span>\r\n                  </div>\r\n                  <label class=\"mat-hint slider__label__hint\">Percentage of the purchase price covered by the loan.</label>\r\n                </div>\r\n\r\n                <!-- Loan term -->\r\n                <div fxFlex=\"none\" fxLayout=\"column\" class=\"form__field slider__field\">\r\n                  <label class=\"slider__label\">Term</label>\r\n                  <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"start center\">\r\n                    <mat-slider fxFlex id=\"loanTerm\" name=\"loanTerm\"\r\n                        color=\"accent\"\r\n                        [max]=\"30\"\r\n                        [min]=\"1\"\r\n                        [step]=\"1\"\r\n                        thumbLabel=\"true\"\r\n                        tickInterval=\"1\"\r\n                        [(ngModel)]=\"modelHouseFiguresResults.loanTerm\"\r\n                        [value]=\"modelHouseFiguresResults.loanTerm\"> \r\n                    </mat-slider>\r\n                    <span *ngIf=\"modelHouseFiguresResults.loanTerm\">{{modelHouseFiguresResults.loanTerm}} years</span>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- Interest rates -->\r\n                <mat-form-field fxFlex class=\"form__field\">\r\n                  <input matInput type=\"number\" id=\"interestRates\" name=\"interestRates\" placeholder=\"Interest rates\" \r\n                      [(ngModel)]=\"modelHouseFiguresResults.interestRates\" \r\n                      numberValidator='{\"min\": 0, \"max\": 100}' \r\n                      [value]=\"modelHouseFiguresResults.interestRates\"\r\n                      #interestRates=\"ngModel\">\r\n\r\n                  <mat-icon matPrefix>timeline</mat-icon>\r\n                  <span matSuffix>%</span>\r\n                  <mat-hint align=\"start\">Average loan interest rates (as a percentage).</mat-hint>\r\n                  <mat-error *ngIf=\"interestRates.invalid && (interestRates.dirty || interestRates.touched) && interestRates.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n                  <mat-error *ngIf=\"interestRates.invalid && (interestRates.dirty || interestRates.touched) && interestRates.errors.numberValidatorMin\">Min value must be greater or equal than 0</mat-error>\r\n                  <mat-error *ngIf=\"interestRates.invalid && (interestRates.dirty || interestRates.touched) && interestRates.errors.numberValidatorMax\">Max value must be less or equal than 100</mat-error>\r\n                </mat-form-field>\r\n\r\n                <!-- Payment frecuency -->\r\n                <mat-form-field fxFlex class=\"form__field\">\r\n                  <mat-select id=\"paymentFrecuency\" name=\"paymentFrecuency\" placeholder=\"Frecuency\" \r\n                      [(ngModel)]=\"modelHouseFiguresResults.paymentFrecuency\" [value]=\"modelHouseFiguresResults.paymentFrecuency\">\r\n                    <mat-option value=\"12\">Monthly</mat-option>\r\n                    <mat-option value=\"26\">Fornightly</mat-option>\r\n                    <mat-option value=\"52\">Weekly</mat-option>\r\n                  </mat-select>\r\n                  \r\n                  <mat-hint align=\"start\">Payment frecuency</mat-hint>\r\n                </mat-form-field>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        </form>\r\n      </mat-card-content>\r\n    </mat-card>\r\n\r\n    <house-figures-results \r\n      title=\"Property figures\"\r\n      subtitle=\"This figures asumes that all of the currency inputs in the form are in the same unit\"\r\n      [purchasePrice]=\"model.purchasePrice || model.offerPrice || model.askingPrice || model.walkAwayPrice || 0\"\r\n      [capitalGrowth]=\"model.propertyTypeData.capitalGrowth || 0\"\r\n      [marketValue]=\"model.marketValue\"\r\n      [loanCoverage]=\"modelHouseFiguresResults.loanCoverage\"\r\n      [interestRates]=\"modelHouseFiguresResults.interestRates\"\r\n      [loanTerm]=\"modelHouseFiguresResults.loanTerm\"\r\n      [paymentFrecuency]=\"modelHouseFiguresResults.paymentFrecuency\"\r\n      [rentPrice]=\"model.propertyTypeData.rentPrice\"\r\n      [rentPaymentFrecuency]=\"model.propertyTypeData.rentPricePeriod\"\r\n      [vacancy]=\"model.propertyTypeData.vacancy\"\r\n      [renovationCost]=\"model.renovationCost\"\r\n      [mantainanceCost]=\"model.maintenanceCost\"\r\n      [bodyCorporate]=\"model.propertyTypeData.bodyCorporate\"\r\n      [houseRates]=\"model.propertyTypeData.rates\"\r\n      [utilities]=\"model.propertyTypeData.utilitiesCost\"\r\n      [insurance]=\"model.propertyTypeData.insurance\"\r\n      [otherCosts]=\"model.otherCost\"\r\n      [managed]=\"model.propertyTypeData.managed ? model.propertyTypeData.managerRate : 0\">\r\n    </house-figures-results>\r\n  </section>\r\n  <!-- <pre>{{model | json}}</pre> -->\r\n\r\n  <progress-bar class=\"progress-bar--get-property\" *ngIf=\"getPropertyServiceRunning\"\r\n      color=\"primary\"\r\n      message=\"Loading property info...\">\r\n  </progress-bar>\r\n\r\n  <section *ngIf=\"!getPropertyServiceRunning\" \r\n      fxLayout=\"column\" \r\n      fxHide.gt-sm=\"true\" \r\n      class=\"actions\">\r\n    \r\n    <button mat-mini-fab class=\"mini-fab mat-elevation-z10\" color=\"primary\" *ngIf=\"!showPropertyFiguresDialogSpinner\"\r\n        matTooltip=\"Show figures\" matTooltipPosition=\"left\" \r\n        (click)=\"showPropertyFiguresDialogSpinner = true; openHouseResultsFiguresDialog()\">\r\n      <mat-icon aria-label=\"Show property figures\">attach_money</mat-icon>\r\n    </button>\r\n\r\n    <mat-progress-spinner *ngIf=\"showPropertyFiguresDialogSpinner\"\r\n        class=\"progress-spinner progress-spinner--open-dialog\"\r\n        color=\"warn\"\r\n        [diameter]=\"40\" [strokeWidth]=\"7\"\r\n        mode=\"indeterminate\">\r\n    </mat-progress-spinner>\r\n  </section>\r\n</div>"

/***/ }),

/***/ "./src/app/modules/properties/components/properties-edit/properties-edit.component.scss":
/*!**********************************************************************************************!*\
  !*** ./src/app/modules/properties/components/properties-edit/properties-edit.component.scss ***!
  \**********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".progress-bar--get-property {\n  width: 100%; }\n\n.actions .mini-fab, .actions .progress-spinner--open-dialog {\n  bottom: 75px; }\n\n@media screen and (min-width: 600px) {\n  .progress-bar--get-property {\n    width: 300px; } }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9wcm9wZXJ0aWVzL2NvbXBvbmVudHMvcHJvcGVydGllcy1lZGl0L0M6XFx3M1xcYXRvbWlDb2NvbnV0XFxjbGllbnQvc3JjXFxhcHBcXG1vZHVsZXNcXHByb3BlcnRpZXNcXGNvbXBvbmVudHNcXHByb3BlcnRpZXMtZWRpdFxccHJvcGVydGllcy1lZGl0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBO0VBQ0UsWUFBVyxFQUNaOztBQUVEO0VBR0ksYUFBWSxFQUNiOztBQUdIO0VBRUU7SUFDRSxhQUFZLEVBQ2IsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvcHJvcGVydGllcy9jb21wb25lbnRzL3Byb3BlcnRpZXMtZWRpdC9wcm9wZXJ0aWVzLWVkaXQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0ICcuLi8uLi8uLi8uLi8uLi92YXJpYWJsZXMnO1xyXG5cclxuXHJcbi5wcm9ncmVzcy1iYXItLWdldC1wcm9wZXJ0eSB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbi5hY3Rpb25zIHtcclxuXHJcbiAgLm1pbmktZmFiLCAucHJvZ3Jlc3Mtc3Bpbm5lci0tb3Blbi1kaWFsb2cge1xyXG4gICAgYm90dG9tOiA3NXB4O1xyXG4gIH1cclxufVxyXG5cclxuQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogJHNjcmVlbkd0WHMpIHtcclxuXHJcbiAgLnByb2dyZXNzLWJhci0tZ2V0LXByb3BlcnR5IHtcclxuICAgIHdpZHRoOiAzMDBweDtcclxuICB9XHJcbn0iXX0= */"

/***/ }),

/***/ "./src/app/modules/properties/components/properties-edit/properties-edit.component.ts":
/*!********************************************************************************************!*\
  !*** ./src/app/modules/properties/components/properties-edit/properties-edit.component.ts ***!
  \********************************************************************************************/
/*! exports provided: PropertiesEditComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PropertiesEditComponent", function() { return PropertiesEditComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../app.service */ "./src/app/app.service.ts");
/* harmony import */ var _properties_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../properties.service */ "./src/app/modules/properties/properties.service.ts");
/* harmony import */ var _shared_components_main_navigator_main_navigator_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/components/main-navigator/main-navigator.service */ "./src/app/modules/shared/components/main-navigator/main-navigator.service.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../constants */ "./src/app/constants.ts");
/* harmony import */ var _models_house__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../models/house */ "./src/app/modules/properties/models/house.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _util_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../util.service */ "./src/app/util.service.ts");
/* harmony import */ var _house_figures_dialog_house_figures_dialog_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../house-figures-dialog/house-figures-dialog.component */ "./src/app/modules/properties/components/house-figures-dialog/house-figures-dialog.component.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var PropertiesEditComponent = /** @class */ (function () {
    function PropertiesEditComponent(route, mainNavigatorService, propertiesService, appService, router, utilService, dateAdapter, dialog) {
        this.route = route;
        this.mainNavigatorService = mainNavigatorService;
        this.propertiesService = propertiesService;
        this.appService = appService;
        this.router = router;
        this.utilService = utilService;
        this.dateAdapter = dateAdapter;
        this.dialog = dialog;
        this.editMode = false;
        this.user = null;
        this.property = null;
        this.propertyTypes = null;
        this.id = null; // property id
        this.type = null; // property type
        this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subscription"]();
        this.propertyTypeDataValid = false; // this value is set when property type data form is updated
        this.addressValid = false;
        // services flags
        this.editPropertyServiceRunning = false;
        this.getPropertyServiceRunning = false;
        this.showPropertyFiguresDialogSpinner = false;
        // models
        this.model = {
            id: null,
            email: null,
            type: null,
            propertyTypeData: {},
            address: {},
            askingPrice: null,
            askingPriceUnit: null,
            offerPrice: null,
            offerPriceUnit: null,
            walkAwayPrice: null,
            walkAwayPriceUnit: null,
            purchasePrice: null,
            purchasePriceUnit: null,
            dateListed: null,
            reasonForSelling: null,
            marketValue: null,
            marketValueUnit: null,
            renovationCost: null,
            renovationCostUnit: null,
            maintenanceCost: null,
            maintenanceCostUnit: null,
            description: null,
            otherCost: null,
            otherCostUnit: null,
            notes: null
        };
        this.modelHouseFiguresResults = {
            loanCoverage: 80,
            interestRates: 7,
            loanTerm: 30,
            paymentFrecuency: '26',
        };
        this.dateAdapter.setLocale('en-GB');
        this.propertyTypes = _constants__WEBPACK_IMPORTED_MODULE_6__["PROPERTY_TYPES"];
    }
    PropertiesEditComponent.prototype.ngOnInit = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > ngOnInit() > "; // for debugging
        this.mainNavigatorService.setLinks([
            { displayName: 'Welcome', url: '/welcome', selected: false },
            { displayName: 'Investments', url: '/investments', selected: false },
            { displayName: 'Properties', url: '/properties', selected: false }
        ]);
        // generates a user source object from authUser from resolver
        var user$ = this.route.data.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_11__["map"])(function (data) { return data.authUser; }));
        // generates an property id source from id parameter in url
        var id$ = this.route.paramMap.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_11__["map"])(function (params) { return params.get('id'); }));
        // combine user$ and id$ sources into one object and start listen to it for changes
        var newSubscription = user$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_11__["combineLatest"])(id$, function (user, id) {
            _this.user = user;
            return { user: user, propertyId: id };
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_11__["flatMap"])(function (data) {
            _this.model.email = data.user.email;
            _this.model.askingPriceUnit = _this.model.offerPriceUnit = _this.model.walkAwayPriceUnit =
                _this.model.purchasePriceUnit = _this.model.marketValueUnit = _this.model.renovationCostUnit =
                    _this.model.maintenanceCostUnit = _this.model.otherCostUnit = _this.user.currency;
            _this.model.id = data.propertyId || null;
            _this.editPropertyServiceRunning = false;
            _this.getPropertyServiceRunning = false;
            if (!data.propertyId) {
                // we are creating a new property
                _this.id = null;
                _this.editMode = false;
                _this.mainNavigatorService.appendLink({ displayName: 'Create Property', url: '', selected: true });
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["of"])(null);
            }
            else {
                _this.mainNavigatorService.appendLink({ displayName: 'Edit Property', url: '', selected: true });
                // we are editing an existing property
                _this.id = data.propertyId;
                _this.editMode = true;
                _this.getPropertyServiceRunning = true;
                return _this.propertiesService.getPropertyById$(_this.user.email, data.propertyId);
            }
        })).subscribe(function (property) {
            if (property) {
                _this.populateModel(property);
            }
            _this.getPropertyServiceRunning = false;
        }, function (error) {
            _this.appService.consoleLog('error', methodTrace + " There was an error in the server while performing this action > ", error);
            if (error.codeno === 400) {
                _this.appService.showResults("There was an error in the server while performing this action, please try again in a few minutes.", 'error');
            }
            else if (error.codeno === 461 || error.codeno === 462) {
                _this.appService.showResults(error.msg, 'error');
                _this.router.navigate(['/welcome']);
            }
            else {
                _this.appService.showResults("There was an error with this service and the information provided.", 'error');
            }
            _this.getPropertyServiceRunning = false;
        });
        this.subscription.add(newSubscription);
        // get TYPE parameter
        this.route.paramMap.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_11__["map"])(function (params) { return params.get('type'); })).subscribe(function (type) {
            if (![_constants__WEBPACK_IMPORTED_MODULE_6__["PROPERTY_TYPES"].HOUSE].includes(type)) {
                _this.appService.showResults('You must provide a valid property type to continue.', 'error');
                _this.router.navigate(['welcome']);
            }
            else {
                _this.type = type;
                _this.model.type = type;
                _this.model.propertyTypeData.buildingType = type;
            }
        });
    };
    PropertiesEditComponent.prototype.ngOnDestroy = function () {
        this.subscription.unsubscribe();
    };
    /**
     * Populates the model with the property as param
     * @param { Property } property
     */
    PropertiesEditComponent.prototype.populateModel = function (property) {
        var methodTrace = this.constructor.name + " > populateModel() > "; // for debugging
        this.property = property;
        // populate the model
        this.model.address = property.address;
        this.model.askingPrice = property.askingPrice;
        this.model.askingPriceUnit = property.askingPriceUnit;
        this.model.offerPrice = property.offerPrice;
        this.model.offerPriceUnit = property.offerPriceUnit;
        this.model.walkAwayPrice = property.walkAwayPrice;
        this.model.walkAwayPriceUnit = property.walkAwayPriceUnit;
        this.model.purchasePrice = property.purchasePrice;
        this.model.purchasePriceUnit = property.purchasePriceUnit;
        this.model.dateListed = property.dateListed;
        this.model.reasonForSelling = property.reasonForSelling;
        this.model.marketValue = property.marketValue;
        this.model.marketValueUnit = property.marketValueUnit;
        this.model.renovationCost = property.renovationCost;
        this.model.renovationCostUnit = property.renovationCostUnit;
        this.model.maintenanceCost = property.maintenanceCost;
        this.model.maintenanceCostUnit = property.maintenanceCostUnit;
        this.model.description = property.description;
        this.model.otherCost = property.otherCost;
        this.model.otherCostUnit = property.otherCostUnit;
        this.model.notes = property.notes;
        this.model.type = property.type;
        if (property instanceof _models_house__WEBPACK_IMPORTED_MODULE_7__["House"]) {
            this.model.propertyTypeData = {
                buildingType: property.buildingType,
                titleType: property.titleType,
                landArea: property.landArea,
                floorArea: property.floorArea,
                registeredValue: property.registeredValue,
                registeredValueUnit: property.registeredValueUnit,
                rates: property.rates,
                ratesUnit: property.ratesUnit,
                insurance: property.insurance,
                insuranceUnit: property.insuranceUnit,
                capitalGrowth: property.capitalGrowth,
                bedrooms: property.bedrooms,
                bathrooms: property.bathrooms,
                parkingSpaces: property.parkingSpaces,
                fenced: property.fenced,
                rented: property.rented,
                rentPrice: property.rentPrice,
                rentPriceUnit: property.rentPriceUnit,
                rentPricePeriod: property.rentPricePeriod,
                rentAppraisalDone: property.rentAppraisalDone,
                vacancy: property.vacancy,
                bodyCorporate: property.bodyCorporate,
                bodyCorporateUnit: property.bodyCorporateUnit,
                utilitiesCost: property.utilitiesCost,
                utilitiesCostUnit: property.utilitiesCostUnit,
                managed: property.managed,
                managerRate: property.managerRate,
                agent: property.agent
            };
        }
    };
    PropertiesEditComponent.prototype.onSubmit = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > onSubmit() > "; // for debugging
        this.editPropertyServiceRunning = true;
        this.model.createdOn = new Date(Date.now());
        this.model.updatedOn = new Date(Date.now());
        // call the investment create service
        var newSubscription = this.propertiesService.create$(this.model).subscribe(function (data) {
            if (data && data.id && data.type) {
                _this.appService.showResults("Property successfully created!", 'success');
                _this.router.navigate(['/properties/', data.type, 'edit', data.id]);
            }
            else {
                _this.appService.consoleLog('error', methodTrace + " Unexpected data format.");
                _this.editPropertyServiceRunning = false;
            }
        }, function (error) {
            _this.appService.consoleLog('error', methodTrace + " There was an error with the create/edit property service.", error);
            if (error.codeno === 400) {
                _this.appService.showResults("There was an error with the property services, please try again in a few minutes.", 'error');
            }
            _this.editPropertyServiceRunning = false;
        });
        this.subscription.add(newSubscription);
    };
    PropertiesEditComponent.prototype.onUpdate = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > onUpdate() > "; // for debugging
        this.editPropertyServiceRunning = true;
        this.model.updatedOn = new Date(Date.now());
        // call the investment create service
        var newSubscription = this.propertiesService.update$(this.model).subscribe(function (data) {
            if (data && data.id && data.type) {
                _this.appService.showResults("Property successfully updated!", 'success');
            }
            else {
                _this.appService.consoleLog('error', methodTrace + " Unexpected data format.");
            }
            _this.editPropertyServiceRunning = false;
        }, function (error) {
            _this.appService.consoleLog('error', methodTrace + " There was an error with the create/edit property service.", error);
            if (error.codeno === 400) {
                _this.appService.showResults("There was an error with the property services, please try again in a few minutes.", 'error');
            }
            _this.editPropertyServiceRunning = false;
        });
        this.subscription.add(newSubscription);
    };
    PropertiesEditComponent.prototype.onCurrencyUnitChange = function ($event) {
        this.model[$event.source.id] = $event.value;
    };
    PropertiesEditComponent.prototype.onPropertyTypeDataChange = function ($event) {
        this.model.propertyTypeData = $event.value.model;
        this.propertyTypeDataValid = $event.value.valid;
    };
    PropertiesEditComponent.prototype.onAddressChange = function ($event) {
        this.model.address = $event.value.address;
        this.addressValid = $event.value.valid;
    };
    PropertiesEditComponent.prototype.includedFormsValid = function () {
        return this.propertyTypeDataValid && this.addressValid;
    };
    PropertiesEditComponent.prototype.openHouseResultsFiguresDialog = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > openHouseResultsFiguresDialog() > "; // for debugging
        var houseFiguresDialogRef = this.dialog.open(_house_figures_dialog_house_figures_dialog_component__WEBPACK_IMPORTED_MODULE_10__["HouseFiguresDialogComponent"], {
            data: {
                model: this.model,
                modelHouseFiguresResults: this.modelHouseFiguresResults
            }
        });
        var newSubscription = houseFiguresDialogRef.afterClosed().subscribe(function (modelHouseFiguresResults) {
            if (modelHouseFiguresResults) {
                _this.modelHouseFiguresResults = modelHouseFiguresResults;
                _this.showPropertyFiguresDialogSpinner = false;
            }
        });
        this.subscription.add(newSubscription);
        return false;
    };
    PropertiesEditComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'properties-edit',
            template: __webpack_require__(/*! ./properties-edit.component.html */ "./src/app/modules/properties/components/properties-edit/properties-edit.component.html"),
            styles: [__webpack_require__(/*! ./properties-edit.component.scss */ "./src/app/modules/properties/components/properties-edit/properties-edit.component.scss")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"], _shared_components_main_navigator_main_navigator_service__WEBPACK_IMPORTED_MODULE_5__["MainNavigatorService"], _properties_service__WEBPACK_IMPORTED_MODULE_4__["PropertiesService"],
            _app_service__WEBPACK_IMPORTED_MODULE_3__["AppService"], _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"], _util_service__WEBPACK_IMPORTED_MODULE_9__["UtilService"], _angular_material__WEBPACK_IMPORTED_MODULE_8__["DateAdapter"],
            _angular_material__WEBPACK_IMPORTED_MODULE_8__["MatDialog"]])
    ], PropertiesEditComponent);
    return PropertiesEditComponent;
}());



/***/ }),

/***/ "./src/app/modules/properties/components/properties-table/properties-table.component.html":
/*!************************************************************************************************!*\
  !*** ./src/app/modules/properties/components/properties-table/properties-table.component.html ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"container__properties-table\">\r\n  <section class=\"table__container\" [fxShow]=\"!getPropertiesServiceRunning && properties.length > 0\" fxLayout=\"column\" fxLayoutGap=\"10px\">\r\n    <div class=\"table__overlay\" *ngIf=\"propertyTableActionRunning\">\r\n        <mat-spinner color=\"warn\"></mat-spinner>\r\n    </div>\r\n\r\n    <!-- Table fliter -->\r\n    <mat-form-field class=\"table-filter__input\">\r\n      <input matInput (keyup)=\"applyFilter($event.target.value)\" placeholder=\"Filter\">\r\n    </mat-form-field>\r\n    \r\n    <mat-table #propertiesTable [dataSource]=\"propertiesDataSource\" matSort>\r\n  \r\n      <!-- Position Column -->\r\n      <ng-container matColumnDef=\"address\">\r\n        <mat-header-cell *matHeaderCellDef mat-sort-header>Address</mat-header-cell>\r\n        <mat-cell *matCellDef=\"let element\" (click)=\"selection.select(element); goToPropertyEdit(element);\">{{element.address.description}}</mat-cell>\r\n      </ng-container>\r\n  \r\n      <ng-container matColumnDef=\"invest\">\r\n        <mat-header-cell *matHeaderCellDef>Invest</mat-header-cell>\r\n        <mat-cell *matCellDef=\"let element\">\r\n          <button mat-mini-fab color=\"primary\" \r\n              routerLink=\"/investments/property/create/{{element.id}}\" \r\n              [disabled]=\"user.email !== element.createdBy.email\"\r\n              [matTooltip]=\"user.email !== element.createdBy.email ? 'Only the creator (' + element.createdBy.name + ') can perform this action' : ''\"\r\n              matTooltipPosition=\"left\"\r\n              (click)=\"propertyTableActionRunning = true\">\r\n            <mat-icon aria-label=\"Create investment\">trending_up</mat-icon>\r\n          </button>\r\n        </mat-cell>\r\n      </ng-container>\r\n  \r\n      <ng-container matColumnDef=\"delete\">\r\n        <mat-header-cell *matHeaderCellDef>Delete</mat-header-cell>\r\n        <mat-cell *matCellDef=\"let element; let propertyIndex = index;\">\r\n          <button mat-mini-fab color=\"warn\" \r\n              [disabled]=\"user.email !== element.createdBy.email\"\r\n              [matTooltip]=\"user.email !== element.createdBy.email ? 'Only the creator (' + element.createdBy.name + ') can perform this action' : ''\"\r\n              matTooltipPosition=\"left\"\r\n              (click)=\"openDeleteTeamDialog(propertyIndex, element)\">\r\n            <mat-icon aria-label=\"Delete\">delete</mat-icon>\r\n          </button>\r\n        </mat-cell>\r\n      </ng-container>\r\n      \r\n      <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\r\n      <mat-row *matRowDef=\"let row; columns: displayedColumns;\"\r\n          [ngClass]=\"{ 'selected': selection.isSelected(row)}\"></mat-row>\r\n    </mat-table>\r\n  </section>\r\n  <mat-paginator [fxShow]=\"!getPropertiesServiceRunning && properties.length > 0\" #propertiesPaginator \r\n      [pageSize]=\"25\" \r\n      [showFirstLastButtons]=\"true\"\r\n      [pageSizeOptions]=\"[25, 50, 100]\">\r\n  </mat-paginator>\r\n  \r\n  <section *ngIf=\"!getPropertiesServiceRunning && properties.length == 0\" fxLayout=\"column\" fxLayoutGap=\"10px\">\r\n    <mat-card fxFlex class=\"no-properties__card\">\r\n      <mat-card-content fxLayout=\"column\" fxLayoutGap=\"10px\"\r\n          fxLayoutAlign=\"space-around center\">\r\n        <p>You do not have any property yet.</p>\r\n      </mat-card-content>\r\n    </mat-card>\r\n    \r\n  </section>\r\n  \r\n  <progress-bar fxFlexAlign=\"center\" class=\"progress-bar--get-properties\" *ngIf=\"getPropertiesServiceRunning\"\r\n      color=\"primary\"\r\n      message=\"Loading properties...\">\r\n  </progress-bar>\r\n  \r\n</div>"

/***/ }),

/***/ "./src/app/modules/properties/components/properties-table/properties-table.component.scss":
/*!************************************************************************************************!*\
  !*** ./src/app/modules/properties/components/properties-table/properties-table.component.scss ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".table__container .table-filter__input {\n  margin: 0 24px; }\n\n.table__container mat-table mat-row .mat-column-address {\n  cursor: pointer; }\n\n.table__container mat-table .mat-row.selected {\n  background: #69f0ae; }\n\n.table__container mat-table .mat-row.selected .mat-column-address {\n    color: rgba(0, 0, 0, 0.87); }\n\n.no-properties__card {\n  text-align: center; }\n\n.no-properties__card mat-card-content p {\n    margin-bottom: 0; }\n\n.progress-bar--get-properties {\n  width: 80%;\n  margin: 0 24px; }\n\n@media screen and (min-width: 600px) {\n  .table-filter__input {\n    margin: 0; }\n  .progress-bar--get-properties {\n    width: 300px;\n    margin: 0; } }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9wcm9wZXJ0aWVzL2NvbXBvbmVudHMvcHJvcGVydGllcy10YWJsZS9DOlxcdzNcXGF0b21pQ29jb251dFxcY2xpZW50L3NyY1xcYXBwXFxtb2R1bGVzXFxwcm9wZXJ0aWVzXFxjb21wb25lbnRzXFxwcm9wZXJ0aWVzLXRhYmxlXFxwcm9wZXJ0aWVzLXRhYmxlLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tb2R1bGVzL3Byb3BlcnRpZXMvY29tcG9uZW50cy9wcm9wZXJ0aWVzLXRhYmxlL0M6XFx3M1xcYXRvbWlDb2NvbnV0XFxjbGllbnQvc3JjXFxfdmFyaWFibGVzLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFHSSxlQUFjLEVBQ2Y7O0FBSkg7RUFTTSxnQkFBZSxFQUNoQjs7QUFWTDtFQWFNLG9CQ1BVLEVEWVg7O0FBbEJMO0lBZ0JRLDJCQUFzQixFQUN2Qjs7QUFNUDtFQUNFLG1CQUFrQixFQVFuQjs7QUFURDtJQU1NLGlCQUFnQixFQUNqQjs7QUFJTDtFQUNFLFdBQVU7RUFDVixlQUFjLEVBQ2Y7O0FBRUQ7RUFFRTtJQUNFLFVBQVMsRUFDVjtFQUVEO0lBQ0UsYUFBWTtJQUNaLFVBQVMsRUFDVixFQUFBIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9wcm9wZXJ0aWVzL2NvbXBvbmVudHMvcHJvcGVydGllcy10YWJsZS9wcm9wZXJ0aWVzLXRhYmxlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCAnLi4vLi4vLi4vLi4vLi4vdmFyaWFibGVzJztcclxuXHJcbi50YWJsZV9fY29udGFpbmVyIHtcclxuXHJcbiAgLnRhYmxlLWZpbHRlcl9faW5wdXQge1xyXG4gICAgbWFyZ2luOiAwIDI0cHg7XHJcbiAgfVxyXG5cclxuICBtYXQtdGFibGUge1xyXG4gICAgXHJcbiAgICBtYXQtcm93ICAubWF0LWNvbHVtbi1hZGRyZXNzIHtcclxuICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgfVxyXG5cclxuICAgIC5tYXQtcm93LnNlbGVjdGVkIHtcclxuICAgICAgYmFja2dyb3VuZDogJGFjY2VudDtcclxuICBcclxuICAgICAgLm1hdC1jb2x1bW4tYWRkcmVzcyB7XHJcbiAgICAgICAgY29sb3I6IHJnYmEoMCwwLDAsLjg3KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICB9XHJcbn1cclxuXHJcbi5uby1wcm9wZXJ0aWVzX19jYXJkIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcblxyXG4gIG1hdC1jYXJkLWNvbnRlbnQge1xyXG4gICAgXHJcbiAgICBwIHtcclxuICAgICAgbWFyZ2luLWJvdHRvbTogMDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi5wcm9ncmVzcy1iYXItLWdldC1wcm9wZXJ0aWVzIHtcclxuICB3aWR0aDogODAlO1xyXG4gIG1hcmdpbjogMCAyNHB4O1xyXG59XHJcblxyXG5AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAkc2NyZWVuR3RYcykge1xyXG5cclxuICAudGFibGUtZmlsdGVyX19pbnB1dCB7XHJcbiAgICBtYXJnaW46IDA7XHJcbiAgfVxyXG5cclxuICAucHJvZ3Jlc3MtYmFyLS1nZXQtcHJvcGVydGllcyB7XHJcbiAgICB3aWR0aDogMzAwcHg7XHJcbiAgICBtYXJnaW46IDA7XHJcbiAgfVxyXG59IiwiLy9CcmVha3BvaW50c1xyXG4kc2NyZWVuR3RYczogNjAwcHg7XHJcbiRzY3JlZW5HdFNtOiA5NjBweDsgXHJcblxyXG5cclxuLy9Db2xvcnNcclxuJHByaW1hcnk6ICM3YjFmYTI7XHJcbiRzZWNvbmRhcnk6IHJnYigxNTYsIDM5LCAxNzYpO1xyXG4kYWNjZW50OiAjNjlmMGFlO1xyXG4kd2FybiA6ICNmNDQzMzY7XHJcbiRwdXJwbGUgOiAkcHJpbWFyeTtcclxuJHB1cnBsZUZvbnRzIDogI0MzNTJGMztcclxuJGdyZWVuOiAjMjhGRTdDO1xyXG4kcmVkOiAjZmY1MjcxO1xyXG4kbGlnaHRPcmFuZ2UgOiByZ2JhKDI1NSwgMTg3LCAwLCAwLjg3KTtcclxuJGFsbW9zdFdoaXRlIDogcmdiYSgyNTUsMjU1LDI1NSwuODcpO1xyXG4kYWxtb3N0QmxhY2sgOiByZ2JhKDAsMCwwLC44Nyk7Il19 */"

/***/ }),

/***/ "./src/app/modules/properties/components/properties-table/properties-table.component.ts":
/*!**********************************************************************************************!*\
  !*** ./src/app/modules/properties/components/properties-table/properties-table.component.ts ***!
  \**********************************************************************************************/
/*! exports provided: PropertiesTableComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PropertiesTableComponent", function() { return PropertiesTableComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _users_models_user__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../users/models/user */ "./src/app/modules/users/models/user.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../app.service */ "./src/app/app.service.ts");
/* harmony import */ var _properties_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../properties.service */ "./src/app/modules/properties/properties.service.ts");
/* harmony import */ var _shared_components_yes_no_dialog_yes_no_dialog_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/components/yes-no-dialog/yes-no-dialog.component */ "./src/app/modules/shared/components/yes-no-dialog/yes-no-dialog.component.ts");
/* harmony import */ var _angular_cdk_collections__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/cdk/collections */ "./node_modules/@angular/cdk/esm5/collections.es5.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var PropertiesTableComponent = /** @class */ (function () {
    function PropertiesTableComponent(appService, propertiesService, dialog, router) {
        this.appService = appService;
        this.propertiesService = propertiesService;
        this.dialog = dialog;
        this.router = router;
        this.user = null;
        this.showActions = true; // if false we hide FAB buttons
        this.allowEdition = true; // if false we don't redirect to property edit component when click on adrdresss
        this.loadJustUserProperties = false; // if false when it get properties loads current user properties plus properties of investments where the user has a portion of it.
        this.selectedProperty = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.onPropertiesLoad = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.properties = [];
        this.propertiesDataSource = new _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatTableDataSource"]([]);
        this.selection = new _angular_cdk_collections__WEBPACK_IMPORTED_MODULE_7__["SelectionModel"](false, []);
        this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subscription"]();
        this.getPropertiesServiceRunning = false;
        this.propertyTableActionRunning = false;
        this.displayedColumns = [];
    }
    PropertiesTableComponent.prototype.ngOnInit = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > ngOnInit() > "; // for debugging
        this.displayedColumns = ['address'];
        if (this.showActions) {
            this.displayedColumns = this.displayedColumns.concat(['invest', 'delete']);
        }
        if (!this.properties.length) {
            this.getProperties();
        }
        // selection changed
        var newSubcription = this.selection.onChange.subscribe(function (selectionChange) {
            _this.selectedProperty.emit(_this.selection.selected[0]);
        });
        this.subscription.add(newSubcription);
        // set filter predicate function to look just in the address field
        this.propertiesDataSource.filterPredicate = function (data, filter) {
            var address = data.address.description.toLowerCase().trim();
            var filterStr = filter.toLowerCase().trim();
            if (address.indexOf(filterStr) > -1) {
                return true;
            }
            return false;
        };
        // this is needed because for fields where the header does not match the property of the data for sorting as address <> description
        this.propertiesDataSource.sortingDataAccessor = function (data, sortHeaderId) {
            if (sortHeaderId === 'address') {
                return data.address.description;
            }
            return 1;
        };
    };
    PropertiesTableComponent.prototype.ngAfterViewInit = function () {
        this.propertiesDataSource.sort = this.propertiesSort;
    };
    PropertiesTableComponent.prototype.ngOnDestroy = function () {
        var methodTrace = this.constructor.name + " > ngOnDestroy() > "; // for debugging
        // this.appService.consoleLog('info', `${methodTrace} Component destroyed.`);
        this.subscription.unsubscribe();
    };
    /**
     * Get my properties from the server
     */
    PropertiesTableComponent.prototype.getProperties = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > getProperties() > "; // for debugging
        this.properties = [];
        this.propertiesDataSource.data = [];
        this.propertiesDataSource.paginator = this.propertiesTablePaginator;
        this.getPropertiesServiceRunning = true;
        var newSubscription = this.propertiesService.getProperties$(this.user.email, this.loadJustUserProperties).subscribe(function (properties) {
            _this.properties = properties;
            _this.propertiesDataSource.data = properties;
            _this.propertiesDataSource.paginator = _this.propertiesTablePaginator;
            _this.getPropertiesServiceRunning = false;
            _this.onPropertiesLoad.emit(properties.length);
        }, function (error) {
            _this.appService.consoleLog('error', methodTrace + " There was an error in the server while performing this action > " + error);
            if (error.codeno === 400) {
                _this.appService.showResults("There was an error in the server while performing this action, please try again in a few minutes.", 'error');
            }
            else {
                _this.appService.showResults("There was an error with this service and the information provided.", 'error');
            }
            _this.getPropertiesServiceRunning = false;
        });
        this.subscription.add(newSubscription);
    };
    PropertiesTableComponent.prototype.goToPropertyEdit = function (property) {
        if (this.allowEdition) {
            this.propertyTableActionRunning = true;
            this.router.navigate(['/properties', property.type, 'edit', property.id]);
        }
    };
    PropertiesTableComponent.prototype.openDeleteTeamDialog = function (indexInPage, property) {
        var _this = this;
        if (property === void 0) { property = null; }
        var methodTrace = this.constructor.name + " > openDeleteTeamDialog() > "; // for debugging
        if (!property) {
            this.appService.consoleLog('error', methodTrace + " Property is required to delete.");
            return false;
        }
        // map the index in the table to the indes in the properties array
        var index = indexInPage + this.propertiesTablePaginator.pageIndex * this.propertiesTablePaginator.pageSize;
        if (this.propertiesSort.direction === 'desc') {
            index = (-1) * (index + 1); // add one to index and invert sign
        }
        this.propertyTableActionRunning = true;
        var yesNoDialogRef = this.dialog.open(_shared_components_yes_no_dialog_yes_no_dialog_component__WEBPACK_IMPORTED_MODULE_6__["YesNoDialogComponent"], {
            width: '250px',
            data: {
                title: 'Delete property',
                message: "Are you sure you want to delete this property forever?"
            }
        });
        var newSubscription = yesNoDialogRef.afterClosed().subscribe(function (result) {
            if (result === 'yes') {
                _this.delete(index, property);
            }
            else {
                _this.propertyTableActionRunning = false;
            }
        });
        this.subscription.add(newSubscription);
        return false;
    };
    PropertiesTableComponent.prototype.delete = function (index, propertyToDelete) {
        var _this = this;
        if (propertyToDelete === void 0) { propertyToDelete = null; }
        var methodTrace = this.constructor.name + " > delete() > "; // for debugging
        this.propertyTableActionRunning = true;
        var newSuscription = this.propertiesService.delete$(propertyToDelete.id, this.user.email).subscribe(function (data) {
            if (data && data.removed > 0) {
                if (!_this.propertiesDataSource.filter.length) {
                    // data is not filtered, proceed with the easy way
                    _this.properties.splice(index, 1);
                }
                else {
                    // filtered data, we need to search for the property in order to removeit from the view
                    var propertyIndex = 0;
                    for (var _i = 0, _a = _this.properties; _i < _a.length; _i++) {
                        var property = _a[_i];
                        if (property.id === propertyToDelete.id) {
                            break;
                        }
                        propertyIndex += 1;
                    }
                    _this.properties.splice(propertyIndex, 1);
                }
                _this.propertiesDataSource.data = _this.properties;
                _this.appService.showResults("Property successfully removed!", 'success');
            }
            else {
                _this.appService.showResults("Property could not be removed, please try again.", 'error');
            }
            _this.propertyTableActionRunning = false;
        }, function (error) {
            _this.appService.consoleLog('error', methodTrace + " There was an error in the server while performing this action > " + error);
            if (error.codeno === 400) {
                _this.appService.showResults("There was an error in the server while performing this action, please try again in a few minutes.", 'error');
            }
            else if (error.codeno === 475) {
                // property associated to an investment
                _this.appService.showResults(error.msg, 'error', 7000);
            }
            else if (error.codeno === 462) {
                _this.appService.showResults("You cannot delete this property because you are not the creator of it. Ask " + error.data.creator.name + " to do it.", 'error');
            }
            else {
                _this.appService.showResults("There was an error with this service and the information provided.", 'error');
            }
            _this.propertyTableActionRunning = false;
        });
        this.subscription.add(newSuscription);
    };
    PropertiesTableComponent.prototype.applyFilter = function (filterValue) {
        filterValue = filterValue.trim(); // Remove whitespace
        filterValue = filterValue.toLowerCase(); // MatTableDataSource defaults to lowercase matches
        this.propertiesDataSource.filter = filterValue; // apply filter
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _users_models_user__WEBPACK_IMPORTED_MODULE_1__["User"])
    ], PropertiesTableComponent.prototype, "user", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], PropertiesTableComponent.prototype, "showActions", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], PropertiesTableComponent.prototype, "allowEdition", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], PropertiesTableComponent.prototype, "loadJustUserProperties", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], PropertiesTableComponent.prototype, "selectedProperty", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], PropertiesTableComponent.prototype, "onPropertiesLoad", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('propertiesPaginator'),
        __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatPaginator"])
    ], PropertiesTableComponent.prototype, "propertiesTablePaginator", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSort"]),
        __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSort"])
    ], PropertiesTableComponent.prototype, "propertiesSort", void 0);
    PropertiesTableComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'properties-table',
            template: __webpack_require__(/*! ./properties-table.component.html */ "./src/app/modules/properties/components/properties-table/properties-table.component.html"),
            styles: [__webpack_require__(/*! ./properties-table.component.scss */ "./src/app/modules/properties/components/properties-table/properties-table.component.scss")]
        }),
        __metadata("design:paramtypes", [_app_service__WEBPACK_IMPORTED_MODULE_4__["AppService"], _properties_service__WEBPACK_IMPORTED_MODULE_5__["PropertiesService"], _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialog"], _angular_router__WEBPACK_IMPORTED_MODULE_8__["Router"]])
    ], PropertiesTableComponent);
    return PropertiesTableComponent;
}());



/***/ }),

/***/ "./src/app/modules/properties/components/property-selector-dialog/property-selector-dialog.component.html":
/*!****************************************************************************************************************!*\
  !*** ./src/app/modules/properties/components/property-selector-dialog/property-selector-dialog.component.html ***!
  \****************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<h2 mat-dialog-title>Select a property</h2>\r\n\r\n<mat-dialog-content>\r\n  <div fxLayout=\"column\" fxLayoutAlign=\"none center\" class=\"container__yes-no-dialog\">\r\n    <properties-table [user]=\"data.user\" \r\n        [showActions]=\"false\" \r\n        [allowEdition]=\"false\"\r\n        [loadJustUserProperties]=\"true\" \r\n        (selectedProperty)=\"onPropertySelected($event)\"\r\n        (onPropertiesLoad)=\"onPropertiesLoad($event)\"></properties-table>\r\n      \r\n    <a *ngIf=\"showLinkToProperties\" class=\"color__almost-white go-to-properties\" (click)=\"dialogRef.close(null)\" routerLink=\"/properties/house/create\">\r\n      <mat-icon class=\"icon--arrow_forward\">arrow_forward</mat-icon>\r\n      Go and add one...\r\n    </a>\r\n  </div>\r\n</mat-dialog-content>\r\n\r\n<mat-dialog-actions fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-around center\">\r\n  <button mat-mini-fab color=\"warn\" [mat-dialog-close]=\"null\">\r\n    <mat-icon aria-label=\"No\">clear</mat-icon>\r\n  </button>\r\n</mat-dialog-actions>"

/***/ }),

/***/ "./src/app/modules/properties/components/property-selector-dialog/property-selector-dialog.component.scss":
/*!****************************************************************************************************************!*\
  !*** ./src/app/modules/properties/components/property-selector-dialog/property-selector-dialog.component.scss ***!
  \****************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".mat-dialog-content properties-table {\n  margin: 0 -24px; }\n\n.mat-dialog-content .go-to-properties {\n  margin-top: 10px; }\n\n.mat-dialog-content .go-to-properties .icon--arrow_forward {\n    float: left; }\n\n@media screen and (min-width: 600px) {\n  .mat-dialog-content properties-table {\n    margin: 0; } }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9wcm9wZXJ0aWVzL2NvbXBvbmVudHMvcHJvcGVydHktc2VsZWN0b3ItZGlhbG9nL0M6XFx3M1xcYXRvbWlDb2NvbnV0XFxjbGllbnQvc3JjXFxhcHBcXG1vZHVsZXNcXHByb3BlcnRpZXNcXGNvbXBvbmVudHNcXHByb3BlcnR5LXNlbGVjdG9yLWRpYWxvZ1xccHJvcGVydHktc2VsZWN0b3ItZGlhbG9nLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBR0ksZ0JBQWUsRUFDaEI7O0FBSkg7RUFPSSxpQkFBZ0IsRUFLakI7O0FBWkg7SUFVTSxZQUFXLEVBQ1o7O0FBSUw7RUFFRTtJQUNFLFVBQVMsRUFDVixFQUFBIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9wcm9wZXJ0aWVzL2NvbXBvbmVudHMvcHJvcGVydHktc2VsZWN0b3ItZGlhbG9nL3Byb3BlcnR5LXNlbGVjdG9yLWRpYWxvZy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgJy4uLy4uLy4uLy4uLy4uL3ZhcmlhYmxlcyc7XHJcblxyXG4ubWF0LWRpYWxvZy1jb250ZW50IHtcclxuICBcclxuICBwcm9wZXJ0aWVzLXRhYmxlIHtcclxuICAgIG1hcmdpbjogMCAtMjRweDtcclxuICB9XHJcblxyXG4gIC5nby10by1wcm9wZXJ0aWVzIHtcclxuICAgIG1hcmdpbi10b3A6IDEwcHg7XHJcblxyXG4gICAgLmljb24tLWFycm93X2ZvcndhcmQge1xyXG4gICAgICBmbG9hdDogbGVmdDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbkBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6ICRzY3JlZW5HdFhzKSB7XHJcbiAgXHJcbiAgLm1hdC1kaWFsb2ctY29udGVudCBwcm9wZXJ0aWVzLXRhYmxle1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbiJdfQ== */"

/***/ }),

/***/ "./src/app/modules/properties/components/property-selector-dialog/property-selector-dialog.component.ts":
/*!**************************************************************************************************************!*\
  !*** ./src/app/modules/properties/components/property-selector-dialog/property-selector-dialog.component.ts ***!
  \**************************************************************************************************************/
/*! exports provided: PropertySelectorDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PropertySelectorDialogComponent", function() { return PropertySelectorDialogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};


var PropertySelectorDialogComponent = /** @class */ (function () {
    function PropertySelectorDialogComponent(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
        this.showLinkToProperties = false;
    }
    PropertySelectorDialogComponent.prototype.ngOnInit = function () { };
    PropertySelectorDialogComponent.prototype.onPropertySelected = function ($event) {
        this.dialogRef.close($event);
    };
    PropertySelectorDialogComponent.prototype.onPropertiesLoad = function ($event) {
        this.showLinkToProperties = $event <= 0;
    };
    PropertySelectorDialogComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-property-selector-dialog',
            template: __webpack_require__(/*! ./property-selector-dialog.component.html */ "./src/app/modules/properties/components/property-selector-dialog/property-selector-dialog.component.html"),
            styles: [__webpack_require__(/*! ./property-selector-dialog.component.scss */ "./src/app/modules/properties/components/property-selector-dialog/property-selector-dialog.component.scss")]
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], PropertySelectorDialogComponent);
    return PropertySelectorDialogComponent;
}());



/***/ }),

/***/ "./src/app/modules/properties/models/address.ts":
/*!******************************************************!*\
  !*** ./src/app/modules/properties/models/address.ts ***!
  \******************************************************/
/*! exports provided: Address */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Address", function() { return Address; });
var Address = /** @class */ (function () {
    function Address(description, latitude, longitude, mapsPlaceId) {
        if (description === void 0) { description = null; }
        if (latitude === void 0) { latitude = null; }
        if (longitude === void 0) { longitude = null; }
        if (mapsPlaceId === void 0) { mapsPlaceId = null; }
        this.description = description;
        this.latitude = latitude;
        this.longitude = longitude;
        this.mapsPlaceId = mapsPlaceId;
    }
    return Address;
}());



/***/ }),

/***/ "./src/app/modules/properties/models/house.ts":
/*!****************************************************!*\
  !*** ./src/app/modules/properties/models/house.ts ***!
  \****************************************************/
/*! exports provided: House */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "House", function() { return House; });
/* harmony import */ var _property__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./property */ "./src/app/modules/properties/models/property.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var House = /** @class */ (function (_super) {
    __extends(House, _super);
    function House(id, type, address, createdBy, landArea, floorArea, askingPrice, askingPriceUnit, offerPrice, offerPriceUnit, walkAwayPrice, walkAwayPriceUnit, purchasePrice, purchasePriceUnit, dateListed, reasonForSelling, marketValue, marketValueUnit, registeredValue, registeredValueUnit, rates, ratesUnit, insurance, insuranceUnit, renovationCost, renovationCostUnit, maintenanceCost, maintenanceCostUnit, description, otherCost, otherCostUnit, notes, capitalGrowth, bedrooms, bathrooms, parkingSpaces, fenced, rented, rentPrice, rentPriceUnit, rentPricePeriod, rentAppraisalDone, vacancy, bodyCorporate, bodyCorporateUnit, utilitiesCost, utilitiesCostUnit, agent, managed, managerRate, buildingType, titleType) {
        if (id === void 0) { id = null; }
        if (type === void 0) { type = 'house'; }
        if (address === void 0) { address = null; }
        if (createdBy === void 0) { createdBy = null; }
        if (landArea === void 0) { landArea = null; }
        if (floorArea === void 0) { floorArea = null; }
        if (askingPrice === void 0) { askingPrice = null; }
        if (askingPriceUnit === void 0) { askingPriceUnit = null; }
        if (offerPrice === void 0) { offerPrice = null; }
        if (offerPriceUnit === void 0) { offerPriceUnit = null; }
        if (walkAwayPrice === void 0) { walkAwayPrice = null; }
        if (walkAwayPriceUnit === void 0) { walkAwayPriceUnit = null; }
        if (purchasePrice === void 0) { purchasePrice = null; }
        if (purchasePriceUnit === void 0) { purchasePriceUnit = null; }
        if (dateListed === void 0) { dateListed = null; }
        if (reasonForSelling === void 0) { reasonForSelling = null; }
        if (marketValue === void 0) { marketValue = null; }
        if (marketValueUnit === void 0) { marketValueUnit = null; }
        if (registeredValue === void 0) { registeredValue = null; }
        if (registeredValueUnit === void 0) { registeredValueUnit = null; }
        if (rates === void 0) { rates = null; }
        if (ratesUnit === void 0) { ratesUnit = null; }
        if (insurance === void 0) { insurance = null; }
        if (insuranceUnit === void 0) { insuranceUnit = null; }
        if (renovationCost === void 0) { renovationCost = null; }
        if (renovationCostUnit === void 0) { renovationCostUnit = null; }
        if (maintenanceCost === void 0) { maintenanceCost = null; }
        if (maintenanceCostUnit === void 0) { maintenanceCostUnit = null; }
        if (description === void 0) { description = null; }
        if (otherCost === void 0) { otherCost = null; }
        if (otherCostUnit === void 0) { otherCostUnit = null; }
        if (notes === void 0) { notes = null; }
        if (capitalGrowth === void 0) { capitalGrowth = null; }
        if (bedrooms === void 0) { bedrooms = null; }
        if (bathrooms === void 0) { bathrooms = null; }
        if (parkingSpaces === void 0) { parkingSpaces = null; }
        if (fenced === void 0) { fenced = false; }
        if (rented === void 0) { rented = false; }
        if (rentPrice === void 0) { rentPrice = null; }
        if (rentPriceUnit === void 0) { rentPriceUnit = null; }
        if (rentPricePeriod === void 0) { rentPricePeriod = 'week'; }
        if (rentAppraisalDone === void 0) { rentAppraisalDone = false; }
        if (vacancy === void 0) { vacancy = null; }
        if (bodyCorporate === void 0) { bodyCorporate = null; }
        if (bodyCorporateUnit === void 0) { bodyCorporateUnit = null; }
        if (utilitiesCost === void 0) { utilitiesCost = null; }
        if (utilitiesCostUnit === void 0) { utilitiesCostUnit = null; }
        if (managed === void 0) { managed = false; }
        if (managerRate === void 0) { managerRate = null; }
        if (buildingType === void 0) { buildingType = 'house'; }
        if (titleType === void 0) { titleType = null; }
        var _this = _super.call(this, id, type, address, createdBy, askingPrice, askingPriceUnit, offerPrice, offerPriceUnit, walkAwayPrice, walkAwayPriceUnit, purchasePrice, purchasePriceUnit, dateListed, reasonForSelling, marketValue, marketValueUnit, renovationCost, renovationCostUnit, maintenanceCost, maintenanceCostUnit, description, otherCost, otherCostUnit, notes) || this;
        _this.landArea = landArea;
        _this.floorArea = floorArea;
        _this.registeredValue = registeredValue;
        _this.registeredValueUnit = registeredValueUnit;
        _this.rates = rates;
        _this.ratesUnit = ratesUnit;
        _this.insurance = insurance;
        _this.insuranceUnit = insuranceUnit;
        _this.capitalGrowth = capitalGrowth;
        _this.bedrooms = bedrooms;
        _this.bathrooms = bathrooms;
        _this.parkingSpaces = parkingSpaces;
        _this.fenced = fenced;
        _this.rented = rented;
        _this.rentPrice = rentPrice;
        _this.rentPriceUnit = rentPriceUnit;
        _this.rentPricePeriod = rentPricePeriod;
        _this.rentAppraisalDone = rentAppraisalDone;
        _this.vacancy = vacancy;
        _this.bodyCorporate = bodyCorporate;
        _this.bodyCorporateUnit = bodyCorporateUnit;
        _this.utilitiesCost = utilitiesCost;
        _this.utilitiesCostUnit = utilitiesCostUnit;
        _this.agent = agent;
        _this.managed = managed;
        _this.managerRate = managerRate;
        _this.buildingType = buildingType;
        _this.titleType = titleType;
        return _this;
    }
    return House;
}(_property__WEBPACK_IMPORTED_MODULE_0__["Property"]));



/***/ }),

/***/ "./src/app/modules/properties/models/property.ts":
/*!*******************************************************!*\
  !*** ./src/app/modules/properties/models/property.ts ***!
  \*******************************************************/
/*! exports provided: Property */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Property", function() { return Property; });
var Property = /** @class */ (function () {
    function Property(id, type, address, createdBy, askingPrice, askingPriceUnit, offerPrice, offerPriceUnit, walkAwayPrice, walkAwayPriceUnit, purchasePrice, purchasePriceUnit, dateListed, reasonForSelling, marketValue, marketValueUnit, renovationCost, renovationCostUnit, maintenanceCost, maintenanceCostUnit, description, otherCost, otherCostUnit, notes) {
        if (id === void 0) { id = null; }
        if (type === void 0) { type = 'house'; }
        if (address === void 0) { address = null; }
        if (createdBy === void 0) { createdBy = null; }
        if (askingPrice === void 0) { askingPrice = null; }
        if (askingPriceUnit === void 0) { askingPriceUnit = null; }
        if (offerPrice === void 0) { offerPrice = null; }
        if (offerPriceUnit === void 0) { offerPriceUnit = null; }
        if (walkAwayPrice === void 0) { walkAwayPrice = null; }
        if (walkAwayPriceUnit === void 0) { walkAwayPriceUnit = null; }
        if (purchasePrice === void 0) { purchasePrice = null; }
        if (purchasePriceUnit === void 0) { purchasePriceUnit = null; }
        if (dateListed === void 0) { dateListed = null; }
        if (reasonForSelling === void 0) { reasonForSelling = null; }
        if (marketValue === void 0) { marketValue = null; }
        if (marketValueUnit === void 0) { marketValueUnit = null; }
        if (renovationCost === void 0) { renovationCost = null; }
        if (renovationCostUnit === void 0) { renovationCostUnit = null; }
        if (maintenanceCost === void 0) { maintenanceCost = null; }
        if (maintenanceCostUnit === void 0) { maintenanceCostUnit = null; }
        if (description === void 0) { description = null; }
        if (otherCost === void 0) { otherCost = null; }
        if (otherCostUnit === void 0) { otherCostUnit = null; }
        if (notes === void 0) { notes = null; }
        this.id = id;
        this.type = type;
        this.address = address;
        this.createdBy = createdBy;
        this.askingPrice = askingPrice;
        this.askingPriceUnit = askingPriceUnit;
        this.offerPrice = offerPrice;
        this.offerPriceUnit = offerPriceUnit;
        this.walkAwayPrice = walkAwayPrice;
        this.walkAwayPriceUnit = walkAwayPriceUnit;
        this.purchasePrice = purchasePrice;
        this.purchasePriceUnit = purchasePriceUnit;
        this.dateListed = dateListed;
        this.reasonForSelling = reasonForSelling;
        this.marketValue = marketValue;
        this.marketValueUnit = marketValueUnit;
        this.renovationCost = renovationCost;
        this.renovationCostUnit = renovationCostUnit;
        this.maintenanceCost = maintenanceCost;
        this.maintenanceCostUnit = maintenanceCostUnit;
        this.description = description;
        this.otherCost = otherCost;
        this.otherCostUnit = otherCostUnit;
        this.notes = notes;
    }
    return Property;
}());



/***/ }),

/***/ "./src/app/modules/properties/properties-routing.module.ts":
/*!*****************************************************************!*\
  !*** ./src/app/modules/properties/properties-routing.module.ts ***!
  \*****************************************************************/
/*! exports provided: PropertiesRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PropertiesRoutingModule", function() { return PropertiesRoutingModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _components_properties_edit_properties_edit_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/properties-edit/properties-edit.component */ "./src/app/modules/properties/components/properties-edit/properties-edit.component.ts");
/* harmony import */ var _auth_resolver_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../auth-resolver.service */ "./src/app/auth-resolver.service.ts");
/* harmony import */ var _components_properties_dashboard_properties_dashboard_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/properties-dashboard/properties-dashboard.component */ "./src/app/modules/properties/components/properties-dashboard/properties-dashboard.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var routes = [
    {
        path: 'properties',
        children: [
            {
                path: ':type/create',
                component: _components_properties_edit_properties_edit_component__WEBPACK_IMPORTED_MODULE_2__["PropertiesEditComponent"],
                resolve: {
                    authUser: _auth_resolver_service__WEBPACK_IMPORTED_MODULE_3__["AuthResolver"]
                }
            },
            {
                path: ':type/edit/:id',
                component: _components_properties_edit_properties_edit_component__WEBPACK_IMPORTED_MODULE_2__["PropertiesEditComponent"],
                resolve: {
                    authUser: _auth_resolver_service__WEBPACK_IMPORTED_MODULE_3__["AuthResolver"]
                }
            },
            {
                path: '',
                pathMatch: 'full',
                component: _components_properties_dashboard_properties_dashboard_component__WEBPACK_IMPORTED_MODULE_4__["PropertiesDashboardComponent"],
                resolve: {
                    authUser: _auth_resolver_service__WEBPACK_IMPORTED_MODULE_3__["AuthResolver"]
                }
            }
        ]
    }
];
var PropertiesRoutingModule = /** @class */ (function () {
    function PropertiesRoutingModule() {
    }
    PropertiesRoutingModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forChild(routes)],
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]]
        })
    ], PropertiesRoutingModule);
    return PropertiesRoutingModule;
}());



/***/ }),

/***/ "./src/app/modules/properties/properties.module.ts":
/*!*********************************************************!*\
  !*** ./src/app/modules/properties/properties.module.ts ***!
  \*********************************************************/
/*! exports provided: PropertiesModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PropertiesModule", function() { return PropertiesModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _properties_routing_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./properties-routing.module */ "./src/app/modules/properties/properties-routing.module.ts");
/* harmony import */ var _components_properties_dashboard_properties_dashboard_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/properties-dashboard/properties-dashboard.component */ "./src/app/modules/properties/components/properties-dashboard/properties-dashboard.component.ts");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../shared/shared.module */ "./src/app/modules/shared/shared.module.ts");
/* harmony import */ var _properties_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./properties.service */ "./src/app/modules/properties/properties.service.ts");
/* harmony import */ var _shared_custom_material_design_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../shared/custom-material-design.module */ "./src/app/modules/shared/custom-material-design.module.ts");
/* harmony import */ var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/flex-layout */ "./node_modules/@angular/flex-layout/esm5/flex-layout.es5.js");
/* harmony import */ var _components_properties_edit_properties_edit_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/properties-edit/properties-edit.component */ "./src/app/modules/properties/components/properties-edit/properties-edit.component.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _components_houses_edit_houses_edit_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/houses-edit/houses-edit.component */ "./src/app/modules/properties/components/houses-edit/houses-edit.component.ts");
/* harmony import */ var _components_properties_table_properties_table_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/properties-table/properties-table.component */ "./src/app/modules/properties/components/properties-table/properties-table.component.ts");
/* harmony import */ var _components_property_selector_dialog_property_selector_dialog_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./components/property-selector-dialog/property-selector-dialog.component */ "./src/app/modules/properties/components/property-selector-dialog/property-selector-dialog.component.ts");
/* harmony import */ var _calculators_calculators_module__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../calculators/calculators.module */ "./src/app/modules/calculators/calculators.module.ts");
/* harmony import */ var _components_house_figures_dialog_house_figures_dialog_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./components/house-figures-dialog/house-figures-dialog.component */ "./src/app/modules/properties/components/house-figures-dialog/house-figures-dialog.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};















var PropertiesModule = /** @class */ (function () {
    function PropertiesModule() {
    }
    PropertiesModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _properties_routing_module__WEBPACK_IMPORTED_MODULE_2__["PropertiesRoutingModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_9__["FormsModule"],
                _angular_flex_layout__WEBPACK_IMPORTED_MODULE_7__["FlexLayoutModule"],
                _shared_custom_material_design_module__WEBPACK_IMPORTED_MODULE_6__["CustomMaterialDesignModule"],
                _shared_shared_module__WEBPACK_IMPORTED_MODULE_4__["SharedModule"],
                _calculators_calculators_module__WEBPACK_IMPORTED_MODULE_13__["CalculatorsModule"]
            ],
            declarations: [
                _components_properties_dashboard_properties_dashboard_component__WEBPACK_IMPORTED_MODULE_3__["PropertiesDashboardComponent"],
                _components_properties_edit_properties_edit_component__WEBPACK_IMPORTED_MODULE_8__["PropertiesEditComponent"],
                _components_houses_edit_houses_edit_component__WEBPACK_IMPORTED_MODULE_10__["HousesEditComponent"],
                _components_properties_table_properties_table_component__WEBPACK_IMPORTED_MODULE_11__["PropertiesTableComponent"],
                _components_property_selector_dialog_property_selector_dialog_component__WEBPACK_IMPORTED_MODULE_12__["PropertySelectorDialogComponent"],
                _components_house_figures_dialog_house_figures_dialog_component__WEBPACK_IMPORTED_MODULE_14__["HouseFiguresDialogComponent"]
            ],
            providers: [_properties_service__WEBPACK_IMPORTED_MODULE_5__["PropertiesService"]],
            entryComponents: [
                _components_property_selector_dialog_property_selector_dialog_component__WEBPACK_IMPORTED_MODULE_12__["PropertySelectorDialogComponent"],
                _components_house_figures_dialog_house_figures_dialog_component__WEBPACK_IMPORTED_MODULE_14__["HouseFiguresDialogComponent"]
            ]
        })
    ], PropertiesModule);
    return PropertiesModule;
}());



/***/ }),

/***/ "./src/app/modules/properties/properties.service.ts":
/*!**********************************************************!*\
  !*** ./src/app/modules/properties/properties.service.ts ***!
  \**********************************************************/
/*! exports provided: PropertiesService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PropertiesService", function() { return PropertiesService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../app.service */ "./src/app/app.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _users_models_user__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../users/models/user */ "./src/app/modules/users/models/user.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../constants */ "./src/app/constants.ts");
/* harmony import */ var _models_house__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./models/house */ "./src/app/modules/properties/models/house.ts");
/* harmony import */ var _models_address__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./models/address */ "./src/app/modules/properties/models/address.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var PropertiesService = /** @class */ (function () {
    function PropertiesService(http, appService) {
        this.http = http;
        this.appService = appService;
        this.serverHost = _environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].apiHost + '/api/properties';
        this.headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]().set('Content-Type', 'application/json');
    }
    /**
     * Server call to Create a new property in the system
     * @param postData
     *
     * @return { Observable<any> }
     */
    PropertiesService.prototype.create$ = function (postData) {
        if (postData === void 0) { postData = {}; }
        var methodTrace = this.constructor.name + " > create() > "; // for debugging
        return this.http.post(this.serverHost + "/create", postData, { headers: this.headers }).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["map"])(this.appService.extractData), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["catchError"])(this.appService.handleError));
    };
    /**
     * Server call to Update an investment in the system
     * @param postData
     *
     * @return { Observable<Property> }
     */
    PropertiesService.prototype.update$ = function (postData) {
        if (postData === void 0) { postData = {}; }
        var methodTrace = this.constructor.name + " > update() > "; // for debugging
        return this.http.post(this.serverHost + "/update", postData, { headers: this.headers }).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["map"])(this.appService.extractData), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["catchError"])(this.appService.handleError));
    };
    /**
     * Server call to Get a property from the server based on its ID
     * @param {string} id . The property id
     *
     * @return { Observable<Property> }
     */
    PropertiesService.prototype.getPropertyById$ = function (email, id) {
        var _this = this;
        var methodTrace = this.constructor.name + " > getPropertyById() > "; // for debugging
        if (!id || !email) {
            this.appService.consoleLog('error', methodTrace + " Required parameters missing.");
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(null);
        }
        var params = new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpParams"]().set('email', email);
        return this.http.get(this.serverHost + "/" + id, { params: params }).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["map"])(this.appService.extractData), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["flatMap"])(function (data) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(_this.populate(data));
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["catchError"])(this.appService.handleError));
    };
    /**
     * Populates a property from an object from server
     * @param { any } data
     *
     * @return { Property }
     */
    PropertiesService.prototype.populate = function (data) {
        var methodTrace = this.constructor.name + " > populateTeam() > "; // for debugging
        if (data && data._id) {
            var createdBy = new _users_models_user__WEBPACK_IMPORTED_MODULE_5__["User"](data.createdBy.name, data.createdBy.email, data.createdBy.gravatar);
            var address = new _models_address__WEBPACK_IMPORTED_MODULE_8__["Address"]();
            if (data.location) {
                address = new _models_address__WEBPACK_IMPORTED_MODULE_8__["Address"](data.location.address, data.location.coordinates[1], data.location.coordinates[0], data.location.mapsPlaceId);
            }
            if (data.propertyType === _constants__WEBPACK_IMPORTED_MODULE_6__["PROPERTY_TYPES"].HOUSE) {
                return new _models_house__WEBPACK_IMPORTED_MODULE_7__["House"](data._id, data.propertyType, address, createdBy, data.propertyTypeData.landArea, data.propertyTypeData.floorArea, data.askingPrice, data.askingPriceUnit, data.offerPrice, data.offerPriceUnit, data.walkAwayPrice, data.walkAwayPriceUnit, data.purchasePrice, data.purchasePriceUnit, data.dateListed, data.reasonForSelling, data.marketValue, data.marketValueUnit, data.propertyTypeData.registeredValue, data.propertyTypeData.registeredValueUnit, data.propertyTypeData.rates, data.propertyTypeData.ratesUnit, data.propertyTypeData.insurance, data.propertyTypeData.insuranceUnit, data.renovationCost, data.renovationCostUnit, data.maintenanceCost, data.maintenanceCostUnit, data.description, data.otherCost, data.otherCostUnit, data.notes, data.propertyTypeData.capitalGrowth, data.propertyTypeData.bedrooms, data.propertyTypeData.bathrooms, data.propertyTypeData.parkingSpaces, data.propertyTypeData.fenced, data.propertyTypeData.rented, data.propertyTypeData.rentPrice, data.propertyTypeData.rentPriceUnit, data.propertyTypeData.rentPricePeriod, data.propertyTypeData.rentAppraisalDone, data.propertyTypeData.vacancy, data.propertyTypeData.bodyCorporate, data.propertyTypeData.bodyCorporateUnit, data.propertyTypeData.utilitiesCost, data.propertyTypeData.utilitiesCostUnit, data.propertyTypeData.agent, data.propertyTypeData.managed, data.propertyTypeData.managerRate, data.propertyTypeData.buildingType, data.propertyTypeData.titleType);
            }
        }
        else {
            this.appService.consoleLog('error', methodTrace + " Unexpected data format.");
        }
        return null;
    };
    /**
     * Server call to Get all the properties for the current user from the server.
     * This proeprties will be the properties the user created plus the investment properties where she/he has a piece of the cake.
     * @param {string} email . The user email
     * @param {boolean} justUserProperties . If false it get properties created by the user with the email provided plus properties from investments where the user has a portion of it.
     *                                       If true it just bring back the properties created by the user with the email provided.
     *
     * @return { Observable<Property[]> }
     */
    PropertiesService.prototype.getProperties$ = function (email, justUserProperties) {
        var _this = this;
        if (justUserProperties === void 0) { justUserProperties = false; }
        var methodTrace = this.constructor.name + " > getProperties() > "; // for debugging
        if (!email) {
            this.appService.consoleLog('error', methodTrace + " Required parameters missing.");
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])([]);
        }
        var params = new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpParams"]().set('email', email).set('justUserProperties', justUserProperties + '');
        return this.http.get(this.serverHost + "/getAll", { params: params }).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["map"])(this.appService.extractData), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["flatMap"])(function (responseData) {
            var properties = [];
            if (responseData && responseData instanceof Array) {
                for (var _i = 0, responseData_1 = responseData; _i < responseData_1.length; _i++) {
                    var data = responseData_1[_i];
                    properties.push(_this.populate(data));
                }
            }
            else {
                _this.appService.consoleLog('error', methodTrace + " Unexpected data format.");
            }
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(properties);
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["catchError"])(this.appService.handleError));
    };
    /**
     * Server call to delete a property from the system
     * @param {string} id . The record id
     * @param {string} email . The current user email.
     *
     * @return { any }
     *
     */
    PropertiesService.prototype.delete$ = function (id, email) {
        var methodTrace = this.constructor.name + " > delete() > "; // for debugging
        if (!id || !email) {
            this.appService.consoleLog('error', methodTrace + " Required parameters missing.");
            return rxjs__WEBPACK_IMPORTED_MODULE_4__["Observable"].throw(null);
        }
        var params = new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpParams"]().set('email', email);
        return this.http.delete(this.serverHost + "/delete/" + id, { headers: this.headers, params: params }).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["map"])(this.appService.extractData), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["catchError"])(this.appService.handleError));
    };
    PropertiesService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"], _app_service__WEBPACK_IMPORTED_MODULE_3__["AppService"]])
    ], PropertiesService);
    return PropertiesService;
}());



/***/ }),

/***/ "./src/app/modules/shared/components/address-autocomplete/address-autocomplete.component.html":
/*!****************************************************************************************************!*\
  !*** ./src/app/modules/shared/components/address-autocomplete/address-autocomplete.component.html ***!
  \****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<form class=\"form__container form__address-autocomplete\" #addressAutocompleteForm=\"ngForm\" novalidate fxLayout=\"column\" fxLayoutGap=\"10px\">\r\n  <section fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"form__fields\">\r\n\r\n    <div fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n      <!-- <h3 class=\"title\">\r\n        <p class=\"header\">Features</p>\r\n      </h3> -->\r\n\r\n      <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n        <mat-form-field fxFlex class=\"form__field\">\r\n          \r\n          <input matInput type=\"text\" [id]=\"id\" [name]=\"id\" [placeholder]=\"placeHolder\" \r\n              [(ngModel)]=\"model\"\r\n              [matAutocomplete]=\"addressAutocomplete\"\r\n              required\r\n              #addressInput=\"ngModel\">\r\n\r\n          <mat-icon matPrefix>directions</mat-icon>\r\n          <mat-error *ngIf=\"addressInput.invalid && (addressInput.dirty || addressInput.touched) && addressInput.errors.required\">This field is required.</mat-error>\r\n          \r\n          <mat-autocomplete autoActiveFirstOption #addressAutocomplete=\"matAutocomplete\" (optionSelected)=\"onOptionSelected($event)\" [displayWith]=\"autocompleteDisplayFn\">\r\n            <mat-option *ngFor=\"let option of options\" [value]=\"option\">\r\n              {{ option.description }}\r\n            </mat-option>\r\n          </mat-autocomplete>  \r\n          \r\n        </mat-form-field>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</form>"

/***/ }),

/***/ "./src/app/modules/shared/components/address-autocomplete/address-autocomplete.component.scss":
/*!****************************************************************************************************!*\
  !*** ./src/app/modules/shared/components/address-autocomplete/address-autocomplete.component.scss ***!
  \****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvc2hhcmVkL2NvbXBvbmVudHMvYWRkcmVzcy1hdXRvY29tcGxldGUvYWRkcmVzcy1hdXRvY29tcGxldGUuY29tcG9uZW50LnNjc3MifQ== */"

/***/ }),

/***/ "./src/app/modules/shared/components/address-autocomplete/address-autocomplete.component.ts":
/*!**************************************************************************************************!*\
  !*** ./src/app/modules/shared/components/address-autocomplete/address-autocomplete.component.ts ***!
  \**************************************************************************************************/
/*! exports provided: AddressAutocompleteComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddressAutocompleteComponent", function() { return AddressAutocompleteComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _agm_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @agm/core */ "./node_modules/@agm/core/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _properties_models_address__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../properties/models/address */ "./src/app/modules/properties/models/address.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/// <reference types="@types/googlemaps" />






var AddressAutocompleteComponent = /** @class */ (function () {
    function AddressAutocompleteComponent(mapsAPILoader) {
        this.mapsAPILoader = mapsAPILoader;
        this.defaultValues = null; // the default values of the component model
        this.values = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.model = {
            description: null,
            latitude: null,
            longitude: null,
            mapsPlaceId: null
        };
        this.options = [];
        this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subscription"]();
        this.autocompleteService = null;
        this.placesService = null;
    }
    AddressAutocompleteComponent.prototype.ngOnInit = function () {
        var _this = this;
        Object.assign(this.model, this.defaultValues);
        this.mapsAPILoader.load().then(function () {
            _this.autocompleteService = new google.maps.places.AutocompleteService();
            _this.placesService = new google.maps.places.PlacesService(document.createElement('div'));
        });
    };
    AddressAutocompleteComponent.prototype.ngOnDestroy = function () {
        var methodTrace = this.constructor.name + " > ngOnDestroy() > "; // for debugging
        // this.appService.consoleLog('info', `${methodTrace} Component destroyed.`);
        this.subscription.unsubscribe();
    };
    AddressAutocompleteComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        // send data before touching any value
        this.emitValues();
        // after any event in the form we send updated data
        var newSubscription = this.form.valueChanges.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["debounceTime"])(500)).subscribe(function (values) {
            if (values.address) {
                if (values.address.description) {
                    if (values.address.mapsPlaceId) {
                        // when the user selected an option from the autocomplete suggestions
                        _this.getPlaceDetails(values.address.mapsPlaceId);
                    }
                    else {
                        // the user save a custom address. She did not picked it from the suggestion list.
                        _this.emitValues(values.address.description);
                    }
                }
                else if (typeof values.address === 'string') {
                    // This happens while the user is writing in the field before selecting an option from suggestion list
                    // retrieve matching places
                    _this.autocompleteService.getQueryPredictions({ input: values.address }, function (data, status) {
                        if (status === google.maps.places.PlacesServiceStatus.OK) {
                            _this.options = data;
                        }
                        else {
                            _this.options = [];
                        }
                    });
                    _this.emitValues(values.address);
                }
                else {
                    _this.options = [];
                    _this.emitValues();
                }
            }
            else {
                _this.options = [];
                _this.emitValues();
            }
        });
        this.subscription.add(newSubscription);
    };
    /**
     * Using this function we can map our selection to the item description intead the whole object
     */
    AddressAutocompleteComponent.prototype.autocompleteDisplayFn = function (place) {
        return place ? place.description : '';
    };
    AddressAutocompleteComponent.prototype.onOptionSelected = function (matAutocompleteSelectedEvent) {
        this.getPlaceDetails(matAutocompleteSelectedEvent.option.value.place_id);
    };
    AddressAutocompleteComponent.prototype.getPlaceDetails = function (mapsPlaceId) {
        var _this = this;
        if (!mapsPlaceId) {
            return false;
        }
        this.placesService.getDetails({ placeId: mapsPlaceId }, function (data, status) {
            if (status === google.maps.places.PlacesServiceStatus.OK) {
                _this.model.latitude = data.geometry.location.lat();
                _this.model.longitude = data.geometry.location.lng();
                _this.model.description = data.formatted_address;
                _this.model.mapsPlaceId = mapsPlaceId;
            }
            else {
                _this.model.latitude = null;
                _this.model.longitude = null;
                _this.model.description = null;
                _this.model.place_id = null;
            }
            _this.emitValues();
        });
    };
    AddressAutocompleteComponent.prototype.emitValues = function (description) {
        if (description === void 0) { description = null; }
        var address = null;
        var valid = this.form.valid;
        if (this.model.mapsPlaceId) {
            // the user picked from the suggestion list
            address = new _properties_models_address__WEBPACK_IMPORTED_MODULE_4__["Address"](this.model.description, this.model.latitude, this.model.longitude, this.model.mapsPlaceId);
        }
        else if (description) {
            // the user just type a custom address
            address = new _properties_models_address__WEBPACK_IMPORTED_MODULE_4__["Address"](description, null, null, null);
        }
        else {
            // none of above, return invalid
            valid = false;
        }
        this.values.emit({
            value: {
                address: address,
                valid: valid
            }
        });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('addressAutocompleteForm'),
        __metadata("design:type", Object)
    ], AddressAutocompleteComponent.prototype, "form", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('addressInput'),
        __metadata("design:type", _angular_forms__WEBPACK_IMPORTED_MODULE_5__["NgModel"])
    ], AddressAutocompleteComponent.prototype, "addressInput", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], AddressAutocompleteComponent.prototype, "id", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], AddressAutocompleteComponent.prototype, "placeHolder", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], AddressAutocompleteComponent.prototype, "defaultValues", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], AddressAutocompleteComponent.prototype, "values", void 0);
    AddressAutocompleteComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'address-autocomplete',
            template: __webpack_require__(/*! ./address-autocomplete.component.html */ "./src/app/modules/shared/components/address-autocomplete/address-autocomplete.component.html"),
            styles: [__webpack_require__(/*! ./address-autocomplete.component.scss */ "./src/app/modules/shared/components/address-autocomplete/address-autocomplete.component.scss")]
        }),
        __metadata("design:paramtypes", [_agm_core__WEBPACK_IMPORTED_MODULE_1__["MapsAPILoader"]])
    ], AddressAutocompleteComponent);
    return AddressAutocompleteComponent;
}());



/***/ }),

/***/ "./src/app/modules/shared/components/currency-unit/currency-unit.component.html":
/*!**************************************************************************************!*\
  !*** ./src/app/modules/shared/components/currency-unit/currency-unit.component.html ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-form-field class=\"form__field\" *ngIf=\"type === 'currency'\">\r\n  <mat-select id=\"{{id}}\" placeholder=\"{{placeHolder}}\" [value]=\"value\" (selectionChange)=\"onSelectionChange($event)\">\r\n    <mat-option value=\"AUD\">{{view === 'narrow' ? 'AUD' : 'Australian Dollar'}}</mat-option>\r\n    <mat-option value=\"EUR\">{{view === 'narrow' ? 'EUR' : 'Euro'}}</mat-option>\r\n    <mat-option value=\"NZD\">{{view === 'narrow' ? 'NZD' : 'New Zealand Dollar'}}</mat-option>\r\n    <mat-option value=\"USD\">{{view === 'narrow' ? 'USD' : 'US Dollar'}}</mat-option>\r\n  </mat-select>\r\n  \r\n  <mat-hint align=\"start\">{{hint}}</mat-hint>\r\n</mat-form-field>\r\n\r\n<mat-form-field class=\"form__field\" *ngIf=\"type === 'crypto'\">\r\n  <mat-select id=\"{{id}}\" placeholder=\"{{placeHolder}}\" [value]=\"value\" (selectionChange)=\"onSelectionChange($event)\">\r\n    <mat-option value=\"BTC\">{{view === 'narrow' ? 'BTC' : 'Bitcoin'}}</mat-option>\r\n    <mat-option value=\"XMR\">{{view === 'narrow' ? 'XMR' : 'Monero'}}</mat-option>\r\n  </mat-select>\r\n  \r\n  <mat-hint align=\"start\">{{hint}}</mat-hint>\r\n</mat-form-field>"

/***/ }),

/***/ "./src/app/modules/shared/components/currency-unit/currency-unit.component.scss":
/*!**************************************************************************************!*\
  !*** ./src/app/modules/shared/components/currency-unit/currency-unit.component.scss ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvc2hhcmVkL2NvbXBvbmVudHMvY3VycmVuY3ktdW5pdC9jdXJyZW5jeS11bml0LmNvbXBvbmVudC5zY3NzIn0= */"

/***/ }),

/***/ "./src/app/modules/shared/components/currency-unit/currency-unit.component.ts":
/*!************************************************************************************!*\
  !*** ./src/app/modules/shared/components/currency-unit/currency-unit.component.ts ***!
  \************************************************************************************/
/*! exports provided: CurrencyUnitComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CurrencyUnitComponent", function() { return CurrencyUnitComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var CurrencyUnitComponent = /** @class */ (function () {
    function CurrencyUnitComponent() {
        this.view = 'normal';
        this.type = 'currency';
        this.newValue = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.model = {};
    }
    CurrencyUnitComponent.prototype.ngOnInit = function () { };
    CurrencyUnitComponent.prototype.onSelectionChange = function (matSelectChange) {
        this.newValue.emit(matSelectChange);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], CurrencyUnitComponent.prototype, "id", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], CurrencyUnitComponent.prototype, "hint", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], CurrencyUnitComponent.prototype, "view", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], CurrencyUnitComponent.prototype, "type", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], CurrencyUnitComponent.prototype, "placeHolder", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], CurrencyUnitComponent.prototype, "value", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], CurrencyUnitComponent.prototype, "newValue", void 0);
    CurrencyUnitComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'currency-unit',
            template: __webpack_require__(/*! ./currency-unit.component.html */ "./src/app/modules/shared/components/currency-unit/currency-unit.component.html"),
            styles: [__webpack_require__(/*! ./currency-unit.component.scss */ "./src/app/modules/shared/components/currency-unit/currency-unit.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], CurrencyUnitComponent);
    return CurrencyUnitComponent;
}());



/***/ }),

/***/ "./src/app/modules/shared/components/dynamic-map/dynamic-map.component.html":
/*!**********************************************************************************!*\
  !*** ./src/app/modules/shared/components/dynamic-map/dynamic-map.component.html ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- this creates a google map on the page with the given lat/lng from -->\r\n<!-- the component as the initial center of the map: -->\r\n<agm-map *ngIf=\"latitude && longitude\" [latitude]=\"latitude\" [longitude]=\"longitude\" [zoom]=\"17\" [ngStyle]=\"{'height' : mapContainerHeight + 'px'}\">\r\n  <agm-marker *ngFor=\"let marker of markers\"  [latitude]=\"marker.latitude\" [longitude]=\"marker.longitude\"></agm-marker>\r\n</agm-map>\r\n"

/***/ }),

/***/ "./src/app/modules/shared/components/dynamic-map/dynamic-map.component.scss":
/*!**********************************************************************************!*\
  !*** ./src/app/modules/shared/components/dynamic-map/dynamic-map.component.scss ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvc2hhcmVkL2NvbXBvbmVudHMvZHluYW1pYy1tYXAvZHluYW1pYy1tYXAuY29tcG9uZW50LnNjc3MifQ== */"

/***/ }),

/***/ "./src/app/modules/shared/components/dynamic-map/dynamic-map.component.ts":
/*!********************************************************************************!*\
  !*** ./src/app/modules/shared/components/dynamic-map/dynamic-map.component.ts ***!
  \********************************************************************************/
/*! exports provided: DynamicMapComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DynamicMapComponent", function() { return DynamicMapComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var DynamicMapComponent = /** @class */ (function () {
    function DynamicMapComponent() {
        this.latitude = null;
        this.longitude = null;
        this.markers = [];
        this.mapContainerHeight = '300'; // px
    }
    DynamicMapComponent.prototype.ngOnInit = function () {
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], DynamicMapComponent.prototype, "latitude", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], DynamicMapComponent.prototype, "longitude", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], DynamicMapComponent.prototype, "markers", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], DynamicMapComponent.prototype, "mapContainerHeight", void 0);
    DynamicMapComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'dynamic-map',
            template: __webpack_require__(/*! ./dynamic-map.component.html */ "./src/app/modules/shared/components/dynamic-map/dynamic-map.component.html"),
            styles: [__webpack_require__(/*! ./dynamic-map.component.scss */ "./src/app/modules/shared/components/dynamic-map/dynamic-map.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], DynamicMapComponent);
    return DynamicMapComponent;
}());



/***/ }),

/***/ "./src/app/modules/shared/components/info-tooltip/info-tooltip.component.html":
/*!************************************************************************************!*\
  !*** ./src/app/modules/shared/components/info-tooltip/info-tooltip.component.html ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<span fxLayout=\"row\" fxLayoutGap=\"5px\" fxLayoutAlign=\"start center\" *ngIf=\"(title && title.length > 0) || (text && text.length > 0)\" class=\"color__almost-white\">\r\n    <label *ngIf=\"title && title.length > 0\">{{title}}</label>\r\n    <mat-icon *ngIf=\"text && text.length > 0\" \r\n        [matTooltip]=\"text\" \r\n        [matTooltipPosition]=\"position\"\r\n        [matTooltipHideDelay]=\"5000\">info_outline</mat-icon>  \r\n</span>"

/***/ }),

/***/ "./src/app/modules/shared/components/info-tooltip/info-tooltip.component.scss":
/*!************************************************************************************!*\
  !*** ./src/app/modules/shared/components/info-tooltip/info-tooltip.component.scss ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvc2hhcmVkL2NvbXBvbmVudHMvaW5mby10b29sdGlwL2luZm8tdG9vbHRpcC5jb21wb25lbnQuc2NzcyJ9 */"

/***/ }),

/***/ "./src/app/modules/shared/components/info-tooltip/info-tooltip.component.ts":
/*!**********************************************************************************!*\
  !*** ./src/app/modules/shared/components/info-tooltip/info-tooltip.component.ts ***!
  \**********************************************************************************/
/*! exports provided: InfoTooltipComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InfoTooltipComponent", function() { return InfoTooltipComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var InfoTooltipComponent = /** @class */ (function () {
    function InfoTooltipComponent() {
        this.title = '';
        this.text = '';
        this.position = 'above';
    }
    InfoTooltipComponent.prototype.ngOnInit = function () {
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], InfoTooltipComponent.prototype, "title", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], InfoTooltipComponent.prototype, "text", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], InfoTooltipComponent.prototype, "position", void 0);
    InfoTooltipComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'info-tooltip',
            template: __webpack_require__(/*! ./info-tooltip.component.html */ "./src/app/modules/shared/components/info-tooltip/info-tooltip.component.html"),
            styles: [__webpack_require__(/*! ./info-tooltip.component.scss */ "./src/app/modules/shared/components/info-tooltip/info-tooltip.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], InfoTooltipComponent);
    return InfoTooltipComponent;
}());



/***/ }),

/***/ "./src/app/modules/shared/components/main-navigator/main-navigator.component.html":
/*!****************************************************************************************!*\
  !*** ./src/app/modules/shared/components/main-navigator/main-navigator.component.html ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<nav class=\"navigation--main\">\r\n  <mat-chip-list fxLayout=\"row wrap\" fxLayoutGap=\"10px\">\r\n    <mat-chip class=\"nav--item\" *ngFor=\"let link of links\" [routerLink]=\"link.url\" [selected]=\"link.selected\">{{link.displayName}}</mat-chip>\r\n  </mat-chip-list>      \r\n</nav>"

/***/ }),

/***/ "./src/app/modules/shared/components/main-navigator/main-navigator.component.scss":
/*!****************************************************************************************!*\
  !*** ./src/app/modules/shared/components/main-navigator/main-navigator.component.scss ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".navigation--main mat-chip.nav--item {\n  margin: 0 8px 8px 0; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9zaGFyZWQvY29tcG9uZW50cy9tYWluLW5hdmlnYXRvci9DOlxcdzNcXGF0b21pQ29jb251dFxcY2xpZW50L3NyY1xcYXBwXFxtb2R1bGVzXFxzaGFyZWRcXGNvbXBvbmVudHNcXG1haW4tbmF2aWdhdG9yXFxtYWluLW5hdmlnYXRvci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUdJLG9CQUFtQixFQUNwQiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvc2hhcmVkL2NvbXBvbmVudHMvbWFpbi1uYXZpZ2F0b3IvbWFpbi1uYXZpZ2F0b3IuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubmF2aWdhdGlvbi0tbWFpbiB7XHJcblxyXG4gIG1hdC1jaGlwLm5hdi0taXRlbSB7XHJcbiAgICBtYXJnaW46IDAgOHB4IDhweCAwO1xyXG4gIH1cclxufSJdfQ== */"

/***/ }),

/***/ "./src/app/modules/shared/components/main-navigator/main-navigator.component.ts":
/*!**************************************************************************************!*\
  !*** ./src/app/modules/shared/components/main-navigator/main-navigator.component.ts ***!
  \**************************************************************************************/
/*! exports provided: MainNavigatorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MainNavigatorComponent", function() { return MainNavigatorComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _main_navigator_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./main-navigator.service */ "./src/app/modules/shared/components/main-navigator/main-navigator.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../app.service */ "./src/app/app.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var MainNavigatorComponent = /** @class */ (function () {
    function MainNavigatorComponent(mainNavigatorService, appService) {
        this.mainNavigatorService = mainNavigatorService;
        this.appService = appService;
        this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subscription"]();
    }
    MainNavigatorComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.subscription = this.mainNavigatorService.links$.subscribe(function (links) { return _this.links = links; });
    };
    MainNavigatorComponent.prototype.ngOnDestroy = function () {
        var methodTrace = this.constructor.name + " > ngOnDestroy() > "; // for debugging
        this.subscription.unsubscribe();
    };
    MainNavigatorComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'main-navigator',
            template: __webpack_require__(/*! ./main-navigator.component.html */ "./src/app/modules/shared/components/main-navigator/main-navigator.component.html"),
            styles: [__webpack_require__(/*! ./main-navigator.component.scss */ "./src/app/modules/shared/components/main-navigator/main-navigator.component.scss")]
        }),
        __metadata("design:paramtypes", [_main_navigator_service__WEBPACK_IMPORTED_MODULE_1__["MainNavigatorService"], _app_service__WEBPACK_IMPORTED_MODULE_3__["AppService"]])
    ], MainNavigatorComponent);
    return MainNavigatorComponent;
}());



/***/ }),

/***/ "./src/app/modules/shared/components/main-navigator/main-navigator.service.ts":
/*!************************************************************************************!*\
  !*** ./src/app/modules/shared/components/main-navigator/main-navigator.service.ts ***!
  \************************************************************************************/
/*! exports provided: MainNavigatorService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MainNavigatorService", function() { return MainNavigatorService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var MainNavigatorService = /** @class */ (function () {
    function MainNavigatorService() {
        this.linksSource = new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"](null);
        this.links$ = this.linksSource.asObservable();
    }
    // links source feeder
    MainNavigatorService.prototype.setLinks = function (newLinks) {
        this.linksSource.next(newLinks);
    };
    // add a link to the source feeder
    MainNavigatorService.prototype.appendLink = function (link) {
        var currentLinks = this.linksSource.getValue();
        currentLinks.push(link);
        this.setLinks(currentLinks);
    };
    MainNavigatorService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], MainNavigatorService);
    return MainNavigatorService;
}());



/***/ }),

/***/ "./src/app/modules/shared/components/progress-bar/progress-bar.component.html":
/*!************************************************************************************!*\
  !*** ./src/app/modules/shared/components/progress-bar/progress-bar.component.html ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"column\" fxLayoutGap=\"10px\" fxLayoutAlign=\"start center\">\n  <mat-progress-bar \n      class=\"progress-bar\"\n      [ngClass]=\"extraClasses\"\n      [color]=\"color\"\n      mode=\"indeterminate\">\n  </mat-progress-bar>\n  <p *ngIf=\"message\">{{ message }}</p>\n</div>"

/***/ }),

/***/ "./src/app/modules/shared/components/progress-bar/progress-bar.component.scss":
/*!************************************************************************************!*\
  !*** ./src/app/modules/shared/components/progress-bar/progress-bar.component.scss ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvc2hhcmVkL2NvbXBvbmVudHMvcHJvZ3Jlc3MtYmFyL3Byb2dyZXNzLWJhci5jb21wb25lbnQuc2NzcyJ9 */"

/***/ }),

/***/ "./src/app/modules/shared/components/progress-bar/progress-bar.component.ts":
/*!**********************************************************************************!*\
  !*** ./src/app/modules/shared/components/progress-bar/progress-bar.component.ts ***!
  \**********************************************************************************/
/*! exports provided: ProgressBarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProgressBarComponent", function() { return ProgressBarComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var ProgressBarComponent = /** @class */ (function () {
    function ProgressBarComponent() {
        this.message = '';
        this.color = 'primary';
        this.extraClasses = '';
    }
    ProgressBarComponent.prototype.ngOnInit = function () {
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ProgressBarComponent.prototype, "message", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ProgressBarComponent.prototype, "color", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ProgressBarComponent.prototype, "extraClasses", void 0);
    ProgressBarComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'progress-bar',
            template: __webpack_require__(/*! ./progress-bar.component.html */ "./src/app/modules/shared/components/progress-bar/progress-bar.component.html"),
            styles: [__webpack_require__(/*! ./progress-bar.component.scss */ "./src/app/modules/shared/components/progress-bar/progress-bar.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], ProgressBarComponent);
    return ProgressBarComponent;
}());



/***/ }),

/***/ "./src/app/modules/shared/components/snackbar-simple/snackbar-simple.component.html":
/*!******************************************************************************************!*\
  !*** ./src/app/modules/shared/components/snackbar-simple/snackbar-simple.component.html ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"row wrap\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-around center\" class=\"snackbar--simple\">\r\n  <p fxFlex class=\"message\">{{data.message}}</p>\r\n  <mat-icon class=\"icon\" aria-label=\"Close\" (click)=\"actionClicked()\">clear</mat-icon>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/modules/shared/components/snackbar-simple/snackbar-simple.component.scss":
/*!******************************************************************************************!*\
  !*** ./src/app/modules/shared/components/snackbar-simple/snackbar-simple.component.scss ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".snackbar--simple {\n  font-size: 12px;\n  cursor: default; }\n  .snackbar--simple .icon {\n    cursor: pointer; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9zaGFyZWQvY29tcG9uZW50cy9zbmFja2Jhci1zaW1wbGUvQzpcXHczXFxhdG9taUNvY29udXRcXGNsaWVudC9zcmNcXGFwcFxcbW9kdWxlc1xcc2hhcmVkXFxjb21wb25lbnRzXFxzbmFja2Jhci1zaW1wbGVcXHNuYWNrYmFyLXNpbXBsZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNFLGdCQUFlO0VBQ2YsZ0JBQWUsRUFLaEI7RUFQRDtJQUtJLGdCQUFlLEVBQ2hCIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9zaGFyZWQvY29tcG9uZW50cy9zbmFja2Jhci1zaW1wbGUvc25hY2tiYXItc2ltcGxlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCAnLi4vLi4vLi4vLi4vLi4vdmFyaWFibGVzJztcclxuXHJcbi5zbmFja2Jhci0tc2ltcGxlIHtcclxuICBmb250LXNpemU6IDEycHg7XHJcbiAgY3Vyc29yOiBkZWZhdWx0O1xyXG5cclxuICAuaWNvbiB7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgfVxyXG59Il19 */"

/***/ }),

/***/ "./src/app/modules/shared/components/snackbar-simple/snackbar-simple.component.ts":
/*!****************************************************************************************!*\
  !*** ./src/app/modules/shared/components/snackbar-simple/snackbar-simple.component.ts ***!
  \****************************************************************************************/
/*! exports provided: SnackbarSimpleComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SnackbarSimpleComponent", function() { return SnackbarSimpleComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};


var SnackbarSimpleComponent = /** @class */ (function () {
    function SnackbarSimpleComponent(snackBarRef, data) {
        this.snackBarRef = snackBarRef;
        this.data = data;
    }
    SnackbarSimpleComponent.prototype.ngOnInit = function () { };
    SnackbarSimpleComponent.prototype.actionClicked = function () {
        this.snackBarRef.dismiss();
    };
    SnackbarSimpleComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-snackbar-simple',
            template: __webpack_require__(/*! ./snackbar-simple.component.html */ "./src/app/modules/shared/components/snackbar-simple/snackbar-simple.component.html"),
            styles: [__webpack_require__(/*! ./snackbar-simple.component.scss */ "./src/app/modules/shared/components/snackbar-simple/snackbar-simple.component.scss")]
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_SNACK_BAR_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSnackBarRef"], Object])
    ], SnackbarSimpleComponent);
    return SnackbarSimpleComponent;
}());



/***/ }),

/***/ "./src/app/modules/shared/components/yes-no-dialog/yes-no-dialog.component.html":
/*!**************************************************************************************!*\
  !*** ./src/app/modules/shared/components/yes-no-dialog/yes-no-dialog.component.html ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<h2 mat-dialog-title>{{data.title}}</h2>\r\n\r\n<mat-dialog-content>\r\n  <div fxLayout=\"column\" class=\"container__yes-no-dialog\">\r\n    {{data.message}}\r\n  </div>\r\n</mat-dialog-content>\r\n\r\n<mat-dialog-actions fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-around center\">\r\n  <button mat-mini-fab color=\"warn\" mat-dialog-close=\"no\">\r\n    <mat-icon aria-label=\"No\">clear</mat-icon>\r\n  </button>\r\n  <button mat-mini-fab color=\"accent\" mat-dialog-close=\"yes\">\r\n    <mat-icon aria-label=\"Yes\">done</mat-icon>\r\n  </button>\r\n</mat-dialog-actions>"

/***/ }),

/***/ "./src/app/modules/shared/components/yes-no-dialog/yes-no-dialog.component.scss":
/*!**************************************************************************************!*\
  !*** ./src/app/modules/shared/components/yes-no-dialog/yes-no-dialog.component.scss ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvc2hhcmVkL2NvbXBvbmVudHMveWVzLW5vLWRpYWxvZy95ZXMtbm8tZGlhbG9nLmNvbXBvbmVudC5zY3NzIn0= */"

/***/ }),

/***/ "./src/app/modules/shared/components/yes-no-dialog/yes-no-dialog.component.ts":
/*!************************************************************************************!*\
  !*** ./src/app/modules/shared/components/yes-no-dialog/yes-no-dialog.component.ts ***!
  \************************************************************************************/
/*! exports provided: YesNoDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "YesNoDialogComponent", function() { return YesNoDialogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};


var YesNoDialogComponent = /** @class */ (function () {
    function YesNoDialogComponent(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
    }
    YesNoDialogComponent.prototype.ngOnInit = function () { };
    YesNoDialogComponent.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    YesNoDialogComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-yes-no-dialog',
            template: __webpack_require__(/*! ./yes-no-dialog.component.html */ "./src/app/modules/shared/components/yes-no-dialog/yes-no-dialog.component.html"),
            styles: [__webpack_require__(/*! ./yes-no-dialog.component.scss */ "./src/app/modules/shared/components/yes-no-dialog/yes-no-dialog.component.scss")]
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], YesNoDialogComponent);
    return YesNoDialogComponent;
}());



/***/ }),

/***/ "./src/app/modules/shared/custom-material-design.module.ts":
/*!*****************************************************************!*\
  !*** ./src/app/modules/shared/custom-material-design.module.ts ***!
  \*****************************************************************/
/*! exports provided: CustomMaterialDesignModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CustomMaterialDesignModule", function() { return CustomMaterialDesignModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



var CustomMaterialDesignModule = /** @class */ (function () {
    function CustomMaterialDesignModule() {
    }
    CustomMaterialDesignModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatButtonModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatCheckboxModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSnackBarModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatChipsModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDatepickerModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSlideToggleModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatMenuModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatToolbarModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatIconModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatInputModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatProgressBarModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatProgressSpinnerModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatCardModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatNativeDateModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatTabsModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatExpansionModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatTooltipModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSelectModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatButtonToggleModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatRadioModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSliderModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatTableModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatPaginatorModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSortModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatAutocompleteModule"]
            ],
            exports: [
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatButtonModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatCheckboxModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSnackBarModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatChipsModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDatepickerModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSlideToggleModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatMenuModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatToolbarModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatIconModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatInputModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatButtonModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatProgressBarModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatProgressSpinnerModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatCardModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatNativeDateModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatTabsModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatExpansionModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatTooltipModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSelectModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatButtonToggleModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatRadioModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSliderModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatTableModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatPaginatorModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSortModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatAutocompleteModule"]
            ]
        })
    ], CustomMaterialDesignModule);
    return CustomMaterialDesignModule;
}());



/***/ }),

/***/ "./src/app/modules/shared/directives/equal-validator.directive.ts":
/*!************************************************************************!*\
  !*** ./src/app/modules/shared/directives/equal-validator.directive.ts ***!
  \************************************************************************/
/*! exports provided: EqualValidatorDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EqualValidatorDirective", function() { return EqualValidatorDirective; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};


var EqualValidatorDirective = /** @class */ (function () {
    function EqualValidatorDirective(equalFormControlName, reverse) {
        this.equalFormControlName = equalFormControlName;
        this.reverse = reverse;
    }
    EqualValidatorDirective_1 = EqualValidatorDirective;
    Object.defineProperty(EqualValidatorDirective.prototype, "isReverse", {
        get: function () {
            if (!this.reverse) {
                return false;
            }
            return this.reverse === 'true' ? true : false;
        },
        enumerable: true,
        configurable: true
    });
    EqualValidatorDirective.prototype.validate = function (control) {
        var equalsFormControl = control.root.get(this.equalFormControlName);
        if (equalsFormControl && equalsFormControl.value !== control.value) {
            if (this.isReverse) {
                equalsFormControl.setErrors({ 'equalvalidator': true });
            }
            else {
                return { 'equalvalidator': true };
            }
        }
        else if (equalsFormControl) {
            // value is the same on both
            if (this.reverse) {
                delete equalsFormControl.errors['equalvalidator'];
                if (!Object.keys(equalsFormControl.errors).length) {
                    equalsFormControl.setErrors(null);
                }
            }
        }
        return null;
    };
    var EqualValidatorDirective_1;
    EqualValidatorDirective = EqualValidatorDirective_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"])({
            selector: '[equalvalidator]',
            providers: [{ provide: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NG_VALIDATORS"], useExisting: EqualValidatorDirective_1, multi: true }]
        }),
        __param(0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Attribute"])('equalvalidator')),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Attribute"])('reverse')),
        __metadata("design:paramtypes", [String, String])
    ], EqualValidatorDirective);
    return EqualValidatorDirective;
}());



/***/ }),

/***/ "./src/app/modules/shared/directives/number-validator.directive.ts":
/*!*************************************************************************!*\
  !*** ./src/app/modules/shared/directives/number-validator.directive.ts ***!
  \*************************************************************************/
/*! exports provided: NumberValidatorDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NumberValidatorDirective", function() { return NumberValidatorDirective; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};


var NumberValidatorDirective = /** @class */ (function () {
    function NumberValidatorDirective(validationType) {
        this.validationType = validationType;
    }
    NumberValidatorDirective_1 = NumberValidatorDirective;
    NumberValidatorDirective.prototype.validate = function (control) {
        // if the field is empty return valid
        var val = control.value;
        if (!val) {
            return null;
        }
        var validationObj = {};
        if (this.validationType) {
            validationObj = JSON.parse(this.validationType);
        }
        // original pattern: ^[+-]?[0-9]{1,9}(?:\.[0-9]{1,2})?$
        var pattern = '^[+-]?[0-9]{1,';
        pattern += !isNaN(validationObj.maxIntegerDigits) && validationObj.maxIntegerDigits > 1 ? validationObj.maxIntegerDigits : 9;
        pattern += '}(?:\.[0-9]{1,';
        pattern += !isNaN(validationObj.maxFractionDigits) && validationObj.maxFractionDigits > 1 ? validationObj.maxFractionDigits : 2;
        pattern += '})?$';
        var numberRegExp = new RegExp(pattern);
        if (!numberRegExp.test(val + '')) {
            return { 'numberValidator': true };
        }
        var result = {};
        if (!isNaN(validationObj.min) && val < validationObj.min) {
            result.numberValidatorMin = true;
        }
        if (!isNaN(validationObj.max) && val > validationObj.max) {
            result.numberValidatorMax = true;
        }
        return Object.keys(result).length ? result : null;
    };
    var NumberValidatorDirective_1;
    NumberValidatorDirective = NumberValidatorDirective_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"])({
            selector: '[numberValidator]',
            providers: [{ provide: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NG_VALIDATORS"], useExisting: NumberValidatorDirective_1, multi: true }]
        }),
        __param(0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Attribute"])('numberValidator')),
        __metadata("design:paramtypes", [String])
    ], NumberValidatorDirective);
    return NumberValidatorDirective;
}());



/***/ }),

/***/ "./src/app/modules/shared/shared.module.ts":
/*!*************************************************!*\
  !*** ./src/app/modules/shared/shared.module.ts ***!
  \*************************************************/
/*! exports provided: SharedModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SharedModule", function() { return SharedModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/flex-layout */ "./node_modules/@angular/flex-layout/esm5/flex-layout.es5.js");
/* harmony import */ var _components_main_navigator_main_navigator_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/main-navigator/main-navigator.component */ "./src/app/modules/shared/components/main-navigator/main-navigator.component.ts");
/* harmony import */ var _components_currency_unit_currency_unit_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/currency-unit/currency-unit.component */ "./src/app/modules/shared/components/currency-unit/currency-unit.component.ts");
/* harmony import */ var _modules_shared_custom_material_design_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../modules/shared/custom-material-design.module */ "./src/app/modules/shared/custom-material-design.module.ts");
/* harmony import */ var _components_yes_no_dialog_yes_no_dialog_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/yes-no-dialog/yes-no-dialog.component */ "./src/app/modules/shared/components/yes-no-dialog/yes-no-dialog.component.ts");
/* harmony import */ var _components_snackbar_simple_snackbar_simple_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/snackbar-simple/snackbar-simple.component */ "./src/app/modules/shared/components/snackbar-simple/snackbar-simple.component.ts");
/* harmony import */ var _directives_equal_validator_directive__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./directives/equal-validator.directive */ "./src/app/modules/shared/directives/equal-validator.directive.ts");
/* harmony import */ var _directives_number_validator_directive__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./directives/number-validator.directive */ "./src/app/modules/shared/directives/number-validator.directive.ts");
/* harmony import */ var _components_info_tooltip_info_tooltip_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./components/info-tooltip/info-tooltip.component */ "./src/app/modules/shared/components/info-tooltip/info-tooltip.component.ts");
/* harmony import */ var _components_address_autocomplete_address_autocomplete_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/address-autocomplete/address-autocomplete.component */ "./src/app/modules/shared/components/address-autocomplete/address-autocomplete.component.ts");
/* harmony import */ var _components_dynamic_map_dynamic_map_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./components/dynamic-map/dynamic-map.component */ "./src/app/modules/shared/components/dynamic-map/dynamic-map.component.ts");
/* harmony import */ var _agm_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @agm/core */ "./node_modules/@agm/core/index.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _components_progress_bar_progress_bar_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./components/progress-bar/progress-bar.component */ "./src/app/modules/shared/components/progress-bar/progress-bar.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


















var SharedModule = /** @class */ (function () {
    function SharedModule() {
    }
    SharedModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                _angular_flex_layout__WEBPACK_IMPORTED_MODULE_4__["FlexLayoutModule"],
                _modules_shared_custom_material_design_module__WEBPACK_IMPORTED_MODULE_7__["CustomMaterialDesignModule"],
                _agm_core__WEBPACK_IMPORTED_MODULE_15__["AgmCoreModule"].forRoot({
                    apiKey: _environments_environment__WEBPACK_IMPORTED_MODULE_16__["environment"].mapsApiKey,
                    libraries: ['places']
                }),
            ],
            declarations: [
                _components_main_navigator_main_navigator_component__WEBPACK_IMPORTED_MODULE_5__["MainNavigatorComponent"],
                _components_currency_unit_currency_unit_component__WEBPACK_IMPORTED_MODULE_6__["CurrencyUnitComponent"],
                _components_yes_no_dialog_yes_no_dialog_component__WEBPACK_IMPORTED_MODULE_8__["YesNoDialogComponent"],
                _components_snackbar_simple_snackbar_simple_component__WEBPACK_IMPORTED_MODULE_9__["SnackbarSimpleComponent"],
                _directives_equal_validator_directive__WEBPACK_IMPORTED_MODULE_10__["EqualValidatorDirective"],
                _directives_number_validator_directive__WEBPACK_IMPORTED_MODULE_11__["NumberValidatorDirective"],
                _components_info_tooltip_info_tooltip_component__WEBPACK_IMPORTED_MODULE_12__["InfoTooltipComponent"],
                _components_address_autocomplete_address_autocomplete_component__WEBPACK_IMPORTED_MODULE_13__["AddressAutocompleteComponent"],
                _components_dynamic_map_dynamic_map_component__WEBPACK_IMPORTED_MODULE_14__["DynamicMapComponent"],
                _components_progress_bar_progress_bar_component__WEBPACK_IMPORTED_MODULE_17__["ProgressBarComponent"]
            ],
            exports: [
                _components_main_navigator_main_navigator_component__WEBPACK_IMPORTED_MODULE_5__["MainNavigatorComponent"],
                _components_currency_unit_currency_unit_component__WEBPACK_IMPORTED_MODULE_6__["CurrencyUnitComponent"],
                _components_yes_no_dialog_yes_no_dialog_component__WEBPACK_IMPORTED_MODULE_8__["YesNoDialogComponent"],
                _components_snackbar_simple_snackbar_simple_component__WEBPACK_IMPORTED_MODULE_9__["SnackbarSimpleComponent"],
                _directives_equal_validator_directive__WEBPACK_IMPORTED_MODULE_10__["EqualValidatorDirective"],
                _directives_number_validator_directive__WEBPACK_IMPORTED_MODULE_11__["NumberValidatorDirective"],
                _components_info_tooltip_info_tooltip_component__WEBPACK_IMPORTED_MODULE_12__["InfoTooltipComponent"],
                _components_address_autocomplete_address_autocomplete_component__WEBPACK_IMPORTED_MODULE_13__["AddressAutocompleteComponent"],
                _components_dynamic_map_dynamic_map_component__WEBPACK_IMPORTED_MODULE_14__["DynamicMapComponent"],
                _components_progress_bar_progress_bar_component__WEBPACK_IMPORTED_MODULE_17__["ProgressBarComponent"]
            ],
            entryComponents: [
                _components_yes_no_dialog_yes_no_dialog_component__WEBPACK_IMPORTED_MODULE_8__["YesNoDialogComponent"],
                _components_snackbar_simple_snackbar_simple_component__WEBPACK_IMPORTED_MODULE_9__["SnackbarSimpleComponent"]
            ]
        })
    ], SharedModule);
    return SharedModule;
}());



/***/ }),

/***/ "./src/app/modules/teams/components/add-person-to-team-dialog/add-person-to-team-dialog.component.html":
/*!*************************************************************************************************************!*\
  !*** ./src/app/modules/teams/components/add-person-to-team-dialog/add-person-to-team-dialog.component.html ***!
  \*************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\r\n\r\n<h2 mat-dialog-title>Add team member</h2>\r\n\r\n<mat-dialog-content>\r\n  <div fxLayout=\"column\" class=\"container__add-person-to-team\">\r\n    <form class=\"form__container form__add-person-to-team\" #addPersonToTeamForm=\"ngForm\" novalidate fxLayout=\"column\" fxLayoutGap=\"10px\">\r\n      \r\n      <section fxLayout=\"column\" class=\"form__fields\">\r\n        <div fxLayout=\"column\" class=\"form__fields__row\">\r\n          <!-- Member email -->\r\n          <mat-form-field fxFlex class=\"form__field\">\r\n            <input matInput type=\"tezt\" id=\"email\" name=\"email\" placeholder=\"Member email\" \r\n                [(ngModel)]=\"model.email\"\r\n                required \r\n                email\r\n                #email=\"ngModel\">\r\n\r\n            <mat-icon matPrefix>email</mat-icon>\r\n            <mat-error *ngIf=\"email.invalid && (email.dirty || email.touched) && email.errors.required\">Email is required</mat-error>\r\n            <mat-error *ngIf=\"email.invalid && (email.dirty || email.touched) && email.errors.email\">Email must be a valid email address</mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n      </section>\r\n    </form>\r\n  </div>\r\n</mat-dialog-content>\r\n\r\n<mat-dialog-actions fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-around center\">\r\n  <button mat-mini-fab color=\"warn\" mat-dialog-close>\r\n    <mat-icon aria-label=\"Cancel\">clear</mat-icon>\r\n  </button>\r\n  <button mat-mini-fab color=\"accent\" [mat-dialog-close]=\"email.value || null\" [disabled]=\"!addPersonToTeamForm.form.valid\">\r\n    <mat-icon aria-label=\"Add\">done</mat-icon>\r\n  </button>\r\n</mat-dialog-actions>"

/***/ }),

/***/ "./src/app/modules/teams/components/add-person-to-team-dialog/add-person-to-team-dialog.component.scss":
/*!*************************************************************************************************************!*\
  !*** ./src/app/modules/teams/components/add-person-to-team-dialog/add-person-to-team-dialog.component.scss ***!
  \*************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvdGVhbXMvY29tcG9uZW50cy9hZGQtcGVyc29uLXRvLXRlYW0tZGlhbG9nL2FkZC1wZXJzb24tdG8tdGVhbS1kaWFsb2cuY29tcG9uZW50LnNjc3MifQ== */"

/***/ }),

/***/ "./src/app/modules/teams/components/add-person-to-team-dialog/add-person-to-team-dialog.component.ts":
/*!***********************************************************************************************************!*\
  !*** ./src/app/modules/teams/components/add-person-to-team-dialog/add-person-to-team-dialog.component.ts ***!
  \***********************************************************************************************************/
/*! exports provided: AddPersonToTeamDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddPersonToTeamDialogComponent", function() { return AddPersonToTeamDialogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};


var AddPersonToTeamDialogComponent = /** @class */ (function () {
    function AddPersonToTeamDialogComponent(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
        this.model = { email: null };
    }
    AddPersonToTeamDialogComponent.prototype.ngOnInit = function () { };
    AddPersonToTeamDialogComponent.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    AddPersonToTeamDialogComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-add-person-to-team-dialog',
            template: __webpack_require__(/*! ./add-person-to-team-dialog.component.html */ "./src/app/modules/teams/components/add-person-to-team-dialog/add-person-to-team-dialog.component.html"),
            styles: [__webpack_require__(/*! ./add-person-to-team-dialog.component.scss */ "./src/app/modules/teams/components/add-person-to-team-dialog/add-person-to-team-dialog.component.scss")]
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], AddPersonToTeamDialogComponent);
    return AddPersonToTeamDialogComponent;
}());



/***/ }),

/***/ "./src/app/modules/teams/components/teams-dashboard/teams-dashboard.component.html":
/*!*****************************************************************************************!*\
  !*** ./src/app/modules/teams/components/teams-dashboard/teams-dashboard.component.html ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"container__teams\">\r\n  <section  \r\n      fxLayout=\"column\" fxLayout.gt-xs=\"row wrap\" \r\n      fxLayoutGap=\"10px\" fxLayoutGap.gt-xs=\"none\" \r\n      fxLayoutAlign=\"none none\" fxLayoutAlign.gt-xs=\"space-around center\">\r\n    \r\n    <div *ngIf=\"!teams.length && !getTeamsServiceRunning\" fxFlexAlign=\"center\">You are not member of any team yet.</div>\r\n    <!-- Team Cards -->\r\n    <mat-expansion-panel *ngFor=\"let team of teams; index as teamIndex\"\r\n        fxFlex=\"none\" fxFlex.sm=\"45\" fxFlex.gt-sm=\"30\" \r\n        class=\"team-card\">\r\n      <mat-expansion-panel-header>\r\n        <mat-panel-title>\r\n          {{team.name}}\r\n        </mat-panel-title>\r\n        <mat-panel-description>\r\n          \r\n        </mat-panel-description>\r\n      </mat-expansion-panel-header>\r\n      \r\n      <div fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"team-card__content\">\r\n        <section *ngIf=\"team.description\" class=\"description\">\r\n          <p>{{team.description}}</p>\r\n        </section>\r\n\r\n        <section class=\"members\" fxLayout=\"column\" fxLayoutGap=\"10px\">\r\n          <div *ngFor=\"let member of team.members\" fxLayout=\"row\" fxLayoutGap=\"10px\" class=\"member\">\r\n            <img class=\"member__avatar\" [src]=\"member.avatar\"/>\r\n            <div class=\"member__info\" fxLayout=\"column\" [matTooltip]=\"member.email === team.admin.email ? 'Administrator' : ''\" matTooltipPosition=\"right\">\r\n              <p class=\"member__name\">{{member.name}} <mat-icon *ngIf=\"member.email === team.admin.email\" class=\"admin-icon\" aria-label=\"Admin\" >lock</mat-icon></p>\r\n              <p class=\"member__email\">{{member.email}}</p>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        <section *ngIf=\"team.admin.email === user.email\" class=\"card__actions\" fxLayout=\"row\" fxLayoutAlign=\"end none\" fxLayoutGap=\"10px\">\r\n          <button *ngIf=\"!teamActionRunning[teamIndex]\" mat-mini-fab routerLink=\"/teams/edit/{{team.slug}}\" color=\"primary\" (click)=\"teamActionRunning[teamIndex] = true\">\r\n            <mat-icon aria-label=\"Edit team\">edit</mat-icon>\r\n          </button>\r\n\r\n          <button *ngIf=\"!teamActionRunning[teamIndex]\" mat-mini-fab color=\"warn\" (click)=\"openDeleteTeamDialog(teamIndex, team)\">\r\n            <mat-icon aria-label=\"Delete team\">delete</mat-icon>\r\n          </button>\r\n\r\n          <mat-progress-spinner *ngIf=\"teamActionRunning[teamIndex]\"\r\n            class=\"progress-spinner progress-spinner--delete-team\"\r\n            color=\"warn\"\r\n            [diameter]=\"40\" [strokeWidth]=\"7\"\r\n            mode=\"indeterminate\">\r\n          </mat-progress-spinner>\r\n        </section>\r\n      </div>\r\n      \r\n    </mat-expansion-panel>\r\n    <!-- EOF Team Cards -->\r\n  </section>\r\n\r\n  <progress-bar fxFlexAlign=\"center\" class=\"progress-bar--get-teams\" *ngIf=\"getTeamsServiceRunning\"\r\n      color=\"primary\"\r\n      message=\"Loading your teams...\">\r\n  </progress-bar>\r\n\r\n  <section fxLayout=\"column\" fxLayoutAlign=\"start end\" class=\"actions\">\r\n    <button mat-fab routerLink=\"create\" color=\"primary\" class=\"fab mat-elevation-z10\" matTooltip=\"Create team\" matTooltipPosition=\"left\">\r\n      <mat-icon class=\"mat-24\" aria-label=\"Create team\">group_add</mat-icon>\r\n    </button>\r\n  </section>\r\n</div>"

/***/ }),

/***/ "./src/app/modules/teams/components/teams-dashboard/teams-dashboard.component.scss":
/*!*****************************************************************************************!*\
  !*** ./src/app/modules/teams/components/teams-dashboard/teams-dashboard.component.scss ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".container__teams .team-card {\n  cursor: default; }\n  .container__teams .team-card mat-panel-title {\n    font-size: 18px; }\n  .container__teams .team-card .team-card__content .description {\n    margin-bottom: 20px;\n    font-size: 13px; }\n  .container__teams .team-card .team-card__content .members .member .member__avatar {\n    border-radius: 50%;\n    width: 40px;\n    height: 40px;\n    padding: 0 10px 0 0; }\n  .container__teams .team-card .team-card__content .members .member .member__info .admin-icon {\n    font-size: 14px;\n    height: auto;\n    width: auto; }\n  .container__teams .team-card .team-card__content .members .member .member__info .member__email {\n    font-size: 11px; }\n  .container__teams .team-card .team-card__content .card__actions {\n    margin: 0 8px 8px 0; }\n  .container__teams .progress-bar--get-teams {\n  width: 100%; }\n  @media screen and (min-width: 600px) {\n  .container__teams .team-card {\n    margin-bottom: 10px; }\n  .container__teams .progress-bar--get-teams {\n    width: 300px; } }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy90ZWFtcy9jb21wb25lbnRzL3RlYW1zLWRhc2hib2FyZC9DOlxcdzNcXGF0b21pQ29jb251dFxcY2xpZW50L3NyY1xcYXBwXFxtb2R1bGVzXFx0ZWFtc1xcY29tcG9uZW50c1xcdGVhbXMtZGFzaGJvYXJkXFx0ZWFtcy1kYXNoYm9hcmQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFHSSxnQkFBZSxFQXlDaEI7RUE1Q0g7SUFNTSxnQkFBZSxFQUNoQjtFQVBMO0lBWVEsb0JBQW1CO0lBQ25CLGdCQUFlLEVBQ2hCO0VBZFA7SUFtQlUsbUJBQWtCO0lBQ2xCLFlBQVc7SUFDWCxhQUFZO0lBQ1osb0JBQW1CLEVBQ3BCO0VBdkJUO0lBNEJZLGdCQUFlO0lBQ2YsYUFBWTtJQUNaLFlBQVcsRUFDWjtFQS9CWDtJQWtDWSxnQkFBZSxFQUNoQjtFQW5DWDtJQXdDUSxvQkFBbUIsRUFDcEI7RUF6Q1A7RUErQ0ksWUFBVyxFQUNaO0VBR0g7RUFFRTtJQUdJLG9CQUFtQixFQUNwQjtFQUpIO0lBT0ksYUFBWSxFQUNiLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL3RlYW1zL2NvbXBvbmVudHMvdGVhbXMtZGFzaGJvYXJkL3RlYW1zLWRhc2hib2FyZC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgJy4uLy4uLy4uLy4uLy4uL3ZhcmlhYmxlcyc7XHJcblxyXG4uY29udGFpbmVyX190ZWFtcyB7XHJcblxyXG4gIC50ZWFtLWNhcmQge1xyXG4gICAgY3Vyc29yOiBkZWZhdWx0O1xyXG5cclxuICAgIG1hdC1wYW5lbC10aXRsZSB7XHJcbiAgICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgIH1cclxuXHJcbiAgICAudGVhbS1jYXJkX19jb250ZW50IHtcclxuXHJcbiAgICAgIC5kZXNjcmlwdGlvbiB7XHJcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxuICAgICAgICBmb250LXNpemU6IDEzcHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5tZW1iZXJzIC5tZW1iZXIge1xyXG4gICAgICAgIFxyXG4gICAgICAgIC5tZW1iZXJfX2F2YXRhciB7XHJcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICAgICAgICB3aWR0aDogNDBweDtcclxuICAgICAgICAgIGhlaWdodDogNDBweDtcclxuICAgICAgICAgIHBhZGRpbmc6IDAgMTBweCAwIDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAubWVtYmVyX19pbmZvIHtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLmFkbWluLWljb24ge1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICAgICAgICAgIGhlaWdodDogYXV0bztcclxuICAgICAgICAgICAgd2lkdGg6IGF1dG87XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLm1lbWJlcl9fZW1haWwge1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDExcHg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAuY2FyZF9fYWN0aW9ucyB7XHJcbiAgICAgICAgbWFyZ2luOiAwIDhweCA4cHggMDsgXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gIH1cclxuXHJcbiAgLnByb2dyZXNzLWJhci0tZ2V0LXRlYW1zIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gIH1cclxufVxyXG5cclxuQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogJHNjcmVlbkd0WHMpIHtcclxuICBcclxuICAuY29udGFpbmVyX190ZWFtcyB7XHJcblxyXG4gICAgLnRlYW0tY2FyZCB7XHJcbiAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC5wcm9ncmVzcy1iYXItLWdldC10ZWFtcyB7XHJcbiAgICAgIHdpZHRoOiAzMDBweDtcclxuICAgIH1cclxuICB9XHJcbn0iXX0= */"

/***/ }),

/***/ "./src/app/modules/teams/components/teams-dashboard/teams-dashboard.component.ts":
/*!***************************************************************************************!*\
  !*** ./src/app/modules/teams/components/teams-dashboard/teams-dashboard.component.ts ***!
  \***************************************************************************************/
/*! exports provided: TeamsDashboardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TeamsDashboardComponent", function() { return TeamsDashboardComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _shared_components_main_navigator_main_navigator_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/components/main-navigator/main-navigator.service */ "./src/app/modules/shared/components/main-navigator/main-navigator.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _teams_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../teams.service */ "./src/app/modules/teams/teams.service.ts");
/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../app.service */ "./src/app/app.service.ts");
/* harmony import */ var _shared_components_yes_no_dialog_yes_no_dialog_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/components/yes-no-dialog/yes-no-dialog.component */ "./src/app/modules/shared/components/yes-no-dialog/yes-no-dialog.component.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var TeamsDashboardComponent = /** @class */ (function () {
    function TeamsDashboardComponent(route, mainNavigatorService, teamsService, appService, router, dialog) {
        this.route = route;
        this.mainNavigatorService = mainNavigatorService;
        this.teamsService = teamsService;
        this.appService = appService;
        this.router = router;
        this.dialog = dialog;
        this.user = null;
        this.getTeamsServiceRunning = false;
        this.teamActionRunning = [];
        this.teams = [];
        this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_7__["Subscription"]();
    }
    TeamsDashboardComponent.prototype.ngOnInit = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > ngOnInit() > "; // for debugging
        this.mainNavigatorService.setLinks([
            { displayName: 'Welcome', url: '/welcome', selected: false },
            { displayName: 'Teams', url: null, selected: true }
        ]);
        // get authUser from resolver
        this.route.data.subscribe(function (data) {
            _this.user = data.authUser;
        });
        // generates a user source object from authUser from resolver
        var user$ = this.route.data.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["map"])(function (data) { return data.authUser; }));
        var newSubscription = user$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["switchMap"])(function (user) {
            _this.user = user;
            if (!_this.teams.length) {
                return _this.getTeams$();
            }
            else {
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_7__["of"])(_this.teams);
            }
        })).subscribe(function (teams) {
            _this.teams = teams;
            _this.teamActionRunning = new Array(teams.length).fill(false);
            _this.getTeamsServiceRunning = false;
        }, function (error) {
            _this.appService.consoleLog('error', methodTrace + " There was an error in the server while performing this action > " + error);
            if (error.codeno === 400) {
                _this.appService.showResults("There was an error in the server while performing this action, please try again in a few minutes.", 'error');
            }
            else {
                _this.appService.showResults("There was an error with this service and the information provided.", 'error');
            }
            _this.getTeamsServiceRunning = false;
        });
        this.subscription.add(newSubscription);
    };
    TeamsDashboardComponent.prototype.ngOnDestroy = function () {
        var methodTrace = this.constructor.name + " > ngOnDestroy() > "; // for debugging
        // this.appService.consoleLog('info', `${methodTrace} Component destroyed.`);
        this.subscription.unsubscribe();
    };
    /**
     * Get a teams observable from server
     *
     * @return { Observable<Team[]> }
     */
    TeamsDashboardComponent.prototype.getTeams$ = function () {
        var methodTrace = this.constructor.name + " > getTeams$() > "; // for debugging
        this.teams = [];
        this.getTeamsServiceRunning = true;
        return this.teamsService.getTeams$(this.user.email);
    };
    TeamsDashboardComponent.prototype.openDeleteTeamDialog = function (index, team) {
        var _this = this;
        if (team === void 0) { team = null; }
        var methodTrace = this.constructor.name + " > openDeleteTeamDialog() > "; // for debugging
        if (!team) {
            this.appService.consoleLog('error', methodTrace + " Team is required to delete.");
            return false;
        }
        this.teamActionRunning[index] = true;
        var yesNoDialogRef = this.dialog.open(_shared_components_yes_no_dialog_yes_no_dialog_component__WEBPACK_IMPORTED_MODULE_6__["YesNoDialogComponent"], {
            width: '250px',
            data: {
                title: 'Delete team',
                message: "Are you sure you want to delete the team \"" + team.name + "\" forever?"
            }
        });
        var newSubscription = yesNoDialogRef.afterClosed().subscribe(function (result) {
            if (result === 'yes') {
                _this.delete(index, team);
            }
            else {
                _this.teamActionRunning[index] = false;
            }
        });
        this.subscription.add(newSubscription);
        return false;
    };
    TeamsDashboardComponent.prototype.delete = function (index, team) {
        var _this = this;
        if (team === void 0) { team = null; }
        var methodTrace = this.constructor.name + " > delete() > "; // for debugging
        this.teamActionRunning[index] = true;
        var newSubscription = this.teamsService.delete$(team.slug, this.user.email).subscribe(function (data) {
            if (data && data.removed > 0) {
                _this.teams.splice(index, 1);
                _this.teamActionRunning.splice(index, 1);
                _this.appService.showResults("Team \"" + team.name + "\" successfully removed!", 'success');
            }
            else {
                _this.appService.showResults("Team \"" + team.name + "\" could not be removed, please try again.", 'error');
            }
            _this.teamActionRunning[index] = false;
        }, function (error) {
            _this.appService.consoleLog('error', methodTrace + " There was an error in the server while performing this action > " + error);
            if (error.codeno === 400) {
                _this.appService.showResults("There was an error in the server while performing this action, please try again in a few minutes.", 'error');
            }
            else if (error.codeno === 471) {
                _this.appService.showResults(error.msg, 'error', 7000);
            }
            else {
                _this.appService.showResults("There was an error with this service and the information provided.", 'error');
            }
            _this.teamActionRunning[index] = false;
        });
        this.subscription.add(newSubscription);
    };
    TeamsDashboardComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-teams-dashboard',
            template: __webpack_require__(/*! ./teams-dashboard.component.html */ "./src/app/modules/teams/components/teams-dashboard/teams-dashboard.component.html"),
            styles: [__webpack_require__(/*! ./teams-dashboard.component.scss */ "./src/app/modules/teams/components/teams-dashboard/teams-dashboard.component.scss")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"], _shared_components_main_navigator_main_navigator_service__WEBPACK_IMPORTED_MODULE_2__["MainNavigatorService"], _teams_service__WEBPACK_IMPORTED_MODULE_4__["TeamsService"],
            _app_service__WEBPACK_IMPORTED_MODULE_5__["AppService"], _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"], _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialog"]])
    ], TeamsDashboardComponent);
    return TeamsDashboardComponent;
}());



/***/ }),

/***/ "./src/app/modules/teams/components/teams-edit/teams-edit.component.html":
/*!*******************************************************************************!*\
  !*** ./src/app/modules/teams/components/teams-edit/teams-edit.component.html ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container__edit-team\" fxLayout=\"column\" fxLayoutAlign=\"none none\" fxLayout.gt-xs=\"row\" fxLayoutAlign.gt-xs=\"center none\" fxLayoutGap=\"10px\">\r\n  <form *ngIf=\"!getTeamServiceRunning\" class=\"form__container form__edit-team\" (ngSubmit)=\"editMode ? onUpdate() : onSubmit()\" #editTeamForm=\"ngForm\" \r\n      novalidate fxLayout=\"column\" fxLayoutGap=\"10px\">\r\n    \r\n    <section fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"form__fields\">\r\n      <div fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n        <h3 class=\"title\">\r\n          <p class=\"header\">Basic information</p>\r\n        </h3>\r\n        \r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n          <!-- Team name -->\r\n          <mat-form-field fxFlex fxFlex.gt-xs=\"290px\" class=\"form__field\">\r\n            <input matInput type=\"tezt\" id=\"name\" name=\"name\" placeholder=\"Team name\" \r\n                [(ngModel)]=\"model.name\" \r\n                value=\"model.name\"\r\n                required\r\n                minlength=\"4\"\r\n                #name=\"ngModel\">\r\n            <mat-error *ngIf=\"name.invalid && (name.dirty || name.touched) && name.errors.required\">Name is required</mat-error>\r\n            <mat-error *ngIf=\"name.invalid && (name.dirty || name.touched) && name.errors.minlength\">Value must be longer than 3 characters</mat-error>\r\n          </mat-form-field>\r\n\r\n          <!-- Description -->\r\n          <mat-form-field fxFlex fxFlex.gt-xs=\"290px\" fxFlex.gt-sm=\"500px\" class=\"form__field\">\r\n            <textarea matInput id=\"description\" name=\"description\" placeholder=\"Description\"\r\n                matTextareaAutosize matAutosizeMinRows=\"2\" matAutosizeMaxRows=\"5\"\r\n                [(ngModel)]=\"model.description\" \r\n                value=\"model.description\"\r\n                #description=\"ngModel\">\r\n            </textarea>\r\n          </mat-form-field>\r\n        </div>\r\n      </div>\r\n\r\n      <div *ngIf=\"editMode\" fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n        <h3 class=\"title\">\r\n          <p class=\"header\">Members</p>\r\n          <p class=\"mat-caption\">Add or remove members. If a member(email) is not active on the platform we are going to send him/her an invitation to join AtomiCoconut</p>\r\n        </h3>\r\n        \r\n        <div class=\"members\" fxLayout=\"column\" fxLayout.gt-xs=\"row wrap\" fxLayoutAlign.gt-xs=\"start center\" fxLayoutGap=\"10px\">\r\n          <mat-card fxFlex fxFlex.gt-xs=\"none\"  *ngFor=\"let member of team.members; index as memberIndex\" class=\"member\" [class.not-saved-yet]=\"!member.name && !member.avatar\">\r\n            <mat-card-content fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"none center\">\r\n              \r\n              <img *ngIf=\"member.avatar\" class=\"member__avatar\" [src]=\"member.avatar\"/>\r\n              <mat-icon *ngIf=\"!member.avatar\" class=\"member__avatar member__avatar--default\">account_circle</mat-icon>\r\n              \r\n              <div fxFlex class=\"member__info\" fxLayout=\"column\" [matTooltip]=\"member.email === team.admin.email ? 'Administrator' : ''\" matTooltipPosition=\"right\">\r\n                <p *ngIf=\"member.name\" class=\"member__name\">\r\n                  {{member.name}}\r\n                  <mat-icon *ngIf=\"member.email === team.admin.email\" class=\"icon__admin\" aria-label=\"Admin\" >lock</mat-icon>\r\n                </p>\r\n                <p class=\"member__email\">{{member.email}}</p>\r\n              </div>\r\n    \r\n              <mat-icon  *ngIf=\"member.email !== team.admin.email\" matTooltip=\"Remove\" class=\"icon__remove-member\" (click)=\"removeMember(memberIndex)\">clear</mat-icon>\r\n            </mat-card-content>\r\n          </mat-card>\r\n        </div>\r\n      </div>\r\n    </section>\r\n\r\n    <section *ngIf=\"editMode\" class=\"add-members\" fxLayout=\"column\" fxLayoutAlign=\"start end\">\r\n      <button mat-fab color=\"primary\" (click)=\"openAddPersonDialog()\">\r\n        <mat-icon aria-label=\"Add new member\">person_add</mat-icon>\r\n      </button>\r\n    </section>\r\n\r\n    <section class=\"form__actions form__actions--edit-team\"\r\n        fxLayout=\"column\" fxLayout.gt-sm=\"row\" \r\n        fxLayoutAlign=\"none start\" fxLayoutAlign.gt-sm=\"center start\" \r\n        fxLayoutGap=\"10px\">\r\n\r\n      <button mat-fab *ngIf=\"!editTeamServiceRunning\" \r\n          class=\"fab mat-elevation-z10 form__action\" \r\n          color=\"accent\" \r\n          type=\"submit\"\r\n          matTooltip=\"Save changes\" matTooltipPosition=\"left\" \r\n          [disabled]=\"!editTeamForm.form.valid\">\r\n        <mat-icon aria-label=\"Save changes\">save</mat-icon>\r\n      </button>\r\n      \r\n      <mat-progress-spinner *ngIf=\"editTeamServiceRunning\"\r\n          class=\"progress-spinner progress-spinner--edit-team\"\r\n          color=\"accent\"\r\n          [diameter]=\"55\" [strokeWidth]=\"10\"\r\n          mode=\"indeterminate\">\r\n      </mat-progress-spinner>\r\n    </section>\r\n    \r\n  </form>\r\n\r\n  <progress-bar class=\"progress-bar--get-team\" *ngIf=\"getTeamServiceRunning\"\r\n      color=\"primary\"\r\n      message=\"Loading team info...\">\r\n  </progress-bar>\r\n  \r\n</div>"

/***/ }),

/***/ "./src/app/modules/teams/components/teams-edit/teams-edit.component.scss":
/*!*******************************************************************************!*\
  !*** ./src/app/modules/teams/components/teams-edit/teams-edit.component.scss ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".progress-bar--get-team {\n  width: 100%; }\n\n.form__edit-team .form__actions--edit-team {\n  margin: 20px 0; }\n\n.members .member {\n  margin-bottom: 10px;\n  padding: 14px;\n  border-radius: 50px;\n  cursor: default; }\n\n.members .member .member__avatar {\n    border-radius: 50%;\n    width: 40px;\n    height: 40px; }\n\n.members .member .member__info .icon__admin {\n    font-size: 14px;\n    height: auto;\n    width: auto; }\n\n.members .member .member__info .member__email {\n    font-size: 11px; }\n\n.members .member .icon__remove-member {\n    font-size: 16px;\n    height: auto;\n    width: auto;\n    cursor: pointer; }\n\n.members .member.not-saved-yet .member__avatar--default {\n    font-size: 40px;\n    color: #f44336; }\n\n@media screen and (min-width: 600px) {\n  .progress-bar--get-team {\n    width: 300px; } }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy90ZWFtcy9jb21wb25lbnRzL3RlYW1zLWVkaXQvQzpcXHczXFxhdG9taUNvY29udXRcXGNsaWVudC9zcmNcXGFwcFxcbW9kdWxlc1xcdGVhbXNcXGNvbXBvbmVudHNcXHRlYW1zLWVkaXRcXHRlYW1zLWVkaXQuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvdGVhbXMvY29tcG9uZW50cy90ZWFtcy1lZGl0L0M6XFx3M1xcYXRvbWlDb2NvbnV0XFxjbGllbnQvc3JjXFxfdmFyaWFibGVzLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0E7RUFDRSxZQUFXLEVBQ1o7O0FBRUQ7RUFHSSxlQUFjLEVBQ2Y7O0FBR0g7RUFDRSxvQkFBbUI7RUFDbkIsY0FBYTtFQUNiLG9CQUFtQjtFQUNuQixnQkFBZSxFQW9DaEI7O0FBeENEO0lBT0ksbUJBQWtCO0lBQ2xCLFlBQVc7SUFDWCxhQUFZLEVBQ2I7O0FBVkg7SUFlTSxnQkFBZTtJQUNmLGFBQVk7SUFDWixZQUFXLEVBQ1o7O0FBbEJMO0lBcUJNLGdCQUFlLEVBQ2hCOztBQXRCTDtJQTJCSSxnQkFBZTtJQUNmLGFBQVk7SUFDWixZQUFXO0lBQ1gsZ0JBQWUsRUFDaEI7O0FBL0JIO0lBb0NNLGdCQUFlO0lBQ2YsZUMxQ1MsRUQyQ1Y7O0FBSUw7RUFFRTtJQUNFLGFBQVksRUFDYixFQUFBIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy90ZWFtcy9jb21wb25lbnRzL3RlYW1zLWVkaXQvdGVhbXMtZWRpdC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgJy4uLy4uLy4uLy4uLy4uL3ZhcmlhYmxlcyc7XHJcblxyXG5cclxuLnByb2dyZXNzLWJhci0tZ2V0LXRlYW0ge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4uZm9ybV9fZWRpdC10ZWFtIHtcclxuXHJcbiAgLmZvcm1fX2FjdGlvbnMtLWVkaXQtdGVhbSB7XHJcbiAgICBtYXJnaW46IDIwcHggMDtcclxuICB9XHJcbn1cclxuXHJcbi5tZW1iZXJzIC5tZW1iZXIge1xyXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgcGFkZGluZzogMTRweDtcclxuICBib3JkZXItcmFkaXVzOiA1MHB4O1xyXG4gIGN1cnNvcjogZGVmYXVsdDtcclxuXHJcbiAgLm1lbWJlcl9fYXZhdGFyIHtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgIHdpZHRoOiA0MHB4O1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gIH1cclxuXHJcbiAgLm1lbWJlcl9faW5mbyB7XHJcbiAgICBcclxuICAgIC5pY29uX19hZG1pbiB7XHJcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgICAgaGVpZ2h0OiBhdXRvO1xyXG4gICAgICB3aWR0aDogYXV0bztcclxuICAgIH1cclxuXHJcbiAgICAubWVtYmVyX19lbWFpbCB7XHJcbiAgICAgIGZvbnQtc2l6ZTogMTFweDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gICAgXHJcbiAgLmljb25fX3JlbW92ZS1tZW1iZXIge1xyXG4gICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgaGVpZ2h0OiBhdXRvO1xyXG4gICAgd2lkdGg6IGF1dG87XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgfVxyXG5cclxuICAmLm5vdC1zYXZlZC15ZXQge1xyXG4gICAgXHJcbiAgICAubWVtYmVyX19hdmF0YXItLWRlZmF1bHQge1xyXG4gICAgICBmb250LXNpemU6IDQwcHg7XHJcbiAgICAgIGNvbG9yIDogJHdhcm47XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAkc2NyZWVuR3RYcykge1xyXG5cclxuICAucHJvZ3Jlc3MtYmFyLS1nZXQtdGVhbSB7XHJcbiAgICB3aWR0aDogMzAwcHg7XHJcbiAgfVxyXG59IiwiLy9CcmVha3BvaW50c1xyXG4kc2NyZWVuR3RYczogNjAwcHg7XHJcbiRzY3JlZW5HdFNtOiA5NjBweDsgXHJcblxyXG5cclxuLy9Db2xvcnNcclxuJHByaW1hcnk6ICM3YjFmYTI7XHJcbiRzZWNvbmRhcnk6IHJnYigxNTYsIDM5LCAxNzYpO1xyXG4kYWNjZW50OiAjNjlmMGFlO1xyXG4kd2FybiA6ICNmNDQzMzY7XHJcbiRwdXJwbGUgOiAkcHJpbWFyeTtcclxuJHB1cnBsZUZvbnRzIDogI0MzNTJGMztcclxuJGdyZWVuOiAjMjhGRTdDO1xyXG4kcmVkOiAjZmY1MjcxO1xyXG4kbGlnaHRPcmFuZ2UgOiByZ2JhKDI1NSwgMTg3LCAwLCAwLjg3KTtcclxuJGFsbW9zdFdoaXRlIDogcmdiYSgyNTUsMjU1LDI1NSwuODcpO1xyXG4kYWxtb3N0QmxhY2sgOiByZ2JhKDAsMCwwLC44Nyk7Il19 */"

/***/ }),

/***/ "./src/app/modules/teams/components/teams-edit/teams-edit.component.ts":
/*!*****************************************************************************!*\
  !*** ./src/app/modules/teams/components/teams-edit/teams-edit.component.ts ***!
  \*****************************************************************************/
/*! exports provided: TeamsEditComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TeamsEditComponent", function() { return TeamsEditComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _shared_components_main_navigator_main_navigator_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/components/main-navigator/main-navigator.service */ "./src/app/modules/shared/components/main-navigator/main-navigator.service.ts");
/* harmony import */ var _components_add_person_to_team_dialog_add_person_to_team_dialog_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/add-person-to-team-dialog/add-person-to-team-dialog.component */ "./src/app/modules/teams/components/add-person-to-team-dialog/add-person-to-team-dialog.component.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _users_models_user__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../users/models/user */ "./src/app/modules/users/models/user.ts");
/* harmony import */ var _teams_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../teams.service */ "./src/app/modules/teams/teams.service.ts");
/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../app.service */ "./src/app/app.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var TeamsEditComponent = /** @class */ (function () {
    function TeamsEditComponent(route, mainNavigatorService, teamsService, appService, router, dialog) {
        this.route = route;
        this.mainNavigatorService = mainNavigatorService;
        this.teamsService = teamsService;
        this.appService = appService;
        this.router = router;
        this.dialog = dialog;
        this.editMode = false;
        this.user = null;
        this.team = null;
        this.editTeamServiceRunning = false;
        this.getTeamServiceRunning = false;
        this.model = {
            name: null,
            description: null,
            email: null,
            members: []
        };
        this.slug = null;
        this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_8__["Subscription"]();
    }
    TeamsEditComponent.prototype.ngOnInit = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > ngOnInit() > "; // for debugging
        this.mainNavigatorService.setLinks([
            { displayName: 'Welcome', url: '/welcome', selected: false },
            { displayName: 'Teams', url: '/teams', selected: false }
        ]);
        // generates a user source object from authUser from resolver
        var user$ = this.route.data.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["map"])(function (data) { return data.authUser; }));
        // generates an investment id source from id parameter in url
        var slug$ = this.route.paramMap.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["map"])(function (params) { return params.get('slug'); }));
        // combine user$ and id$ sources into one object and start listen to it for changes
        var newSubscription = user$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["combineLatest"])(slug$, function (user, slug) {
            return { user: user, teamSlug: slug };
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["switchMap"])(function (data) {
            _this.user = data.user;
            _this.model.email = data.user.email;
            _this.editTeamServiceRunning = false;
            _this.getTeamServiceRunning = false;
            if (!data.teamSlug) {
                // we are creating a new team
                _this.slug = null;
                _this.editMode = false;
                _this.mainNavigatorService.appendLink({ displayName: 'Create Team', url: '', selected: true });
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_8__["of"])(null);
            }
            else {
                if (_this.slug) {
                    // if this is true means the user updated the name and we refresh the page to update the slug in the url
                    // in this case we don't want to append the edit team link to the navigation component because it is already there.
                }
                else {
                    _this.mainNavigatorService.appendLink({ displayName: 'Edit Team', url: '', selected: true });
                }
                // we are editing an existing investment
                _this.slug = data.teamSlug; // the new slug
                _this.editMode = true;
                return _this.getTeam$(data.teamSlug); // get data
            }
        })).subscribe(function (team) {
            if (team) {
                // we are editing a team
                _this.team = team;
                // populate the model
                _this.model.name = _this.team.name;
                _this.model.description = _this.team.description;
            }
            else {
                // we are creating a team, do nothing
            }
            _this.getTeamServiceRunning = false;
        }, function (error) {
            _this.appService.consoleLog('error', methodTrace + " There was an error in the server while performing this action > " + error);
            if (error.codeno === 400) {
                _this.appService.showResults("There was an error in the server while performing this action, please try again in a few minutes.", 'error');
            }
            else if (error.codeno === 461 || error.codeno === 462) {
                _this.appService.showResults(error.msg, 'error');
                _this.router.navigate(['/welcome']);
            }
            else {
                _this.appService.showResults("There was an error with this service and the information provided.", 'error');
            }
            _this.getTeamServiceRunning = false;
        });
        this.subscription.add(newSubscription);
    };
    /**
     * Get a team observable from server based on the slug provided
     * @param {string} slug
     *
     * @return {Observable<Team>} teams source
     */
    TeamsEditComponent.prototype.getTeam$ = function (slug) {
        var methodTrace = this.constructor.name + " > getTeam$() > "; // for debugging
        if (!slug) {
            this.appService.showResults("Invalid team ID", 'error');
            this.appService.consoleLog('error', methodTrace + " Slug parameter must be provided, but was: ", slug);
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_8__["of"])(null);
        }
        this.getTeamServiceRunning = true;
        return this.teamsService.getMyTeamBySlug$(this.user.email, slug);
    };
    TeamsEditComponent.prototype.ngOnDestroy = function () {
        var methodTrace = this.constructor.name + " > ngOnDestroy() > "; // for debugging
        // this.appService.consoleLog('info', `${methodTrace} Component destroyed.`);
        this.subscription.unsubscribe();
    };
    TeamsEditComponent.prototype.onSubmit = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > onSubmit() > "; // for debugging
        this.editTeamServiceRunning = true;
        // call the team create service
        var newSubscription = this.teamsService.create$(this.model).subscribe(function (newTeam) {
            if (newTeam && newTeam.slug) {
                _this.appService.showResults("Team " + newTeam.name + " successfully created!", 'success');
                _this.router.navigate(['/teams/edit', newTeam.slug]);
            }
            else {
                _this.appService.consoleLog('error', methodTrace + " Unexpected data format.");
                _this.editTeamServiceRunning = false;
            }
        }, function (error) {
            _this.appService.consoleLog('error', methodTrace + " There was an error with the create/edit team service.", error);
            if (error.codeno === 400) {
                _this.appService.showResults("There was an error with the team services, please try again in a few minutes.", 'error');
            }
            _this.editTeamServiceRunning = false;
        });
        this.subscription.add(newSubscription);
    };
    TeamsEditComponent.prototype.onUpdate = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > onUpdate() > "; // for debugging
        this.editTeamServiceRunning = true;
        // add slug and members to service payload
        this.model.slug = this.slug;
        this.model.members = []; // reset the members array
        for (var _i = 0, _a = this.team.members; _i < _a.length; _i++) {
            var member = _a[_i];
            this.model.members.push(member.email);
        }
        // TODO check the new members are not duplicated, especially the admin
        // call the team update service
        var newSubscription = this.teamsService.update$(this.model).subscribe(function (team) {
            if (_this.slug !== team.slug) {
                // this means that the team name was update and therefore the slug too
                _this.router.navigate(['/teams/edit', team.slug]); // go home 
            }
            else {
                // create team
                _this.team = team;
                // populate the model
                _this.model.name = _this.team.name;
                _this.model.description = _this.team.description;
                _this.editTeamServiceRunning = false;
            }
        }, function (error) {
            _this.appService.consoleLog('error', methodTrace + " There was an error in the server while performing this action > " + error);
            if (error.codeno === 400) {
                _this.appService.showResults("There was an error in the server while performing this action, please try again in a few minutes.", 'error');
            }
            else {
                _this.appService.showResults("There was an error with this service and the information provided.", 'error');
            }
            _this.editTeamServiceRunning = false;
        });
        this.subscription.add(newSubscription);
    };
    TeamsEditComponent.prototype.openAddPersonDialog = function () {
        var _this = this;
        var addPersonDialogRef = this.dialog.open(_components_add_person_to_team_dialog_add_person_to_team_dialog_component__WEBPACK_IMPORTED_MODULE_3__["AddPersonToTeamDialogComponent"], {
            width: '250px',
            data: {}
        });
        var newSubscription = addPersonDialogRef.afterClosed().subscribe(function (result) {
            if (result) {
                var newMember = new _users_models_user__WEBPACK_IMPORTED_MODULE_5__["User"]('', result);
                _this.team.members.push(newMember);
            }
        });
        this.subscription.add(newSubscription);
        return false;
    };
    TeamsEditComponent.prototype.removeMember = function (index) {
        this.team.members.splice(index, 1);
    };
    TeamsEditComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-teams-edit',
            template: __webpack_require__(/*! ./teams-edit.component.html */ "./src/app/modules/teams/components/teams-edit/teams-edit.component.html"),
            styles: [__webpack_require__(/*! ./teams-edit.component.scss */ "./src/app/modules/teams/components/teams-edit/teams-edit.component.scss")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_4__["ActivatedRoute"], _shared_components_main_navigator_main_navigator_service__WEBPACK_IMPORTED_MODULE_2__["MainNavigatorService"], _teams_service__WEBPACK_IMPORTED_MODULE_6__["TeamsService"],
            _app_service__WEBPACK_IMPORTED_MODULE_7__["AppService"], _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"], _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialog"]])
    ], TeamsEditComponent);
    return TeamsEditComponent;
}());



/***/ }),

/***/ "./src/app/modules/teams/models/team.ts":
/*!**********************************************!*\
  !*** ./src/app/modules/teams/models/team.ts ***!
  \**********************************************/
/*! exports provided: Team */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Team", function() { return Team; });
var Team = /** @class */ (function () {
    function Team(name, description, slug, admin, members) {
        if (name === void 0) { name = null; }
        if (description === void 0) { description = null; }
        if (slug === void 0) { slug = null; }
        if (admin === void 0) { admin = null; }
        if (members === void 0) { members = null; }
        this.name = name;
        this.slug = slug;
        this.description = description;
        this.admin = admin;
        this.members = members;
    }
    return Team;
}());



/***/ }),

/***/ "./src/app/modules/teams/teams-routing.module.ts":
/*!*******************************************************!*\
  !*** ./src/app/modules/teams/teams-routing.module.ts ***!
  \*******************************************************/
/*! exports provided: TeamsRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TeamsRoutingModule", function() { return TeamsRoutingModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _components_teams_dashboard_teams_dashboard_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/teams-dashboard/teams-dashboard.component */ "./src/app/modules/teams/components/teams-dashboard/teams-dashboard.component.ts");
/* harmony import */ var _components_teams_edit_teams_edit_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/teams-edit/teams-edit.component */ "./src/app/modules/teams/components/teams-edit/teams-edit.component.ts");
/* harmony import */ var _auth_resolver_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../auth-resolver.service */ "./src/app/auth-resolver.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var routes = [
    {
        path: 'teams',
        children: [
            {
                path: 'create',
                component: _components_teams_edit_teams_edit_component__WEBPACK_IMPORTED_MODULE_3__["TeamsEditComponent"],
                resolve: {
                    authUser: _auth_resolver_service__WEBPACK_IMPORTED_MODULE_4__["AuthResolver"]
                }
            },
            {
                path: 'edit/:slug',
                component: _components_teams_edit_teams_edit_component__WEBPACK_IMPORTED_MODULE_3__["TeamsEditComponent"],
                resolve: {
                    authUser: _auth_resolver_service__WEBPACK_IMPORTED_MODULE_4__["AuthResolver"]
                }
            },
            {
                path: '',
                pathMatch: 'full',
                component: _components_teams_dashboard_teams_dashboard_component__WEBPACK_IMPORTED_MODULE_2__["TeamsDashboardComponent"],
                resolve: {
                    authUser: _auth_resolver_service__WEBPACK_IMPORTED_MODULE_4__["AuthResolver"]
                }
            }
        ]
    }
];
var TeamsRoutingModule = /** @class */ (function () {
    function TeamsRoutingModule() {
    }
    TeamsRoutingModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forChild(routes)],
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]]
        })
    ], TeamsRoutingModule);
    return TeamsRoutingModule;
}());



/***/ }),

/***/ "./src/app/modules/teams/teams.module.ts":
/*!***********************************************!*\
  !*** ./src/app/modules/teams/teams.module.ts ***!
  \***********************************************/
/*! exports provided: TeamsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TeamsModule", function() { return TeamsModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/flex-layout */ "./node_modules/@angular/flex-layout/esm5/flex-layout.es5.js");
/* harmony import */ var _teams_routing_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./teams-routing.module */ "./src/app/modules/teams/teams-routing.module.ts");
/* harmony import */ var _components_teams_dashboard_teams_dashboard_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/teams-dashboard/teams-dashboard.component */ "./src/app/modules/teams/components/teams-dashboard/teams-dashboard.component.ts");
/* harmony import */ var _modules_shared_custom_material_design_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../modules/shared/custom-material-design.module */ "./src/app/modules/shared/custom-material-design.module.ts");
/* harmony import */ var _components_teams_edit_teams_edit_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/teams-edit/teams-edit.component */ "./src/app/modules/teams/components/teams-edit/teams-edit.component.ts");
/* harmony import */ var _teams_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./teams.service */ "./src/app/modules/teams/teams.service.ts");
/* harmony import */ var _components_add_person_to_team_dialog_add_person_to_team_dialog_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/add-person-to-team-dialog/add-person-to-team-dialog.component */ "./src/app/modules/teams/components/add-person-to-team-dialog/add-person-to-team-dialog.component.ts");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../shared/shared.module */ "./src/app/modules/shared/shared.module.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};











var TeamsModule = /** @class */ (function () {
    function TeamsModule() {
    }
    TeamsModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _teams_routing_module__WEBPACK_IMPORTED_MODULE_4__["TeamsRoutingModule"],
                _modules_shared_custom_material_design_module__WEBPACK_IMPORTED_MODULE_6__["CustomMaterialDesignModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _angular_flex_layout__WEBPACK_IMPORTED_MODULE_3__["FlexLayoutModule"],
                _shared_shared_module__WEBPACK_IMPORTED_MODULE_10__["SharedModule"]
            ],
            declarations: [
                _components_teams_dashboard_teams_dashboard_component__WEBPACK_IMPORTED_MODULE_5__["TeamsDashboardComponent"],
                _components_teams_edit_teams_edit_component__WEBPACK_IMPORTED_MODULE_7__["TeamsEditComponent"],
                _components_add_person_to_team_dialog_add_person_to_team_dialog_component__WEBPACK_IMPORTED_MODULE_9__["AddPersonToTeamDialogComponent"]
            ],
            entryComponents: [
                _components_add_person_to_team_dialog_add_person_to_team_dialog_component__WEBPACK_IMPORTED_MODULE_9__["AddPersonToTeamDialogComponent"] //added as material doc suggest to allow AOT on this on the fly created class
            ],
            providers: [_teams_service__WEBPACK_IMPORTED_MODULE_8__["TeamsService"]]
        })
    ], TeamsModule);
    return TeamsModule;
}());



/***/ }),

/***/ "./src/app/modules/teams/teams.service.ts":
/*!************************************************!*\
  !*** ./src/app/modules/teams/teams.service.ts ***!
  \************************************************/
/*! exports provided: TeamsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TeamsService", function() { return TeamsService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../app.service */ "./src/app/app.service.ts");
/* harmony import */ var _models_team__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./models/team */ "./src/app/modules/teams/models/team.ts");
/* harmony import */ var _users_models_user__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../users/models/user */ "./src/app/modules/users/models/user.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var TeamsService = /** @class */ (function () {
    function TeamsService(http, appService) {
        this.http = http;
        this.appService = appService;
        this.serverHost = _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].apiHost + '/api/teams';
        this.headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]().set('Content-Type', 'application/json');
    }
    /**
     * Server call to Create a new team in the system
     * @param postData
     *
     * @return { Observable<Team> }
     */
    TeamsService.prototype.create$ = function (postData) {
        var _this = this;
        if (postData === void 0) { postData = {}; }
        var methodTrace = this.constructor.name + " > create$() > "; // for debugging
        return this.http.post(this.serverHost + "/create", postData, { headers: this.headers }).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["map"])(this.appService.extractData), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["catchError"])(this.appService.handleError), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["flatMap"])(function (data) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["of"])(_this.populate(data));
        }));
    };
    /**
     * Server call to Update a team in the system
     * @param postData
     *
     * @return { Observable<Team> }
     */
    TeamsService.prototype.update$ = function (postData) {
        var _this = this;
        if (postData === void 0) { postData = {}; }
        var methodTrace = this.constructor.name + " > update$() > "; // for debugging
        return this.http.post(this.serverHost + "/update", postData, { headers: this.headers }).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["map"])(this.appService.extractData), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["catchError"])(this.appService.handleError), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["flatMap"])(function (data) {
            if (data && data.team && data.team.slug) {
                var messages = [
                    {
                        message: "Team \"" + data.team.name + "\" successfully updated!",
                        type: 'success'
                    }
                ];
                if (data.usersNotRegistered.length) {
                    // handle not registered users
                    var message = {
                        message: "The following emails added to the team are not registered users in AtomiCoconut: ",
                        duration: 8000
                    };
                    for (var _i = 0, _a = data.usersNotRegistered; _i < _a.length; _i++) {
                        var email = _a[_i];
                        message.message += "\"" + email + "\", ";
                    }
                    message.message = message.message.slice(0, -2); // remove last comma char
                    message.message += '. We sent them an email to create an account. Once they do it try to add them again.';
                    messages.push(message);
                }
                _this.appService.showManyResults(messages);
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["of"])(_this.populate(data.team));
            }
            else {
                _this.appService.consoleLog('error', methodTrace + " Unexpected data format.");
            }
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["of"])(null);
        }));
    };
    /**
     * Server call to Get a team from the server based on its slug
     * @param {string} slug . The team slug
     *
     * @return { Observable<Team> }
     */
    TeamsService.prototype.getMyTeamBySlug$ = function (email, slug) {
        var _this = this;
        var methodTrace = this.constructor.name + " > getMyTeamBySlug$() > "; // for debugging
        if (!email || !slug) {
            this.appService.consoleLog('error', methodTrace + " Required parameters missing.");
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["of"])(null);
        }
        var params = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpParams"]()
            .set('email', email)
            .set('slug', slug);
        return this.http.get(this.serverHost + "/getMyTeamBySlug", { params: params }).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["map"])(this.appService.extractData), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["catchError"])(this.appService.handleError), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["flatMap"])(function (data) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["of"])(_this.populate(data));
        }));
    };
    /**
     * Server call to Get all the teams for the current user from the server
     * @param {string} slug . The team slug
     *
     * @return { Observable<Team[]> }
     */
    TeamsService.prototype.getTeams$ = function (email) {
        var _this = this;
        var methodTrace = this.constructor.name + " > getTeams$() > "; // for debugging
        if (!email) {
            this.appService.consoleLog('error', methodTrace + " Required parameters missing.");
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["of"])([]);
        }
        var params = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpParams"]().set('email', email);
        var teamsData$ = this.http.get(this.serverHost + "/getAll", { params: params })
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["map"])(this.appService.extractData), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["catchError"])(this.appService.handleError));
        return teamsData$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["flatMap"])(function (teamsData) {
            var teams = [];
            if (teamsData && teamsData instanceof Array) {
                for (var _i = 0, teamsData_1 = teamsData; _i < teamsData_1.length; _i++) {
                    var item = teamsData_1[_i];
                    teams.push(_this.populate(item));
                }
            }
            else {
                _this.appService.consoleLog('error', methodTrace + " Unexpected data format.");
            }
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["of"])(teams);
        }));
    };
    /**
     * Populates a team from an object from server
     * @param { any } teamData
     *
     * @return { Team }
     */
    TeamsService.prototype.populate = function (teamData) {
        var methodTrace = this.constructor.name + " > populate() > "; // for debugging
        if (teamData && teamData.slug) {
            // populate admin
            var admin = new _users_models_user__WEBPACK_IMPORTED_MODULE_5__["User"](teamData.admin.name, teamData.admin.email, teamData.admin.gravatar);
            // populate members
            var members = [];
            for (var _i = 0, _a = teamData.members; _i < _a.length; _i++) {
                var member = _a[_i];
                var newMember = new _users_models_user__WEBPACK_IMPORTED_MODULE_5__["User"](member.name, member.email, member.gravatar);
                members.push(newMember);
            }
            // create team
            return new _models_team__WEBPACK_IMPORTED_MODULE_4__["Team"](teamData.name, teamData.description || null, teamData.slug, admin, members);
        }
        else {
            this.appService.consoleLog('error', methodTrace + " Unexpected data format.");
        }
        return null;
    };
    /**
     * Server call to Get all the teams for the current user from the server
     * @param {string} slug . The team slug
     * @param {string} email . The current user email.
     *
     * @return { Observable<any> }
     */
    TeamsService.prototype.delete$ = function (slug, email) {
        var methodTrace = this.constructor.name + " > delete$() > "; // for debugging
        if (!slug || !email) {
            this.appService.consoleLog('error', methodTrace + " Required parameters missing.");
            return rxjs__WEBPACK_IMPORTED_MODULE_6__["Observable"].throw(null);
        }
        var params = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpParams"]().set('email', email);
        return this.http.delete(this.serverHost + "/delete/" + slug, { headers: this.headers, params: params })
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["map"])(this.appService.extractData), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["catchError"])(this.appService.handleError));
    };
    TeamsService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"], _app_service__WEBPACK_IMPORTED_MODULE_3__["AppService"]])
    ], TeamsService);
    return TeamsService;
}());



/***/ }),

/***/ "./src/app/modules/users/components/account-finance-info/account-finance-info.component.html":
/*!***************************************************************************************************!*\
  !*** ./src/app/modules/users/components/account-finance-info/account-finance-info.component.html ***!
  \***************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\r\n<div class=\"container__account-finance\" fxLayout=\"column\" fxLayoutAlign=\"none none\" fxLayout.gt-xs=\"row\" fxLayoutAlign.gt-xs=\"center none\" fxLayoutGap=\"10px\">\r\n  <form class=\"form__container form__account-finance\" #financeForm=\"ngForm\" (ngSubmit)=\"onSubmit()\" novalidate fxLayout=\"column\" fxLayoutGap=\"10px\" >\r\n    <section fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"form__fields\">      \r\n      <div fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n\r\n          <!-- Active income -->\r\n          <div fxLayout=\"row\" fxLayoutGap=\"10px\">\r\n            <currency-unit fxFlex=\"50px\"\r\n                [id]=\"'annualIncomeUnit'\" \r\n                [value]=\"model.annualIncomeUnit\"\r\n                [view]=\"'narrow'\"\r\n                (newValue)=\"onCurrencyUnitChange($event)\">\r\n            </currency-unit>\r\n            \r\n            <mat-form-field fxFlex fxFlex.gt-xs=\"300px\" class=\"form__field\">\r\n              <input matInput type=\"number\" id=\"annualIncome\" name=\"annualIncome\" placeholder=\"Annual Income\"\r\n                  [(ngModel)]=\"model.annualIncome\" \r\n                  value=\"model.annualIncome\"\r\n                  numberValidator \r\n                  #annualIncome=\"ngModel\">\r\n              <mat-hint align=\"start\">Annual income amount pre-tax.</mat-hint>\r\n              <mat-error *ngIf=\"annualIncome.invalid && (annualIncome.dirty || annualIncome.touched) && annualIncome.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n            </mat-form-field>\r\n          </div>\r\n\r\n          <!-- Tax rate -->\r\n          <div fxFlex=\"none\" fxFlex.gt-xs fxLayout=\"column\" class=\"form__field slider__field\">\r\n            <label class=\"slider__label\">Income tax rate</label>\r\n            <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"start center\">\r\n              <mat-slider fxFlex id=\"incomeTaxRate\" name=\"incomeTaxRate\"\r\n                  color=\"accent\"\r\n                  [max]=\"50\"\r\n                  [min]=\"0\"\r\n                  [step]=\"1\"\r\n                  thumbLabel=\"true\"\r\n                  tickInterval=\"1\"\r\n                  [(ngModel)]=\"model.incomeTaxRate\"\r\n                  [value]=\"model.incomeTaxRate\"> \r\n              </mat-slider>\r\n              <span *ngIf=\"model.incomeTaxRate\">{{model.incomeTaxRate}}%</span>\r\n            </div>\r\n            <label class=\"mat-hint slider__label__hint\">Percentage of your income being taxed.</label>\r\n          </div>\r\n        </div>\r\n\r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n          <!-- Savings -->\r\n          <div fxLayout=\"row\" fxLayoutGap=\"10px\">\r\n            <currency-unit fxFlex=\"50px\"\r\n                [id]=\"'savingsUnit'\" \r\n                [value]=\"model.savingsUnit\"\r\n                [view]=\"'narrow'\"\r\n                (newValue)=\"onCurrencyUnitChange($event)\">\r\n            </currency-unit>\r\n            \r\n            <mat-form-field fxFlex fxFlex.gt-xs=\"300px\" class=\"form__field\">\r\n              <input matInput type=\"number\" id=\"savings\" name=\"savings\" placeholder=\"Current savings\" \r\n                  [(ngModel)]=\"model.savings\" \r\n                  value=\"model.savings\"\r\n                  numberValidator\r\n                  #savings=\"ngModel\">\r\n\r\n              <mat-error *ngIf=\"savings.invalid && (savings.dirty || savings.touched) && savings.errors.numberValidator\">Value must be numeric, with no more than two decimal digits</mat-error>\r\n            </mat-form-field>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n\r\n    <section class=\"form__actions form__actions--account-finance\"\r\n        fxLayout=\"column\" fxLayout.gt-sm=\"row\" \r\n        fxLayoutAlign=\"none start\" fxLayoutAlign.gt-sm=\"center start\" \r\n        fxLayoutGap=\"10px\">\r\n        \r\n      <button mat-fab *ngIf=\"!accountFinanceServiceRunning\" \r\n          class=\"fab mat-elevation-z10 form__action\" \r\n          color=\"accent\" \r\n          type=\"submit\"\r\n          matTooltip=\"Save changes\" matTooltipPosition=\"left\" \r\n          [disabled]=\"!financeForm.form.valid\">\r\n        <mat-icon aria-label=\"Save changes\">save</mat-icon>\r\n      </button>\r\n      \r\n      <mat-progress-spinner *ngIf=\"accountFinanceServiceRunning\"\r\n          class=\"progress-spinner progress-spinner--account-finance\"\r\n          color=\"accent\"\r\n          [diameter]=\"55\" [strokeWidth]=\"10\"\r\n          mode=\"indeterminate\">\r\n      </mat-progress-spinner>\r\n    </section>\r\n  </form>\r\n</div>"

/***/ }),

/***/ "./src/app/modules/users/components/account-finance-info/account-finance-info.component.scss":
/*!***************************************************************************************************!*\
  !*** ./src/app/modules/users/components/account-finance-info/account-finance-info.component.scss ***!
  \***************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvdXNlcnMvY29tcG9uZW50cy9hY2NvdW50LWZpbmFuY2UtaW5mby9hY2NvdW50LWZpbmFuY2UtaW5mby5jb21wb25lbnQuc2NzcyJ9 */"

/***/ }),

/***/ "./src/app/modules/users/components/account-finance-info/account-finance-info.component.ts":
/*!*************************************************************************************************!*\
  !*** ./src/app/modules/users/components/account-finance-info/account-finance-info.component.ts ***!
  \*************************************************************************************************/
/*! exports provided: AccountFinanceInfoComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountFinanceInfoComponent", function() { return AccountFinanceInfoComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _models_user__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models/user */ "./src/app/modules/users/models/user.ts");
/* harmony import */ var _users_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../users.service */ "./src/app/modules/users/users.service.ts");
/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../app.service */ "./src/app/app.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var AccountFinanceInfoComponent = /** @class */ (function () {
    function AccountFinanceInfoComponent(usersService, appService) {
        this.usersService = usersService;
        this.appService = appService;
        this.model = {
            email: null,
            annualIncome: null,
            annualIncomeUnit: null,
            incomeTaxRate: null,
            savings: null,
            savingsUnit: null
        };
        this.accountFinanceServiceRunning = false;
        this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_4__["Subscription"]();
    }
    AccountFinanceInfoComponent.prototype.ngOnInit = function () {
        var methodTrace = this.constructor.name + " > ngOnInit() > "; // for debugging
        this.model.email = this.user.email;
        this.model.annualIncomeUnit = this.user.currency;
        this.model.savingsUnit = this.user.currency;
        if (this.user.financialInfo) {
            Object.assign(this.model, {
                annualIncome: this.user.financialInfo.annualIncome,
                annualIncomeUnit: this.user.financialInfo.annualIncomeUnit,
                incomeTaxRate: this.user.financialInfo.incomeTaxRate,
                savings: this.user.financialInfo.savings,
                savingsUnit: this.user.financialInfo.savingsUnit
            });
        }
    };
    AccountFinanceInfoComponent.prototype.ngOnDestroy = function () {
        var methodTrace = this.constructor.name + " > ngOnDestroy() > "; // for debugging
        // this.appService.consoleLog('info', `${methodTrace} Component destroyed.`);
        this.subscription.unsubscribe();
    };
    AccountFinanceInfoComponent.prototype.onCurrencyUnitChange = function ($event) {
        if ($event.source.id === 'annualIncomeUnit') {
            this.model.annualIncomeUnit = $event.value;
        }
        else if ($event.source.id === 'savingsUnit') {
            this.model.savingsUnit = $event.value;
        }
    };
    AccountFinanceInfoComponent.prototype.onSubmit = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > onSubmit() > "; // for debugging
        this.accountFinanceServiceRunning = true;
        // call the account service
        var newSubscription = this.usersService.updateFinancialInfo$(this.model).subscribe(function (user) {
            if (user) {
                _this.appService.showResults("Your financial information was successfully updated!.", 'success');
            }
            _this.accountFinanceServiceRunning = false;
        }, function (error) {
            _this.appService.consoleLog('error', methodTrace + " There was an error in the server while performing this action > " + error);
            if (error.codeno === 400) {
                _this.appService.showResults("There was an error in the server while performing this action, please try again in a few minutes.", 'error');
            }
            else {
                _this.appService.showResults("There was an error with this service and the information provided.", 'error');
            }
            _this.accountFinanceServiceRunning = false;
        });
        this.subscription.add(newSubscription);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _models_user__WEBPACK_IMPORTED_MODULE_1__["User"])
    ], AccountFinanceInfoComponent.prototype, "user", void 0);
    AccountFinanceInfoComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'account-finance-info',
            template: __webpack_require__(/*! ./account-finance-info.component.html */ "./src/app/modules/users/components/account-finance-info/account-finance-info.component.html"),
            styles: [__webpack_require__(/*! ./account-finance-info.component.scss */ "./src/app/modules/users/components/account-finance-info/account-finance-info.component.scss")]
        }),
        __metadata("design:paramtypes", [_users_service__WEBPACK_IMPORTED_MODULE_2__["UsersService"], _app_service__WEBPACK_IMPORTED_MODULE_3__["AppService"]])
    ], AccountFinanceInfoComponent);
    return AccountFinanceInfoComponent;
}());



/***/ }),

/***/ "./src/app/modules/users/components/account-personal-info/account-personal-info.component.html":
/*!*****************************************************************************************************!*\
  !*** ./src/app/modules/users/components/account-personal-info/account-personal-info.component.html ***!
  \*****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container__account-personal\" fxLayout=\"column\" fxLayoutAlign=\"none none\" fxLayout.gt-xs=\"row\" fxLayoutAlign.gt-xs=\"center none\" fxLayoutGap=\"10px\">\r\n  <form class=\"form__container form__account-personal\" #personalInfoForm=\"ngForm\" (ngSubmit)=\"onSubmit()\" novalidate fxLayout=\"column\" fxLayoutGap=\"10px\" >\r\n    <section fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"form__fields\">      \r\n      <div fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n\r\n          <!-- Birthday -->\r\n          <mat-form-field fxFlex fxFlex.gt-xs=\"300px\" class=\"form__field\">\r\n            <input placeholder=\"Day of birth\"\r\n                id=\"birthday\"\r\n                name=\"birthday\"\r\n                readonly\r\n                required\r\n                #birthday=\"ngModel\"\r\n                matInput \r\n                [(ngModel)]=\"model.birthday\" \r\n                [matDatepicker]=\"pickerBirthday\"\r\n                (click)=\"pickerBirthday.open()\">\r\n            <mat-datepicker-toggle matSuffix [for]=\"pickerBirthday\"></mat-datepicker-toggle>\r\n            <mat-datepicker [touchUi]=\"utilService.isGtSm() ? false : true\" #pickerBirthday startView=\"year\" [startAt]=\"startAt\"></mat-datepicker>\r\n            <mat-error *ngIf=\"birthday.invalid && (birthday.dirty || birthday.touched) && birthday.errors.matDatepickerParse\">Day of birth is invalid or not follow the pattern \"mm/dd/yyyy\"</mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    \r\n    <section class=\"form__actions form__actions--account-personal\"\r\n        fxLayout=\"column\" fxLayout.gt-sm=\"row\" \r\n        fxLayoutAlign=\"none start\" fxLayoutAlign.gt-sm=\"center start\" \r\n        fxLayoutGap=\"10px\">\r\n        \r\n      <button mat-fab *ngIf=\"!accountPersonalServiceRunning\" \r\n          class=\"fab mat-elevation-z10 form__action\" \r\n          color=\"accent\" \r\n          type=\"submit\"\r\n          matTooltip=\"Save changes\" matTooltipPosition=\"left\" \r\n          [disabled]=\"!personalInfoForm.form.valid\">\r\n        <mat-icon aria-label=\"Save changes\">save</mat-icon>\r\n      </button>\r\n      \r\n      <mat-progress-spinner *ngIf=\"accountPersonalServiceRunning\"\r\n          class=\"progress-spinner progress-spinner--account-personal\"\r\n          color=\"accent\"\r\n          [diameter]=\"55\" [strokeWidth]=\"10\"\r\n          mode=\"indeterminate\">\r\n      </mat-progress-spinner>\r\n    </section>\r\n  </form>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/modules/users/components/account-personal-info/account-personal-info.component.scss":
/*!*****************************************************************************************************!*\
  !*** ./src/app/modules/users/components/account-personal-info/account-personal-info.component.scss ***!
  \*****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvdXNlcnMvY29tcG9uZW50cy9hY2NvdW50LXBlcnNvbmFsLWluZm8vYWNjb3VudC1wZXJzb25hbC1pbmZvLmNvbXBvbmVudC5zY3NzIn0= */"

/***/ }),

/***/ "./src/app/modules/users/components/account-personal-info/account-personal-info.component.ts":
/*!***************************************************************************************************!*\
  !*** ./src/app/modules/users/components/account-personal-info/account-personal-info.component.ts ***!
  \***************************************************************************************************/
/*! exports provided: AccountPersonalInfoComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountPersonalInfoComponent", function() { return AccountPersonalInfoComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _models_user__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../models/user */ "./src/app/modules/users/models/user.ts");
/* harmony import */ var _users_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../users.service */ "./src/app/modules/users/users.service.ts");
/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../app.service */ "./src/app/app.service.ts");
/* harmony import */ var _util_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../util.service */ "./src/app/util.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var AccountPersonalInfoComponent = /** @class */ (function () {
    function AccountPersonalInfoComponent(dateAdapter, usersService, appService, utilService) {
        this.dateAdapter = dateAdapter;
        this.usersService = usersService;
        this.appService = appService;
        this.utilService = utilService;
        this.model = { birthday: null, email: null };
        this.startAt = new Date(1990, 0, 1);
        this.accountPersonalServiceRunning = false;
        this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_6__["Subscription"]();
        this.dateAdapter.setLocale('en-GB');
    }
    AccountPersonalInfoComponent.prototype.ngOnInit = function () {
        this.model.email = this.user.email;
        if (this.user.personalInfo) {
            this.model.birthday = this.user.personalInfo.birthday;
            if (this.user.personalInfo.birthday) {
                this.startAt = this.user.personalInfo.birthday;
            }
        }
    };
    AccountPersonalInfoComponent.prototype.ngOnDestroy = function () {
        var methodTrace = this.constructor.name + " > ngOnDestroy() > "; // for debugging
        // this.appService.consoleLog('info', `${methodTrace} Component destroyed.`);
        this.subscription.unsubscribe();
    };
    AccountPersonalInfoComponent.prototype.onSubmit = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > onSubmit() > "; // for debugging
        this.accountPersonalServiceRunning = true;
        // call the account service
        var newSubscription = this.usersService.updatePersonalInfo$(this.model).subscribe(function (user) {
            if (user) {
                _this.appService.showResults("Your personal information was successfully updated!.", 'success');
            }
            _this.accountPersonalServiceRunning = false;
        }, function (error) {
            _this.appService.consoleLog('error', methodTrace + " There was an error in the server while performing this action > " + error);
            if (error.codeno === 400) {
                _this.appService.showResults("There was an error in the server while performing this action, please try again in a few minutes.", 'error');
            }
            else {
                _this.appService.showResults("There was an error with this service and the information provided.", 'error');
            }
            _this.accountPersonalServiceRunning = false;
        });
        this.subscription.add(newSubscription);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _models_user__WEBPACK_IMPORTED_MODULE_2__["User"])
    ], AccountPersonalInfoComponent.prototype, "user", void 0);
    AccountPersonalInfoComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'account-personal-info',
            template: __webpack_require__(/*! ./account-personal-info.component.html */ "./src/app/modules/users/components/account-personal-info/account-personal-info.component.html"),
            styles: [__webpack_require__(/*! ./account-personal-info.component.scss */ "./src/app/modules/users/components/account-personal-info/account-personal-info.component.scss")]
        }),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["DateAdapter"], _users_service__WEBPACK_IMPORTED_MODULE_3__["UsersService"], _app_service__WEBPACK_IMPORTED_MODULE_4__["AppService"],
            _util_service__WEBPACK_IMPORTED_MODULE_5__["UtilService"]])
    ], AccountPersonalInfoComponent);
    return AccountPersonalInfoComponent;
}());



/***/ }),

/***/ "./src/app/modules/users/components/account-user-info/account-user-info.component.html":
/*!*********************************************************************************************!*\
  !*** ./src/app/modules/users/components/account-user-info/account-user-info.component.html ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container__account-user\" fxLayout=\"column\" fxLayoutAlign=\"none none\" fxLayout.gt-xs=\"row\" fxLayoutAlign.gt-xs=\"center none\" fxLayoutGap=\"10px\">\r\n  <form class=\"form__container form__account-user\" #accountForm=\"ngForm\" (ngSubmit)=\"onSubmit()\" novalidate fxLayout=\"column\" fxLayoutGap=\"10px\" >\r\n    <section fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"form__fields\">      \r\n      <div fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n          <!-- Name -->\r\n          <mat-form-field fxFlex class=\"form__field\">\r\n            <input matInput type=\"text\" id=\"name\" name=\"name\" placeholder=\"Name\" \r\n                [(ngModel)]=\"model.name\" \r\n                required minlength=\"4\"\r\n                value=\"model.name\"\r\n                #name=\"ngModel\">\r\n\r\n            <mat-error *ngIf=\"name.invalid && (name.dirty || name.touched) && name.errors.required\">Name is required</mat-error>\r\n            <mat-error *ngIf=\"name.invalid && (name.dirty || name.touched) && name.errors.minlength\">Name must contains more than 4 characters</mat-error>\r\n          </mat-form-field>\r\n          \r\n          <!-- Preferred currency -->\r\n          <currency-unit fxFlex fxFlex.gt-xs=\"200px\"\r\n              [id]=\"'preferredCurrency'\"\r\n              [hint]=\"'Your preferred currency format to use across the platform'\" \r\n              [placeHolder]=\"'Preferred currency'\" \r\n              [value]=\"model.currency\"\r\n              (newValue)=\"onCurrencyUnitChange($event)\">\r\n          </currency-unit>\r\n        </div>\r\n\r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n          <!-- Email -->\r\n          <mat-form-field fxFlex class=\"form__field\">\r\n            <input matInput type=\"email\" id=\"email\" name=\"email\" placeholder=\"Email address\" \r\n                [(ngModel)]=\"model.email\" \r\n                required email\r\n                value=\"model.email\"\r\n                #email=\"ngModel\">\r\n                \r\n            <mat-icon matPrefix>email</mat-icon>\r\n            <mat-error *ngIf=\"email.invalid && (email.dirty || email.touched) && email.errors.required\">Email is required</mat-error>\r\n            <mat-error *ngIf=\"email.invalid && (email.dirty || email.touched) && email.errors.email\">Email must be a valid email address</mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <section class=\"form__actions form__actions--account-user\"\r\n        fxLayout=\"column\" fxLayout.gt-sm=\"row\" \r\n        fxLayoutAlign=\"none start\" fxLayoutAlign.gt-sm=\"center start\" \r\n        fxLayoutGap=\"10px\">\r\n        \r\n      <button mat-fab *ngIf=\"!updateAccountServiceRunning\" \r\n          class=\"fab mat-elevation-z10 form__action\" \r\n          color=\"accent\" \r\n          type=\"submit\"\r\n          matTooltip=\"Save changes\" matTooltipPosition=\"left\" \r\n          [disabled]=\"!accountForm.form.valid\">\r\n        <mat-icon aria-label=\"Save changes\">save</mat-icon>\r\n      </button>\r\n      \r\n      <mat-progress-spinner *ngIf=\"updateAccountServiceRunning\"\r\n          class=\"progress-spinner progress-spinner--account-user\"\r\n          color=\"accent\"\r\n          [diameter]=\"55\" [strokeWidth]=\"10\"\r\n          mode=\"indeterminate\">\r\n      </mat-progress-spinner>\r\n    </section>\r\n  </form>\r\n</div>"

/***/ }),

/***/ "./src/app/modules/users/components/account-user-info/account-user-info.component.scss":
/*!*********************************************************************************************!*\
  !*** ./src/app/modules/users/components/account-user-info/account-user-info.component.scss ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "form .form__actions .progress-bar {\n  width: 100%; }\n\n@media screen and (min-width: 600px) {\n  form .form__actions .progress-bar {\n    width: 88px; } }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy91c2Vycy9jb21wb25lbnRzL2FjY291bnQtdXNlci1pbmZvL0M6XFx3M1xcYXRvbWlDb2NvbnV0XFxjbGllbnQvc3JjXFxhcHBcXG1vZHVsZXNcXHVzZXJzXFxjb21wb25lbnRzXFxhY2NvdW50LXVzZXItaW5mb1xcYWNjb3VudC11c2VyLWluZm8uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFLTSxZQUFXLEVBQ1o7O0FBSUw7RUFFRTtJQUtNLFlBQVcsRUFDWixFQUFBIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy91c2Vycy9jb21wb25lbnRzL2FjY291bnQtdXNlci1pbmZvL2FjY291bnQtdXNlci1pbmZvLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCAnLi4vLi4vLi4vLi4vLi4vdmFyaWFibGVzJztcclxuXHJcbmZvcm0ge1xyXG4gIFxyXG4gIC5mb3JtX19hY3Rpb25zIHtcclxuXHJcbiAgICAucHJvZ3Jlc3MtYmFyIHtcclxuICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAkc2NyZWVuR3RYcykge1xyXG4gIFxyXG4gIGZvcm0ge1xyXG4gICAgXHJcbiAgICAuZm9ybV9fYWN0aW9ucyB7XHJcbiAgXHJcbiAgICAgIC5wcm9ncmVzcy1iYXIge1xyXG4gICAgICAgIHdpZHRoOiA4OHB4O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59Il19 */"

/***/ }),

/***/ "./src/app/modules/users/components/account-user-info/account-user-info.component.ts":
/*!*******************************************************************************************!*\
  !*** ./src/app/modules/users/components/account-user-info/account-user-info.component.ts ***!
  \*******************************************************************************************/
/*! exports provided: AccountUserInfoComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountUserInfoComponent", function() { return AccountUserInfoComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _models_user__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models/user */ "./src/app/modules/users/models/user.ts");
/* harmony import */ var _users_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../users.service */ "./src/app/modules/users/users.service.ts");
/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../app.service */ "./src/app/app.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var AccountUserInfoComponent = /** @class */ (function () {
    function AccountUserInfoComponent(usersService, appService) {
        this.usersService = usersService;
        this.appService = appService;
        this.user = null;
        this.model = { name: '', email: '', currency: '' };
        this.updateAccountServiceRunning = false;
        this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_4__["Subscription"]();
    }
    AccountUserInfoComponent.prototype.ngOnInit = function () {
        this.model = { name: this.user.name, email: this.user.email, currency: this.user.currency };
    };
    AccountUserInfoComponent.prototype.ngOnDestroy = function () {
        var methodTrace = this.constructor.name + " > ngOnDestroy() > "; // for debugging
        // this.appService.consoleLog('info', `${methodTrace} Component destroyed.`);
        this.subscription.unsubscribe();
    };
    AccountUserInfoComponent.prototype.onCurrencyUnitChange = function ($event) {
        if ($event.source.id === 'preferredCurrency') {
            this.model.currency = $event.value;
        }
    };
    /**
     * When user submits the register form.
     */
    AccountUserInfoComponent.prototype.onSubmit = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > onSubmit() > "; // for debugging
        this.updateAccountServiceRunning = true;
        // call the account service
        var newSubscription = this.usersService.updateAccount$(this.model).subscribe(function (user) {
            if (user) {
                _this.appService.showResults("Your profile was successfully updated!.", 'success');
            }
            _this.updateAccountServiceRunning = false;
        }, function (error) {
            _this.appService.consoleLog('error', methodTrace + " There was an error in the server while performing this action > " + error);
            if (error.codeno === 400) {
                _this.appService.showResults("There was an error in the server while performing this action, please try again in a few minutes.", 'error');
            }
            else {
                _this.appService.showResults("There was an error with this service and the information provided.", 'error');
            }
            _this.updateAccountServiceRunning = false;
        });
        this.subscription.add(newSubscription);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _models_user__WEBPACK_IMPORTED_MODULE_1__["User"])
    ], AccountUserInfoComponent.prototype, "user", void 0);
    AccountUserInfoComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'account-user-info',
            template: __webpack_require__(/*! ./account-user-info.component.html */ "./src/app/modules/users/components/account-user-info/account-user-info.component.html"),
            styles: [__webpack_require__(/*! ./account-user-info.component.scss */ "./src/app/modules/users/components/account-user-info/account-user-info.component.scss")]
        }),
        __metadata("design:paramtypes", [_users_service__WEBPACK_IMPORTED_MODULE_2__["UsersService"], _app_service__WEBPACK_IMPORTED_MODULE_3__["AppService"]])
    ], AccountUserInfoComponent);
    return AccountUserInfoComponent;
}());



/***/ }),

/***/ "./src/app/modules/users/components/account/account.component.html":
/*!*************************************************************************!*\
  !*** ./src/app/modules/users/components/account/account.component.html ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- SM and higher view -->\r\n<mat-tab-group *ngIf=\"utilService.isGtXs()\">\r\n  <mat-tab label=\"Account info\">\r\n    <account-user-info [user]=\"user\"></account-user-info>\r\n  </mat-tab>\r\n  <mat-tab label=\"Personal info\">\r\n    <account-personal-info [user]=\"user\"></account-personal-info>\r\n  </mat-tab>\r\n  <mat-tab label=\"Financial info\">\r\n    <account-finance-info [user]=\"user\"></account-finance-info>\r\n  </mat-tab>\r\n</mat-tab-group>\r\n\r\n<!-- XS view -->\r\n<mat-accordion *ngIf=\"utilService.isXs()\">  \r\n  <mat-expansion-panel>\r\n    <mat-expansion-panel-header>\r\n      Account info\r\n    </mat-expansion-panel-header>\r\n\r\n    <account-user-info [user]=\"user\"></account-user-info>\r\n  </mat-expansion-panel>\r\n\r\n  <mat-expansion-panel>\r\n    <mat-expansion-panel-header>\r\n      Personal info\r\n    </mat-expansion-panel-header>\r\n\r\n    <account-personal-info [user]=\"user\"></account-personal-info>\r\n  </mat-expansion-panel>\r\n\r\n  <mat-expansion-panel>\r\n    <mat-expansion-panel-header>\r\n      Financial info\r\n    </mat-expansion-panel-header>\r\n\r\n    <account-finance-info [user]=\"user\"></account-finance-info>\r\n  </mat-expansion-panel>\r\n\r\n</mat-accordion>"

/***/ }),

/***/ "./src/app/modules/users/components/account/account.component.scss":
/*!*************************************************************************!*\
  !*** ./src/app/modules/users/components/account/account.component.scss ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvdXNlcnMvY29tcG9uZW50cy9hY2NvdW50L2FjY291bnQuY29tcG9uZW50LnNjc3MifQ== */"

/***/ }),

/***/ "./src/app/modules/users/components/account/account.component.ts":
/*!***********************************************************************!*\
  !*** ./src/app/modules/users/components/account/account.component.ts ***!
  \***********************************************************************/
/*! exports provided: AccountComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountComponent", function() { return AccountComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _util_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../util.service */ "./src/app/util.service.ts");
/* harmony import */ var _shared_components_main_navigator_main_navigator_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/components/main-navigator/main-navigator.service */ "./src/app/modules/shared/components/main-navigator/main-navigator.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var AccountComponent = /** @class */ (function () {
    function AccountComponent(mainNavigatorService, route, utilService) {
        this.mainNavigatorService = mainNavigatorService;
        this.route = route;
        this.utilService = utilService;
        this.user = null;
    }
    AccountComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.mainNavigatorService.setLinks([
            { displayName: 'Welcome', url: '/welcome', selected: false },
            { displayName: 'My account', url: null, selected: true }
        ]);
        // get authUser from resolver
        this.route.data.subscribe(function (data) {
            _this.user = data.authUser;
        });
    };
    AccountComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-account',
            template: __webpack_require__(/*! ./account.component.html */ "./src/app/modules/users/components/account/account.component.html"),
            styles: [__webpack_require__(/*! ./account.component.scss */ "./src/app/modules/users/components/account/account.component.scss")]
        }),
        __metadata("design:paramtypes", [_shared_components_main_navigator_main_navigator_service__WEBPACK_IMPORTED_MODULE_3__["MainNavigatorService"], _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"], _util_service__WEBPACK_IMPORTED_MODULE_2__["UtilService"]])
    ], AccountComponent);
    return AccountComponent;
}());



/***/ }),

/***/ "./src/app/modules/users/components/login/login.component.html":
/*!*********************************************************************!*\
  !*** ./src/app/modules/users/components/login/login.component.html ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container__login\" fxLayout=\"column\" fxLayoutAlign=\"none none\" fxLayoutAlign.gt-xs=\"none center\" fxLayoutGap=\"10px\">\r\n  <form class=\"form__container form__login\" #loginForm=\"ngForm\" (ngSubmit)=\"onSubmit()\" novalidate fxLayout=\"column\" fxLayoutGap=\"10px\" >\r\n    <section fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"form__fields\" *ngIf=\"!forgotModel.forgot\">      \r\n      <div fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n          <!-- Email -->\r\n          <mat-form-field fxFlex fxFlex.gt-xs=\"450px\" class=\"form__field\">\r\n            <input matInput type=\"email\" id=\"email\" name=\"email\" placeholder=\"Email address\" \r\n                [(ngModel)]=\"model.email\" \r\n                required email\r\n                #email=\"ngModel\">\r\n\r\n            <mat-icon matPrefix>email</mat-icon>\r\n            <mat-error *ngIf=\"email.invalid && (email.dirty || email.touched) && email.errors.required\">Email is required</mat-error>\r\n            <mat-error *ngIf=\"email.invalid && (email.dirty || email.touched) && email.errors.email\">Email must be a valid email address</mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n\r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n          <!-- Password -->\r\n          <mat-form-field  class=\"form__field field__password\">\r\n            <input matInput [type]=\"showPassword ? 'text' : 'password'\" id=\"password\" name=\"password\" placeholder=\"Password\" \r\n                [(ngModel)]=\"model.password\" \r\n                required minlength=\"3\" maxlength=\"8\"\r\n                #password=\"ngModel\">\r\n            \r\n            <mat-icon matPrefix>vpn_key</mat-icon>\r\n            <mat-icon class=\"icon__suffix\" matSuffix matTooltip=\"Show password\" *ngIf=\"!showPassword\" (click)=\"showPassword = true\">visibility</mat-icon>\r\n            <mat-icon class=\"icon__suffix\" matSuffix matTooltip=\"Hide password\" *ngIf=\"showPassword\" (click)=\"showPassword = false\">visibility_off</mat-icon>\r\n            <mat-error *ngIf=\"password.invalid && (password.dirty || password.touched) && password.errors.required\">Password is required</mat-error>\r\n            <mat-error *ngIf=\"password.invalid && (password.dirty || password.touched) && password.errors.minlength\">Password must be longer than 3 characters</mat-error>\r\n            <mat-error *ngIf=\"password.invalid && (password.dirty || password.touched) && password.errors.maxlength\">Password must be shorter than 8 characters</mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n      </div>\r\n    </section>\r\n\r\n    <section class=\"form__actions form__actions--login\"\r\n        fxLayout=\"row\" fxFlexAlign=\"center\"\r\n        fxLayoutGap=\"10px\" *ngIf=\"!forgotModel.forgot\">\r\n        \r\n      <button mat-fab *ngIf=\"!loginServiceRunning\" \r\n          class=\"fab mat-elevation-z10 form__action\" \r\n          color=\"accent\" \r\n          type=\"submit\"\r\n          matTooltip=\"Login\" matTooltipPosition=\"left\" \r\n          [disabled]=\"!loginForm.form.valid\">\r\n        <mat-icon aria-label=\"Login\">arrow_forward</mat-icon>\r\n      </button>\r\n      \r\n      <mat-progress-spinner *ngIf=\"loginServiceRunning\"\r\n          class=\"progress-spinner progress-spinner--login\"\r\n          color=\"accent\"\r\n          [diameter]=\"55\" [strokeWidth]=\"10\"\r\n          mode=\"indeterminate\">\r\n      </mat-progress-spinner>\r\n    </section>\r\n\r\n    <section fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"form__fields\">      \r\n      <div fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"none center\" fxLayoutAlign.gt-xs=\"center none\" class=\"form__fields__row\">\r\n          <!-- Forgot my password checkbox  -->\r\n          <mat-checkbox [(ngModel)]=\"forgotModel.forgot\" name=\"forgot\" id=\"forgot\">Forgot my password</mat-checkbox>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </form>\r\n\r\n  <!-- Forgot password form -->\r\n  <form class=\"form__container form__forgot\" #forgotForm=\"ngForm\" (ngSubmit)=\"onForgotSubmit()\" novalidate fxLayout=\"column\" fxLayoutGap=\"10px\" *ngIf=\"forgotModel.forgot\">\r\n    <section fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"form__fields\">      \r\n      <div fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"none none\" fxLayoutGap=\"10px\" class=\"form__fields__row\">\r\n          <mat-form-field fxFlex fxFlex.gt-xs=\"450px\" class=\"form__field\">\r\n            <input matInput type=\"email\" id=\"emailForgot\" name=\"emailForgot\" placeholder=\"Email address\" \r\n                [(ngModel)]=\"forgotModel.email\" \r\n                required email\r\n                #emailForgot=\"ngModel\">\r\n    \r\n            <mat-icon matPrefix>email</mat-icon>\r\n            <mat-hint>Type your email and we will send you an email to reset your password.</mat-hint>\r\n            <mat-error *ngIf=\"emailForgot.invalid && (emailForgot.dirty || emailForgot.touched) && emailForgot.errors.required\">Email is required</mat-error>\r\n            <mat-error *ngIf=\"emailForgot.invalid && (emailForgot.dirty || emailForgot.touched) && emailForgot.errors.email\">Email must be a valid email address</mat-error>\r\n          </mat-form-field>\r\n\r\n          <button mat-mini-fab *ngIf=\"!forgotServiceRunning\" \r\n              class=\"fab mat-elevation-z10 form__action\" \r\n              color=\"primary\" \r\n              type=\"submit\"\r\n              matTooltip=\"Send\" matTooltipPosition=\"left\" \r\n              [disabled]=\"!forgotForm.form.valid\">\r\n            <mat-icon aria-label=\"Send\">arrow_forward</mat-icon>\r\n          </button>\r\n\r\n          <mat-progress-spinner *ngIf=\"forgotServiceRunning\"\r\n              class=\"progress-spinner progress-spinner--forgot\"\r\n              color=\"accent\"\r\n              [diameter]=\"40\" [strokeWidth]=\"7\"\r\n              mode=\"indeterminate\">\r\n          </mat-progress-spinner>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </form>\r\n\r\n  <div fxLayout=\"column\" fxLayoutGap=\"10px\" fxLayoutAlign=\"center none\" class=\"container__new-account\">\r\n    <p>I don't have an account yet</p>\r\n    <button mat-raised-button type=\"button\" color=\"primary\" class=\"color__almost-white\" routerLink=\"/users/register\">Create new account</button>\r\n  </div>\r\n</div>\r\n\r\n\r\n  "

/***/ }),

/***/ "./src/app/modules/users/components/login/login.component.scss":
/*!*********************************************************************!*\
  !*** ./src/app/modules/users/components/login/login.component.scss ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".container__login form .form__actions .fab, .container__login form .form__actions .progress-spinner {\n  position: relative; }\n\n.container__login form .form__actions .fab {\n  -webkit-transform: translate(-50%, 0);\n          transform: translate(-50%, 0);\n  right: auto;\n  left: 50%; }\n\n.container__login form .form__actions .progress-spinner {\n  left: -28%; }\n\n.container__login .form__login .field__password .icon__suffix {\n  cursor: pointer; }\n\n.container__login .container__new-account {\n  margin-top: 60px; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy91c2Vycy9jb21wb25lbnRzL2xvZ2luL0M6XFx3M1xcYXRvbWlDb2NvbnV0XFxjbGllbnQvc3JjXFxhcHBcXG1vZHVsZXNcXHVzZXJzXFxjb21wb25lbnRzXFxsb2dpblxcbG9naW4uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFPUSxtQkFBa0IsRUFDbkI7O0FBUlA7RUFXUSxzQ0FBNkI7VUFBN0IsOEJBQTZCO0VBQzdCLFlBQVc7RUFDWCxVQUFTLEVBQ1Y7O0FBZFA7RUFpQlEsV0FBVSxFQUNYOztBQWxCUDtFQXlCTSxnQkFBZSxFQUNoQjs7QUExQkw7RUE4QkksaUJBQWdCLEVBQ2pCIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy91c2Vycy9jb21wb25lbnRzL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCAnLi4vLi4vLi4vLi4vLi4vdmFyaWFibGVzJztcclxuXHJcbi5jb250YWluZXJfX2xvZ2luIHtcclxuXHJcbiAgZm9ybSB7XHJcblxyXG4gICAgLmZvcm1fX2FjdGlvbnMge1xyXG4gICAgICBcclxuICAgICAgLmZhYiwgLnByb2dyZXNzLXNwaW5uZXIge1xyXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmZhYiB7XHJcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgMCk7XHJcbiAgICAgICAgcmlnaHQ6IGF1dG87XHJcbiAgICAgICAgbGVmdDogNTAlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAucHJvZ3Jlc3Mtc3Bpbm5lciB7XHJcbiAgICAgICAgbGVmdDogLTI4JTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICAuZm9ybV9fbG9naW4ge1xyXG4gIFxyXG4gICAgLmZpZWxkX19wYXNzd29yZCAuaWNvbl9fc3VmZml4IHtcclxuICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLmNvbnRhaW5lcl9fbmV3LWFjY291bnQge1xyXG4gICAgbWFyZ2luLXRvcDogNjBweDtcclxuICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcbkBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6ICRzY3JlZW5HdFhzKSB7XHJcblxyXG59Il19 */"

/***/ }),

/***/ "./src/app/modules/users/components/login/login.component.ts":
/*!*******************************************************************!*\
  !*** ./src/app/modules/users/components/login/login.component.ts ***!
  \*******************************************************************/
/*! exports provided: LoginComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginComponent", function() { return LoginComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _users_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../users.service */ "./src/app/modules/users/users.service.ts");
/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../app.service */ "./src/app/app.service.ts");
/* harmony import */ var _shared_components_main_navigator_main_navigator_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/components/main-navigator/main-navigator.service */ "./src/app/modules/shared/components/main-navigator/main-navigator.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var LoginComponent = /** @class */ (function () {
    function LoginComponent(usersService, appService, mainNavigatorService, router, route) {
        this.usersService = usersService;
        this.appService = appService;
        this.mainNavigatorService = mainNavigatorService;
        this.router = router;
        this.route = route;
        this.model = { email: '', password: '' };
        this.forgotModel = { email: '', forgot: false };
        this.loginServiceRunning = false;
        this.forgotServiceRunning = false;
        this.showPassword = false;
        this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_6__["Subscription"]();
    }
    LoginComponent.prototype.ngOnInit = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > ngOnInit() > "; // for debugging
        this.mainNavigatorService.setLinks([
            { displayName: 'Welcome', url: '/welcome', selected: false },
            { displayName: 'Login', url: null, selected: true }
        ]);
        this.route.paramMap.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])(function (params) { return params.get('state'); }))
            .subscribe(function (state) {
            if (state === 'reset-password-token-expired') {
                _this.appService.showResults('Reset password token has expired or is invalid. Click on "Forgot my password" again to create a new one.', 'error', 10000);
            }
        });
    };
    LoginComponent.prototype.ngOnDestroy = function () {
        var methodTrace = this.constructor.name + " > ngOnDestroy() > "; // for debugging
        // this.appService.consoleLog('info', `${methodTrace} Component destroyed.`);
        this.subscription.unsubscribe();
    };
    /**
     * When user submits the login form
     */
    LoginComponent.prototype.onSubmit = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > onSubmit() > "; // for debugging
        this.loginServiceRunning = true;
        // call the register service
        var newSubscription = this.usersService.login$(this.model).subscribe(function (user) {
            if (user) {
                var redirectUrl = _this.usersService.routerRedirectUrl ? _this.usersService.routerRedirectUrl : '/';
                _this.usersService.routerRedirectUrl = null;
                _this.router.navigate([redirectUrl]);
            }
            _this.loginServiceRunning = false;
        }, function (error) {
            _this.appService.consoleLog('error', methodTrace + " There was an error in the server while performing this action > " + error);
            if (error.codeno === 400) {
                _this.appService.showResults("There was an error in the server while performing this action, please try again in a few minutes.", 'error');
            }
            else if (error.codeno === 451) {
                _this.appService.showResults(error.msg, 'error');
            }
            else {
                _this.appService.showResults("There was an error with this service and the information provided.", 'error');
            }
            _this.loginServiceRunning = false;
        });
        this.subscription.add(newSubscription);
    };
    /**
     * When user submits the forgot password form
     */
    LoginComponent.prototype.onForgotSubmit = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > onForgotSubmit() > "; // for debugging
        this.forgotServiceRunning = true;
        // call the register service
        var newSubscription = this.usersService.forgot$(this.forgotModel).subscribe(function (data) {
            if (data && data.email && data.expires) {
                _this.appService.showResults("We sent an email to " + data.email + " with a password reset link that will expire in " + data.expires + ".", 'info');
            }
            else {
                _this.appService.consoleLog('error', methodTrace + " Unexpected data format.");
            }
            _this.forgotServiceRunning = false;
        }, function (error) {
            _this.appService.consoleLog('error', methodTrace + " There was an error in the server while performing this action > " + error);
            if (error.codeno === 400) {
                _this.appService.showResults("There was an error in the server while performing this action, please try again in a few minutes.", 'error');
            }
            else if (error.codeno === 455) {
                // invalid email
                _this.appService.showResults(error.msg, 'error');
            }
            else {
                _this.appService.showResults("There was an error with this service and the information provided.", 'error');
            }
            _this.forgotServiceRunning = false;
        });
        this.subscription.add(newSubscription);
    };
    LoginComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'users-login',
            template: __webpack_require__(/*! ./login.component.html */ "./src/app/modules/users/components/login/login.component.html"),
            styles: [__webpack_require__(/*! ./login.component.scss */ "./src/app/modules/users/components/login/login.component.scss")]
        }),
        __metadata("design:paramtypes", [_users_service__WEBPACK_IMPORTED_MODULE_3__["UsersService"], _app_service__WEBPACK_IMPORTED_MODULE_4__["AppService"],
            _shared_components_main_navigator_main_navigator_service__WEBPACK_IMPORTED_MODULE_5__["MainNavigatorService"], _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"], _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"]])
    ], LoginComponent);
    return LoginComponent;
}());



/***/ }),

/***/ "./src/app/modules/users/components/register/register.component.html":
/*!***************************************************************************!*\
  !*** ./src/app/modules/users/components/register/register.component.html ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container__register\" fxLayout=\"column\" fxLayoutAlign=\"none none\" fxLayout.gt-xs=\"row\" fxLayoutAlign.gt-xs=\"center none\" fxLayoutGap=\"10px\">\r\n  <form class=\"form__container form__register\" #registerForm=\"ngForm\" (ngSubmit)=\"onSubmit()\" novalidate fxLayout=\"column\" fxLayoutGap=\"10px\" >\r\n    <section fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"form__fields\">      \r\n      <div fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n          <!-- Name -->\r\n          <mat-form-field fxFlex class=\"form__field\">\r\n            <input matInput type=\"text\" id=\"name\" name=\"name\" placeholder=\"Name\" \r\n                [(ngModel)]=\"model.name\" \r\n                required minlength=\"4\"\r\n                #name=\"ngModel\">\r\n\r\n            <mat-error *ngIf=\"name.invalid && (name.dirty || name.touched) && name.errors.required\">Name is required</mat-error>\r\n            <mat-error *ngIf=\"name.invalid && (name.dirty || name.touched) && name.errors.minlength\">Name must contains more than 4 characters</mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n\r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n          <!-- Email -->\r\n          <mat-form-field fxFlex class=\"form__field\">\r\n            <input matInput type=\"email\" id=\"email\" name=\"email\" placeholder=\"Email address\" \r\n                [(ngModel)]=\"model.email\" \r\n                required email\r\n                #email=\"ngModel\">\r\n\r\n            <mat-icon matPrefix>email</mat-icon>\r\n            <mat-error *ngIf=\"email.invalid && (email.dirty || email.touched) && email.errors.required\">Email is required</mat-error>\r\n            <mat-error *ngIf=\"email.invalid && (email.dirty || email.touched) && email.errors.email\">Email must be a valid email address</mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n\r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n          <!-- Password -->\r\n          <mat-form-field fxFlex class=\"form__field\">\r\n            <input matInput [type]=\"showPassword ? 'text' : 'password'\" id=\"password\" name=\"password\" placeholder=\"Password\" \r\n                [(ngModel)]=\"model.password\" \r\n                required minlength=\"3\" maxlength=\"8\" equalvalidator=\"passwordConfirm\" reverse=\"true\"\r\n                #password=\"ngModel\">\r\n\r\n            <mat-icon matPrefix>vpn_key</mat-icon>\r\n            <mat-icon class=\"icon__suffix\" matSuffix matTooltip=\"Show password\" *ngIf=\"!showPassword\" (click)=\"showPassword = true\">visibility</mat-icon>\r\n            <mat-icon class=\"icon__suffix\" matSuffix matTooltip=\"Hide password\" *ngIf=\"showPassword\" (click)=\"showPassword = false\">visibility_off</mat-icon>\r\n            <mat-error *ngIf=\"password.invalid && (password.dirty || password.touched) && password.errors.required\">Password is required</mat-error>\r\n            <mat-error *ngIf=\"password.invalid && (password.dirty || password.touched) && password.errors.minlength\">Password must be longer than 3 characters</mat-error>\r\n            <mat-error *ngIf=\"password.invalid && (password.dirty || password.touched) && password.errors.maxlength\">Password must be shorter than 8 characters</mat-error>\r\n          </mat-form-field>\r\n\r\n          <!-- Password confirm -->\r\n          <mat-form-field fxFlex class=\"form__field\">\r\n            <input matInput [type]=\"showPassword ? 'text' : 'password'\" id=\"passwordConfirm\" name=\"passwordConfirm\" placeholder=\"Confirm password\" \r\n                [(ngModel)]=\"model['password-confirm']\" \r\n                required minlength=\"3\" maxlength=\"8\" equalvalidator=\"password\"\r\n                #passwordConfirm=\"ngModel\">\r\n\r\n            <mat-icon matPrefix>vpn_key</mat-icon>\r\n            <mat-icon class=\"icon__suffix\" matSuffix matTooltip=\"Show password\" *ngIf=\"!showPassword\" (click)=\"showPassword = true\">visibility</mat-icon>\r\n            <mat-icon class=\"icon__suffix\" matSuffix matTooltip=\"Hide password\" *ngIf=\"showPassword\" (click)=\"showPassword = false\">visibility_off</mat-icon>\r\n            <mat-error *ngIf=\"passwordConfirm.invalid && (passwordConfirm.dirty || passwordConfirm.touched) && passwordConfirm.errors.required\">Confirm password is required</mat-error>\r\n            <mat-error *ngIf=\"passwordConfirm.invalid && (passwordConfirm.dirty || passwordConfirm.touched) && passwordConfirm.errors.minlength\">Confirm password must be longer than 3 characters</mat-error>\r\n            <mat-error *ngIf=\"passwordConfirm.invalid && (passwordConfirm.dirty || passwordConfirm.touched) && passwordConfirm.errors.maxlength\">Confirm password must be shorter than 8 characters</mat-error>\r\n            <mat-error *ngIf=\"passwordConfirm.invalid && (passwordConfirm.dirty || passwordConfirm.touched) && passwordConfirm.errors.equalvalidator\">Confirm password must match password</mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n      </div>\r\n    </section>\r\n\r\n    <section class=\"form__actions form__actions--register\"\r\n        fxLayout=\"column\" fxLayout.gt-sm=\"row\" \r\n        fxLayoutAlign=\"none start\" fxLayoutAlign.gt-sm=\"center start\" \r\n        fxLayoutGap=\"10px\">\r\n        \r\n      <button mat-fab *ngIf=\"!registerServiceRunning\" \r\n          class=\"fab mat-elevation-z10 form__action\" \r\n          color=\"accent\" \r\n          type=\"submit\"\r\n          matTooltip=\"Save account\" matTooltipPosition=\"left\" \r\n          [disabled]=\"!registerForm.form.valid\">\r\n        <mat-icon aria-label=\"Save account\">save</mat-icon>\r\n      </button>\r\n      \r\n      <mat-progress-spinner *ngIf=\"registerServiceRunning\"\r\n          class=\"progress-spinner progress-spinner--register\"\r\n          color=\"accent\"\r\n          [diameter]=\"55\" [strokeWidth]=\"10\"\r\n          mode=\"indeterminate\">\r\n      </mat-progress-spinner>\r\n    </section>\r\n  </form>\r\n</div>"

/***/ }),

/***/ "./src/app/modules/users/components/register/register.component.scss":
/*!***************************************************************************!*\
  !*** ./src/app/modules/users/components/register/register.component.scss ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvdXNlcnMvY29tcG9uZW50cy9yZWdpc3Rlci9yZWdpc3Rlci5jb21wb25lbnQuc2NzcyJ9 */"

/***/ }),

/***/ "./src/app/modules/users/components/register/register.component.ts":
/*!*************************************************************************!*\
  !*** ./src/app/modules/users/components/register/register.component.ts ***!
  \*************************************************************************/
/*! exports provided: RegisterComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RegisterComponent", function() { return RegisterComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _users_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../users.service */ "./src/app/modules/users/users.service.ts");
/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../app.service */ "./src/app/app.service.ts");
/* harmony import */ var _shared_components_main_navigator_main_navigator_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/components/main-navigator/main-navigator.service */ "./src/app/modules/shared/components/main-navigator/main-navigator.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var RegisterComponent = /** @class */ (function () {
    function RegisterComponent(usersService, appService, router, mainNavigatorService) {
        this.usersService = usersService;
        this.appService = appService;
        this.router = router;
        this.mainNavigatorService = mainNavigatorService;
        this.model = { name: '', email: '', password: '', 'password-confirm': '' };
        this.registerServiceRunning = false;
        this.showPassword = false;
        this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_5__["Subscription"]();
    }
    RegisterComponent.prototype.ngOnInit = function () {
        var methodTrace = this.constructor.name + " > ngOnInit() > "; // for debugging
        this.mainNavigatorService.setLinks([
            { displayName: 'Welcome', url: '/welcome', selected: false },
            { displayName: 'Login', url: '/users/login', selected: false },
            { displayName: 'Create account', url: null, selected: true }
        ]);
    };
    RegisterComponent.prototype.ngOnDestroy = function () {
        var methodTrace = this.constructor.name + " > ngOnDestroy() > "; // for debugging
        // this.appService.consoleLog('info', `${methodTrace} Component destroyed.`);
        this.subscription.unsubscribe();
    };
    /**
     * When user submits the register form.
     */
    RegisterComponent.prototype.onSubmit = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > onSubmit() > "; // for debugging
        this.registerServiceRunning = true;
        // chech that the password and the confirmed password are the same
        if (this.model.password !== this.model['password-confirm']) {
            this.appService.consoleLog('error', methodTrace + " Confirm password must match password.");
            this.registerServiceRunning = false;
            return false;
        }
        // call the register service
        var newSubscription = this.usersService.register$(this.model).subscribe(function (user) {
            if (user) {
                _this.router.navigate(['/']); // go home
                _this.appService.showResults(user.name + " welcome to AtomiCoconut!", 'success');
            }
            _this.registerServiceRunning = false;
        }, function (error) {
            _this.appService.consoleLog('error', methodTrace + " There was an error in the server while performing this action > " + error);
            if (error.codeno === 400) {
                if (error.data && error.data.name === 'UserExistsError') {
                    // the mail system failed for external reasons
                    _this.appService.showResults("The selected email address already in use by another person, pick a different one please.", 'error');
                }
                else {
                    _this.appService.showResults("There was an error in the server while performing this action, please try again in a few minutes.", 'error');
                }
            }
            else {
                _this.appService.showResults("There was an error with this service and the information provided.", 'error');
            }
            _this.registerServiceRunning = false;
        });
        this.subscription.add(newSubscription);
    };
    RegisterComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'users-register',
            template: __webpack_require__(/*! ./register.component.html */ "./src/app/modules/users/components/register/register.component.html"),
            styles: [__webpack_require__(/*! ./register.component.scss */ "./src/app/modules/users/components/register/register.component.scss")]
        }),
        __metadata("design:paramtypes", [_users_service__WEBPACK_IMPORTED_MODULE_2__["UsersService"], _app_service__WEBPACK_IMPORTED_MODULE_3__["AppService"], _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _shared_components_main_navigator_main_navigator_service__WEBPACK_IMPORTED_MODULE_4__["MainNavigatorService"]])
    ], RegisterComponent);
    return RegisterComponent;
}());



/***/ }),

/***/ "./src/app/modules/users/components/reset-password/reset-password.component.html":
/*!***************************************************************************************!*\
  !*** ./src/app/modules/users/components/reset-password/reset-password.component.html ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container__reset\" fxLayout=\"column\" fxLayoutAlign=\"none none\" fxLayout.gt-xs=\"row\" fxLayoutAlign.gt-xs=\"center none\" fxLayoutGap=\"10px\">\r\n  <form class=\"form__container form__reset\" #resetForm=\"ngForm\" (ngSubmit)=\"onSubmit()\" novalidate fxLayout=\"column\" fxLayoutGap=\"10px\" >\r\n    <section fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"form__fields\">      \r\n      <div fxLayout=\"column\" fxLayoutGap=\"20px\" class=\"form__fields__row__container\">\r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n          <!-- Password -->\r\n          <mat-form-field fxFlex fxFlex.gt-xs=\"450px\" class=\"form__field field__password\">\r\n            <input matInput [type]=\"showPassword ? 'text' : 'password'\" id=\"password\" name=\"password\" placeholder=\"Password\" \r\n                [(ngModel)]=\"model.password\" \r\n                required minlength=\"3\" maxlength=\"8\" equalvalidator=\"passwordConfirm\" reverse=\"true\"\r\n                #password=\"ngModel\">\r\n\r\n            <mat-icon matPrefix>vpn_key</mat-icon>\r\n            <mat-icon class=\"icon__suffix\" matSuffix matTooltip=\"Show password\" *ngIf=\"!showPassword\" (click)=\"showPassword = true\">visibility</mat-icon>\r\n            <mat-icon class=\"icon__suffix\" matSuffix matTooltip=\"Hide password\" *ngIf=\"showPassword\" (click)=\"showPassword = false\">visibility_off</mat-icon>\r\n            <mat-error *ngIf=\"password.invalid && (password.dirty || password.touched) && password.errors.required\">Password is required</mat-error>\r\n            <mat-error *ngIf=\"password.invalid && (password.dirty || password.touched) && password.errors.minlength\">Password must be longer than 3 characters</mat-error>\r\n            <mat-error *ngIf=\"password.invalid && (password.dirty || password.touched) && password.errors.maxlength\">Password must be shorter than 8 characters</mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n\r\n        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign.gt-xs=\"start center\" class=\"form__fields__row\">\r\n          <!-- Password confirm -->\r\n          <mat-form-field class=\"form__field field__password-confirm\">\r\n            <input matInput [type]=\"showPassword ? 'text' : 'password'\" id=\"passwordConfirm\" name=\"passwordConfirm\" placeholder=\"Confirm password\" \r\n                [(ngModel)]=\"model['password-confirm']\" \r\n                required minlength=\"3\" maxlength=\"8\" equalvalidator=\"password\"\r\n                #passwordConfirm=\"ngModel\">\r\n            \r\n            <mat-icon matPrefix>vpn_key</mat-icon>\r\n            <mat-icon class=\"icon__suffix\" matSuffix matTooltip=\"Show password\" *ngIf=\"!showPassword\" (click)=\"showPassword = true\">visibility</mat-icon>\r\n            <mat-icon class=\"icon__suffix\" matSuffix matTooltip=\"Hide password\" *ngIf=\"showPassword\" (click)=\"showPassword = false\">visibility_off</mat-icon>\r\n            <mat-error *ngIf=\"passwordConfirm.invalid && (passwordConfirm.dirty || passwordConfirm.touched) && passwordConfirm.errors.required\">Confirm password is required</mat-error>\r\n            <mat-error *ngIf=\"passwordConfirm.invalid && (passwordConfirm.dirty || passwordConfirm.touched) && passwordConfirm.errors.minlength\">Confirm password must be longer than 3 characters</mat-error>\r\n            <mat-error *ngIf=\"passwordConfirm.invalid && (passwordConfirm.dirty || passwordConfirm.touched) && passwordConfirm.errors.maxlength\">Confirm password must be shorter than 8 characters</mat-error>\r\n            <mat-error *ngIf=\"passwordConfirm.invalid && (passwordConfirm.dirty || passwordConfirm.touched) && passwordConfirm.errors.equalvalidator\">Confirm password must match password</mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n      </div>\r\n    </section>\r\n\r\n    <section class=\"form__actions form__actions--reset\"\r\n        fxLayout=\"row\" fxFlexAlign=\"end\" fxFlexAlign.gt-xs=\"center\"\r\n        fxLayoutGap=\"10px\">\r\n        \r\n      <button mat-fab *ngIf=\"!resetPasswordServiceRunning\" \r\n          class=\"fab mat-elevation-z10 form__action\" \r\n          color=\"accent\" \r\n          type=\"submit\"\r\n          matTooltip=\"Save changes\" matTooltipPosition=\"left\" \r\n          [disabled]=\"!resetForm.form.valid\">\r\n        <mat-icon aria-label=\"Save changes\">save</mat-icon>\r\n      </button>\r\n      \r\n      <mat-progress-spinner *ngIf=\"resetPasswordServiceRunning\"\r\n          class=\"progress-spinner progress-spinner--reset\"\r\n          color=\"accent\"\r\n          [diameter]=\"55\" [strokeWidth]=\"10\"\r\n          mode=\"indeterminate\">\r\n      </mat-progress-spinner>\r\n    </section>\r\n  </form>\r\n</div>"

/***/ }),

/***/ "./src/app/modules/users/components/reset-password/reset-password.component.scss":
/*!***************************************************************************************!*\
  !*** ./src/app/modules/users/components/reset-password/reset-password.component.scss ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "form .field__password .icon__suffix, form .field__password-confirm .icon__suffix {\n  cursor: pointer; }\n\nform .form__actions .fab, form .form__actions .progress-spinner {\n  position: relative; }\n\nform .form__actions .fab {\n  -webkit-transform: translate(-50%, 0);\n          transform: translate(-50%, 0);\n  right: auto;\n  left: 50%; }\n\nform .form__actions .progress-spinner {\n  left: -28%; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy91c2Vycy9jb21wb25lbnRzL3Jlc2V0LXBhc3N3b3JkL0M6XFx3M1xcYXRvbWlDb2NvbnV0XFxjbGllbnQvc3JjXFxhcHBcXG1vZHVsZXNcXHVzZXJzXFxjb21wb25lbnRzXFxyZXNldC1wYXNzd29yZFxccmVzZXQtcGFzc3dvcmQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFHSSxnQkFBZSxFQUNoQjs7QUFKSDtFQVNNLG1CQUFrQixFQUNuQjs7QUFWTDtFQWFNLHNDQUE2QjtVQUE3Qiw4QkFBNkI7RUFDN0IsWUFBVztFQUNYLFVBQVMsRUFDVjs7QUFoQkw7RUFtQk0sV0FBVSxFQUNYIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy91c2Vycy9jb21wb25lbnRzL3Jlc2V0LXBhc3N3b3JkL3Jlc2V0LXBhc3N3b3JkLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCAnLi4vLi4vLi4vLi4vLi4vdmFyaWFibGVzJztcclxuXHJcbmZvcm0ge1xyXG4gIFxyXG4gIC5maWVsZF9fcGFzc3dvcmQgLmljb25fX3N1ZmZpeCwgLmZpZWxkX19wYXNzd29yZC1jb25maXJtIC5pY29uX19zdWZmaXgge1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIH1cclxuXHJcbiAgLmZvcm1fX2FjdGlvbnMge1xyXG4gICAgICBcclxuICAgIC5mYWIsIC5wcm9ncmVzcy1zcGlubmVyIHtcclxuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgfVxyXG5cclxuICAgIC5mYWIge1xyXG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAwKTtcclxuICAgICAgcmlnaHQ6IGF1dG87XHJcbiAgICAgIGxlZnQ6IDUwJTtcclxuICAgIH1cclxuXHJcbiAgICAucHJvZ3Jlc3Mtc3Bpbm5lciB7XHJcbiAgICAgIGxlZnQ6IC0yOCU7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAkc2NyZWVuR3RYcykge1xyXG4gIFxyXG59Il19 */"

/***/ }),

/***/ "./src/app/modules/users/components/reset-password/reset-password.component.ts":
/*!*************************************************************************************!*\
  !*** ./src/app/modules/users/components/reset-password/reset-password.component.ts ***!
  \*************************************************************************************/
/*! exports provided: ResetPasswordComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResetPasswordComponent", function() { return ResetPasswordComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _users_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../users.service */ "./src/app/modules/users/users.service.ts");
/* harmony import */ var _shared_components_main_navigator_main_navigator_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/components/main-navigator/main-navigator.service */ "./src/app/modules/shared/components/main-navigator/main-navigator.service.ts");
/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../app.service */ "./src/app/app.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var ResetPasswordComponent = /** @class */ (function () {
    function ResetPasswordComponent(appService, usersService, router, route, mainNavigatorService) {
        this.appService = appService;
        this.usersService = usersService;
        this.router = router;
        this.route = route;
        this.mainNavigatorService = mainNavigatorService;
        this.model = { password: '', 'password-confirm': '' };
        this.token = '';
        this.resetPasswordServiceRunning = false;
        this.showPassword = false;
        this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_6__["Subscription"]();
    }
    ResetPasswordComponent.prototype.ngOnInit = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > ngOnInit() > "; // for debugging
        this.mainNavigatorService.setLinks([
            { displayName: 'Welcome', url: '/welcome', selected: false },
            { displayName: 'Login', url: '/users/login', selected: false },
            { displayName: 'Reset password', url: null, selected: true }
        ]);
        this.route.paramMap.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])(function (params) { return params.get('token'); }))
            .subscribe(function (token) {
            if (token) {
                _this.token = token;
            }
            else {
                _this.appService.consoleLog('error', methodTrace + " Token must be set to reset a password.");
                _this.router.navigate(['/']);
            }
        });
    };
    ResetPasswordComponent.prototype.ngOnDestroy = function () {
        var methodTrace = this.constructor.name + " > ngOnDestroy() > "; // for debugging
        // this.appService.consoleLog('info', `${methodTrace} Component destroyed.`);
        this.subscription.unsubscribe();
    };
    ResetPasswordComponent.prototype.onSubmit = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > onSubmit() > "; // for debugging
        this.resetPasswordServiceRunning = true;
        // chech that the password and the confirmed password are the same
        if (this.model.password !== this.model['password-confirm']) {
            this.appService.consoleLog('error', methodTrace + " Confirm password must match password.");
            this.resetPasswordServiceRunning = false;
            return false;
        }
        // call the reset password service.
        var newsubscription = this.usersService.reset$(this.token, this.model).subscribe(function (user) {
            if (user) {
                _this.appService.showResults('Your password was successfully updated!', 'success');
                _this.router.navigate(['/']); // go home
            }
            else {
                _this.appService.consoleLog('error', methodTrace + " Unexpected data format.");
            }
            _this.resetPasswordServiceRunning = false;
        }, function (error) {
            _this.appService.consoleLog('error', methodTrace + " There was an error in the server while performing this action > " + error);
            if (error.codeno === 400) {
                _this.appService.showResults("There was an error in the server while performing this action, please try again in a few minutes.", 'error');
            }
            else {
                _this.appService.showResults("There was an error with this service and the information provided.", 'error');
            }
            _this.resetPasswordServiceRunning = false;
        });
        this.subscription.add(newsubscription);
    };
    ResetPasswordComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'users-reset-password',
            template: __webpack_require__(/*! ./reset-password.component.html */ "./src/app/modules/users/components/reset-password/reset-password.component.html"),
            styles: [__webpack_require__(/*! ./reset-password.component.scss */ "./src/app/modules/users/components/reset-password/reset-password.component.scss")]
        }),
        __metadata("design:paramtypes", [_app_service__WEBPACK_IMPORTED_MODULE_5__["AppService"], _users_service__WEBPACK_IMPORTED_MODULE_3__["UsersService"], _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"], _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _shared_components_main_navigator_main_navigator_service__WEBPACK_IMPORTED_MODULE_4__["MainNavigatorService"]])
    ], ResetPasswordComponent);
    return ResetPasswordComponent;
}());



/***/ }),

/***/ "./src/app/modules/users/models/account-finance.ts":
/*!*********************************************************!*\
  !*** ./src/app/modules/users/models/account-finance.ts ***!
  \*********************************************************/
/*! exports provided: AccountFinance */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountFinance", function() { return AccountFinance; });
var AccountFinance = /** @class */ (function () {
    function AccountFinance(annualIncome, annualIncomeUnit, savings, savingsUnit, incomeTaxRate) {
        if (annualIncome === void 0) { annualIncome = null; }
        if (annualIncomeUnit === void 0) { annualIncomeUnit = 'USD'; }
        if (savings === void 0) { savings = null; }
        if (savingsUnit === void 0) { savingsUnit = 'USD'; }
        if (incomeTaxRate === void 0) { incomeTaxRate = null; }
        this.annualIncome = annualIncome;
        this.annualIncomeUnit = annualIncomeUnit;
        this.savings = savings;
        this.savingsUnit = savingsUnit;
        this.incomeTaxRate = incomeTaxRate;
    }
    return AccountFinance;
}());



/***/ }),

/***/ "./src/app/modules/users/models/account-personal.ts":
/*!**********************************************************!*\
  !*** ./src/app/modules/users/models/account-personal.ts ***!
  \**********************************************************/
/*! exports provided: AccountPersonal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountPersonal", function() { return AccountPersonal; });
var AccountPersonal = /** @class */ (function () {
    function AccountPersonal(birthday) {
        if (birthday === void 0) { birthday = null; }
        this.birthday = null;
        this.birthday = birthday;
    }
    Object.defineProperty(AccountPersonal.prototype, "age", {
        get: function () {
            if (this.birthday) {
                var ageDifMs = Date.now() - new Date(this.birthday).getTime();
                var ageDate = new Date(ageDifMs); // miliseconds from epoch
                return Math.abs(ageDate.getUTCFullYear() - 1970);
            }
            return 0;
        },
        enumerable: true,
        configurable: true
    });
    return AccountPersonal;
}());



/***/ }),

/***/ "./src/app/modules/users/models/user.ts":
/*!**********************************************!*\
  !*** ./src/app/modules/users/models/user.ts ***!
  \**********************************************/
/*! exports provided: User */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "User", function() { return User; });
var User = /** @class */ (function () {
    function User(name, email, avatar, financialInfo, personalInfo, currency) {
        if (name === void 0) { name = ''; }
        if (email === void 0) { email = ''; }
        if (avatar === void 0) { avatar = ''; }
        if (financialInfo === void 0) { financialInfo = null; }
        if (personalInfo === void 0) { personalInfo = null; }
        if (currency === void 0) { currency = 'USD'; }
        this.name = name;
        this.email = email;
        this.avatar = avatar;
        this.currency = currency;
        if (financialInfo) {
            this.financialInfo = financialInfo;
        }
        else {
            this.financialInfo = null;
        }
        if (personalInfo) {
            this.personalInfo = personalInfo;
        }
        else {
            this.personalInfo = null;
        }
    }
    return User;
}());



/***/ }),

/***/ "./src/app/modules/users/users-routing.module.ts":
/*!*******************************************************!*\
  !*** ./src/app/modules/users/users-routing.module.ts ***!
  \*******************************************************/
/*! exports provided: UsersRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UsersRoutingModule", function() { return UsersRoutingModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _components_register_register_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/register/register.component */ "./src/app/modules/users/components/register/register.component.ts");
/* harmony import */ var _components_login_login_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/login/login.component */ "./src/app/modules/users/components/login/login.component.ts");
/* harmony import */ var _components_reset_password_reset_password_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/reset-password/reset-password.component */ "./src/app/modules/users/components/reset-password/reset-password.component.ts");
/* harmony import */ var _components_account_account_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/account/account.component */ "./src/app/modules/users/components/account/account.component.ts");
/* harmony import */ var _auth_resolver_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../auth-resolver.service */ "./src/app/auth-resolver.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var routes = [
    {
        path: 'users',
        children: [
            { path: 'register', component: _components_register_register_component__WEBPACK_IMPORTED_MODULE_2__["RegisterComponent"] },
            { path: 'login/:state', component: _components_login_login_component__WEBPACK_IMPORTED_MODULE_3__["LoginComponent"] },
            { path: 'login', component: _components_login_login_component__WEBPACK_IMPORTED_MODULE_3__["LoginComponent"] },
            {
                path: 'account',
                component: _components_account_account_component__WEBPACK_IMPORTED_MODULE_5__["AccountComponent"],
                resolve: {
                    authUser: _auth_resolver_service__WEBPACK_IMPORTED_MODULE_6__["AuthResolver"]
                }
            },
            {
                path: 'account/reset/expired',
                redirectTo: 'login/reset-password-token-expired',
                pathMatch: 'full'
            },
            { path: 'account/reset/:token', component: _components_reset_password_reset_password_component__WEBPACK_IMPORTED_MODULE_4__["ResetPasswordComponent"] }
        ]
    }
];
var UsersRoutingModule = /** @class */ (function () {
    function UsersRoutingModule() {
    }
    UsersRoutingModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forChild(routes)],
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]]
        })
    ], UsersRoutingModule);
    return UsersRoutingModule;
}());



/***/ }),

/***/ "./src/app/modules/users/users.module.ts":
/*!***********************************************!*\
  !*** ./src/app/modules/users/users.module.ts ***!
  \***********************************************/
/*! exports provided: UsersModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UsersModule", function() { return UsersModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _users_routing_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./users-routing.module */ "./src/app/modules/users/users-routing.module.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/flex-layout */ "./node_modules/@angular/flex-layout/esm5/flex-layout.es5.js");
/* harmony import */ var _modules_shared_custom_material_design_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../modules/shared/custom-material-design.module */ "./src/app/modules/shared/custom-material-design.module.ts");
/* harmony import */ var _modules_shared_shared_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../modules/shared/shared.module */ "./src/app/modules/shared/shared.module.ts");
/* harmony import */ var _components_register_register_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/register/register.component */ "./src/app/modules/users/components/register/register.component.ts");
/* harmony import */ var _users_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./users.service */ "./src/app/modules/users/users.service.ts");
/* harmony import */ var _components_login_login_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/login/login.component */ "./src/app/modules/users/components/login/login.component.ts");
/* harmony import */ var _components_reset_password_reset_password_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/reset-password/reset-password.component */ "./src/app/modules/users/components/reset-password/reset-password.component.ts");
/* harmony import */ var _components_account_account_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/account/account.component */ "./src/app/modules/users/components/account/account.component.ts");
/* harmony import */ var _components_account_finance_info_account_finance_info_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./components/account-finance-info/account-finance-info.component */ "./src/app/modules/users/components/account-finance-info/account-finance-info.component.ts");
/* harmony import */ var _components_account_personal_info_account_personal_info_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/account-personal-info/account-personal-info.component */ "./src/app/modules/users/components/account-personal-info/account-personal-info.component.ts");
/* harmony import */ var _components_account_user_info_account_user_info_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./components/account-user-info/account-user-info.component */ "./src/app/modules/users/components/account-user-info/account-user-info.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};















var UsersModule = /** @class */ (function () {
    function UsersModule() {
    }
    UsersModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _users_routing_module__WEBPACK_IMPORTED_MODULE_2__["UsersRoutingModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                _angular_flex_layout__WEBPACK_IMPORTED_MODULE_4__["FlexLayoutModule"],
                _modules_shared_custom_material_design_module__WEBPACK_IMPORTED_MODULE_5__["CustomMaterialDesignModule"],
                _modules_shared_shared_module__WEBPACK_IMPORTED_MODULE_6__["SharedModule"]
            ],
            declarations: [
                _components_register_register_component__WEBPACK_IMPORTED_MODULE_7__["RegisterComponent"],
                _components_login_login_component__WEBPACK_IMPORTED_MODULE_9__["LoginComponent"],
                _components_reset_password_reset_password_component__WEBPACK_IMPORTED_MODULE_10__["ResetPasswordComponent"],
                _components_account_account_component__WEBPACK_IMPORTED_MODULE_11__["AccountComponent"],
                _components_account_finance_info_account_finance_info_component__WEBPACK_IMPORTED_MODULE_12__["AccountFinanceInfoComponent"],
                _components_account_personal_info_account_personal_info_component__WEBPACK_IMPORTED_MODULE_13__["AccountPersonalInfoComponent"],
                _components_account_user_info_account_user_info_component__WEBPACK_IMPORTED_MODULE_14__["AccountUserInfoComponent"]
            ],
            providers: [_users_service__WEBPACK_IMPORTED_MODULE_8__["UsersService"]]
        })
    ], UsersModule);
    return UsersModule;
}());



/***/ }),

/***/ "./src/app/modules/users/users.service.ts":
/*!************************************************!*\
  !*** ./src/app/modules/users/users.service.ts ***!
  \************************************************/
/*! exports provided: UsersService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UsersService", function() { return UsersService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../app.service */ "./src/app/app.service.ts");
/* harmony import */ var _models_user__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./models/user */ "./src/app/modules/users/models/user.ts");
/* harmony import */ var _models_account_personal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./models/account-personal */ "./src/app/modules/users/models/account-personal.ts");
/* harmony import */ var _models_account_finance__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./models/account-finance */ "./src/app/modules/users/models/account-finance.ts");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_9__);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var UsersService = /** @class */ (function () {
    function UsersService(http, appService) {
        this.http = http;
        this.appService = appService;
        this.serverHost = _environments_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].apiHost + '/api/users';
        this.headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]().set('Content-Type', 'application/json');
        this.routerRedirectUrl = null; // a route to redirect the user to when login is successfull
        this.user$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](null);
    }
    /**
     * user source feeder
     */
    UsersService.prototype.setUser = function (user) {
        if (user === void 0) { user = null; }
        this.user$.next(user);
    };
    /**
     * get the current user from the source
     */
    UsersService.prototype.getUser = function () {
        return this.user$.getValue();
    };
    /**
     * Server call to Register a new user in the system
     * @param postData
     *
     * @return { Observable<User> }
     */
    UsersService.prototype.register$ = function (postData) {
        var _this = this;
        if (postData === void 0) { postData = {}; }
        var methodTrace = this.constructor.name + " > register$() > "; // for debugging
        this.setUser(null);
        return this.http.post(this.serverHost + "/register", postData, { headers: this.headers }).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(this.appService.extractData), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["flatMap"])(function (data) {
            var user = null;
            if (data && data.email) {
                user = new _models_user__WEBPACK_IMPORTED_MODULE_6__["User"](data.name, data.email, data.avatar, null, null, data.currency);
                _this.setUser(user);
            }
            else {
                _this.appService.consoleLog('error', methodTrace + " Unexpected data format.", data);
            }
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(user);
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.appService.handleError));
    };
    /**
     * Server call to update account user details
     * @param postData
     *
     * @return { Observable<User> }
     */
    UsersService.prototype.updateAccount$ = function (postData) {
        var _this = this;
        if (postData === void 0) { postData = {}; }
        var methodTrace = this.constructor.name + " > updateAccount() > "; // for debugging
        return this.http.post(this.serverHost + "/account", postData, { headers: this.headers }).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(this.appService.extractData), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["flatMap"])(function (data) {
            var user = _this.getUser();
            if (data && data.email) {
                user.name = data.name;
                user.email = data.email;
                user.currency = data.currency;
                _this.setUser(user);
            }
            else {
                _this.appService.consoleLog('error', methodTrace + " Unexpected data format.");
            }
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(user);
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.appService.handleError));
    };
    /**
     * Server call to update account personal details
     * @param postData
     *
     * @return {Observable<User>}
     */
    UsersService.prototype.updatePersonalInfo$ = function (postData) {
        var _this = this;
        if (postData === void 0) { postData = {}; }
        var methodTrace = this.constructor.name + " > updatePersonalInfo$() > "; // for debugging
        return this.http.post(this.serverHost + "/accountPersonalInfo", postData, { headers: this.headers }).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(this.appService.extractData), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["flatMap"])(function (data) {
            var user = _this.getUser();
            if (data.personalInfo.birthday) {
                user.personalInfo = new _models_account_personal__WEBPACK_IMPORTED_MODULE_7__["AccountPersonal"](data.personalInfo.birthday);
                _this.setUser(user);
            }
            else {
                _this.appService.consoleLog('error', methodTrace + " Unexpected data format.");
            }
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(user);
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.appService.handleError));
    };
    /**
     * Server call to update account financial details
     * @param postData
     *
     * @return {Observable<User>}
     */
    UsersService.prototype.updateFinancialInfo$ = function (postData) {
        var _this = this;
        if (postData === void 0) { postData = {}; }
        var methodTrace = this.constructor.name + " > updateFinancialInfo$() > "; // for debugging
        return this.http.post(this.serverHost + "/accountFinancialInfo", postData, { headers: this.headers }).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(this.appService.extractData), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["flatMap"])(function (data) {
            var user = _this.getUser();
            if (data.financialInfo.savingsUnit) {
                user.financialInfo = new _models_account_finance__WEBPACK_IMPORTED_MODULE_8__["AccountFinance"](data.financialInfo.annualIncome, data.financialInfo.annualIncomeUnit, data.financialInfo.savings, data.financialInfo.savingsUnit, data.financialInfo.incomeTaxRate);
                _this.setUser(user);
            }
            else {
                _this.appService.consoleLog('error', methodTrace + " Unexpected data format.");
            }
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(user);
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.appService.handleError));
    };
    /**
     * Server call to retrieve the currently authenticated user, or null if nobody .
     * @param { any } parameters . The parameters for the service call. Accepted are personalInfo (boolean), financialInfo (boolean)
     *
     * @return { Observable<User> }
     */
    UsersService.prototype.getAuthenticatedUser$ = function (parameters) {
        var _this = this;
        if (parameters === void 0) { parameters = null; }
        var methodTrace = this.constructor.name + " > getAuthenticatedUser() > "; // for debugging
        var params = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpParams"]();
        if (parameters && Object.keys(parameters).length) {
            for (var _i = 0, _a = Object.keys(parameters); _i < _a.length; _i++) {
                var key = _a[_i];
                params = params.set(key, parameters[key] + '');
            }
        }
        return this.http.get(this.serverHost + "/getUser", { params: params }).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(this.appService.extractData), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["flatMap"])(function (data) {
            var user = null;
            if (data && data.email) {
                var personalInfo = null;
                if (data.personalInfo && data.personalInfo.birthday) {
                    personalInfo = new _models_account_personal__WEBPACK_IMPORTED_MODULE_7__["AccountPersonal"](data.personalInfo.birthday);
                }
                var financialInfo = null;
                if (data.financialInfo && data.financialInfo.savingsUnit) {
                    financialInfo = new _models_account_finance__WEBPACK_IMPORTED_MODULE_8__["AccountFinance"](data.financialInfo.annualIncome, data.financialInfo.annualIncomeUnit, data.financialInfo.savings, data.financialInfo.savingsUnit, data.financialInfo.incomeTaxRate);
                }
                user = new _models_user__WEBPACK_IMPORTED_MODULE_6__["User"](data.name, data.email, data.avatar, financialInfo, personalInfo, data.currency);
            }
            else {
                _this.appService.consoleLog('info', methodTrace + " User not logged in.", data);
            }
            if (!lodash__WEBPACK_IMPORTED_MODULE_9___default.a.isEqual(user, _this.getUser())) {
                _this.appService.consoleLog('info', methodTrace + " User info updated.");
                _this.setUser(user);
            }
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(user);
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.appService.handleError));
    };
    /**
     * Checks for the authenticated user state every certain amount of time. This will make the user$ variable to update its value and
     * each component observing it is going the refresh their state base on the new value
     *
     * @param { number } time. The amount of time in ms between each session state check
     */
    UsersService.prototype.updateSessionState = function (time) {
        var _this = this;
        var methodTrace = this.constructor.name + " > updateSessionState() > "; // for debugging
        Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["interval"])(time).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["flatMap"])(function (checkNumber) {
            var user = _this.getUser();
            var params = {
                financialInfo: user && user.financialInfo ? true : false,
                personalInfo: user && user.personalInfo ? true : false
            };
            console.log(checkNumber, params);
            return _this.getAuthenticatedUser$(params);
        })).subscribe(function (user) {
            // do nothing
        });
    };
    /**
     * Server call to login the provided user email and pass.
     *
     * @return { Observable<User>}
     */
    UsersService.prototype.login$ = function (postData) {
        var _this = this;
        if (postData === void 0) { postData = {}; }
        var methodTrace = this.constructor.name + " > login$() > "; // for debugging
        this.setUser(null);
        return this.http.post(this.serverHost + "/login", postData, { headers: this.headers }).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(this.appService.extractData), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["flatMap"])(function (data) {
            var user = null;
            if (data && data.email) {
                user = new _models_user__WEBPACK_IMPORTED_MODULE_6__["User"](data.name, data.email, data.avatar, null, null, data.currency);
                _this.setUser(user);
            }
            else {
                _this.appService.consoleLog('error', methodTrace + " Unexpected data format.");
                _this.setUser(null);
            }
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(user);
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.appService.handleError));
    };
    /**
     * Server call to forgot with the provided user email.
     *
     * @return { Observable<any>}
     */
    UsersService.prototype.forgot$ = function (postData) {
        if (postData === void 0) { postData = {}; }
        var methodTrace = this.constructor.name + " > forgot$() > "; // for debugging
        return this.http.post(this.serverHost + "/account/forgot", postData, { headers: this.headers }).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(this.appService.extractData), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.appService.handleError));
    };
    /**
     * Server call to reset password api with the provided new password.
     *
     * @return { Observable<User> }
     */
    UsersService.prototype.reset$ = function (token, postData) {
        var _this = this;
        if (postData === void 0) { postData = {}; }
        var methodTrace = this.constructor.name + " > reset$() > "; // for debugging
        this.setUser(null);
        return this.http.post(this.serverHost + "/account/reset/" + token, postData, { headers: this.headers })
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(this.appService.extractData), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["flatMap"])(function (data) {
            var user = null;
            if (data && data.email) {
                user = new _models_user__WEBPACK_IMPORTED_MODULE_6__["User"](data.name, data.email, data.avatar, null, null, data.currency);
                _this.setUser(user);
            }
            else {
                _this.setUser(null);
                _this.appService.consoleLog('error', methodTrace + " Unexpected data format.");
            }
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(user);
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.appService.handleError));
    };
    /**
     * Server call to login the provided user email and pass.
     *
     * @return { Observable<null>}
     */
    UsersService.prototype.logout$ = function () {
        var _this = this;
        var methodTrace = this.constructor.name + " > logout$() > "; // for debugging
        return this.http.get(this.serverHost + "/logout").pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(this.appService.extractData), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["flatMap"])(function (data) {
            _this.setUser(null);
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(null);
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.appService.handleError));
    };
    UsersService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"], _app_service__WEBPACK_IMPORTED_MODULE_5__["AppService"]])
    ], UsersService);
    return UsersService;
}());



/***/ }),

/***/ "./src/app/util.service.ts":
/*!*********************************!*\
  !*** ./src/app/util.service.ts ***!
  \*********************************/
/*! exports provided: UtilService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UtilService", function() { return UtilService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_2__);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var UtilService = /** @class */ (function () {
    function UtilService() {
        this.settings = {
            flexLayoutBkpts: {
                xs: { min: 0, max: 599 },
                sm: { min: 600, max: 959 },
                md: { min: 960, max: 1279 },
                lg: { min: 1280, max: 1919 },
                xl: { min: 1920, max: 5000 }
            }
        };
    }
    UtilService.prototype.isXs = function () {
        return window.innerWidth <= this.settings.flexLayoutBkpts.xs.max;
    };
    UtilService.prototype.isSm = function () {
        return window.innerWidth >= this.settings.flexLayoutBkpts.sm.min && window.innerWidth <= this.settings.flexLayoutBkpts.sm.max;
    };
    UtilService.prototype.isMd = function () {
        return window.innerWidth >= this.settings.flexLayoutBkpts.md.min && window.innerWidth <= this.settings.flexLayoutBkpts.md.max;
    };
    UtilService.prototype.isLg = function () {
        return window.innerWidth >= this.settings.flexLayoutBkpts.lg.min && window.innerWidth <= this.settings.flexLayoutBkpts.lg.max;
    };
    UtilService.prototype.isXl = function () {
        return window.innerWidth >= this.settings.flexLayoutBkpts.xl.min && window.innerWidth <= this.settings.flexLayoutBkpts.xl.max;
    };
    UtilService.prototype.isGtXs = function () {
        return window.innerWidth >= this.settings.flexLayoutBkpts.sm.min;
    };
    UtilService.prototype.isGtSm = function () {
        return window.innerWidth >= this.settings.flexLayoutBkpts.md.min;
    };
    /**
     * Capitalize first letter of a string
     *
     * @param word {string} . The string to modify
     * */
    UtilService.prototype.capitalizeFirstLetter = function (word) {
        return word.charAt(0).toUpperCase() + word.slice(1);
    };
    /**
     * Formast a date object into a string using the provided format
     *
     * @param {Date} date . The date to format
     * @param {string} formatStr . The desired format string
     *
     * @return {string} . The date provided in the desired format.
     */
    UtilService.prototype.formatDate = function (date, formatStr) {
        if (formatStr === void 0) { formatStr = 'YYYY-MM-DD'; }
        return moment__WEBPACK_IMPORTED_MODULE_2__(date).format(formatStr);
    };
    /**
     * Format today date in the provided format
     *
     * @param {string} formatStr . The desired format string
     *
     * @return {string} . Today date in the desired format
     */
    UtilService.prototype.formatToday = function (formatStr) {
        if (formatStr === void 0) { formatStr = 'YYYY-MM-DD'; }
        return this.formatDate(new Date(), formatStr);
    };
    /**
     * Show logs in the console if enabled in the current environment
     * @param type . Error type
     * @param message . The message to show
     * @param params . Any extra parameters to list in the log.
     */
    UtilService.prototype.consoleLog = function (type, message) {
        var params = [];
        for (var _i = 2; _i < arguments.length; _i++) {
            params[_i - 2] = arguments[_i];
        }
        if (_environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].showLogs) {
            console[type](message, params);
        }
    };
    UtilService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], UtilService);
    return UtilService;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// The file contents for the current environment will overwrite these during build.
// The build system defaults to the dev environment which uses `environment.ts`, but if you do
// `ng build --env=prod` then `environment.prod.ts` will be used instead.
// The list of which env maps to which file can be found in `.angular-cli.json`.
var environment = {
    production: false,
    apiHost: '',
    showLogs: true,
    mapsApiKey: 'AIzaSyBVl8QaQnQGBw6IyvlQ5K3XepPj6Z9nHt0'
};


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
    console.log('ENV: Production');
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"]);


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! C:\w3\atomiCoconut\client\src\main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map