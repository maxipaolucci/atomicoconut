<div class="container__net-worth">
  <!-- Net Worth Card -->
  <mat-card *ngIf="user.financialInfo.annualIncome !== null && user.personalInfo.birthday"
      fxFlex class="totals-card">
    <mat-card-content fxLayout="row" fxLayout.xs="column" fxLayoutGap="10px"
        fxLayoutAlign="space-around center">
      <p class="accent">
        Your expected Net Worth at your age ({{user.personalInfo.age}}) is <strong>{{ user.personalInfo.age * (user.financialInfo.annualIncome || 0) / 10 }}</strong>
      </p>
      <p *ngIf="user.financialInfo.netWorth !== null"
          [class.color__accent]="user.financialInfo.netWorth >= user.financialInfo.annualIncome" 
          [class.color__red]="user.financialInfo.netWorth < user.financialInfo.annualIncome">
        Your current net worth is <strong>{{ user.financialInfo.netWorth || 0 }}</strong>
      </p>
      <p *ngIf="user.financialInfo.netWorth === null">
        <a class="color__almost-white" routerLink="/users/account">
          <mat-icon class="icon--arrow_forward">arrow_forward</mat-icon>
          Go to your account and complete Financial Info to see your current state
          
        </a>
      </p>
    </mat-card-content>
  </mat-card>
    <!-- EOF Net Worth Card -->

  <!-- Net Worth Card when Personal and Financial info is incomplete -->
  <mat-card *ngIf="user.financialInfo.annualIncome === null || !user.personalInfo.birthday"
      fxFlex class="totals-card">
    <mat-card-content fxLayout="row" fxLayout.xs="column" fxLayoutGap="10px"
        fxLayoutAlign="space-around center">
      <p>
        <a class="color__almost-white" routerLink="/users/account">
          <mat-icon class="icon--arrow_forward">arrow_forward</mat-icon>
          Go to your account and complete your Personal and Financial Info to see expected and current Net Worth
        </a>
      </p>
    </mat-card-content>
  </mat-card>
  <!-- EOF Net Worth Card when Personal and Financial info is incomplete -->
</div>

<div *ngIf="showInvestments" fxLayout="column" fxLayoutGap="10px">

  <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="10px">
    <crypto-currency fxFlex 
      [cryptoCurrency]="'xmr'"
      [cryptoCurrencyCount]="218.85627651"
      [cryptoCurrencyBuyPrice]="50"
      [cryptoCurrencyBuyDate]="xmrBuyDate"
      (totalReturns)="setTotals($event)">
    </crypto-currency>

    <crypto-currency fxFlex
      [cryptoCurrency]="'btc'"
      [cryptoCurrencyCount]="1.28129356"
      [cryptoCurrencyBuyPrice]="2359.99"
      [cryptoCurrencyBuyDate]="btcBuyDate"
      (totalReturns)="setTotals($event)">
    </crypto-currency>
  </div>

  <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="10px">
    <crypto-currency fxFlex 
      [cryptoCurrency]="'xmr'"
      [cryptoCurrencyCount]="5.94093753"
      [cryptoCurrencyBuyPrice]="87.5282"
      [cryptoCurrencyBuyDate]="xmrBuyDate2"
      (totalReturns)="setTotals($event)">
    </crypto-currency>

    <crypto-currency fxFlex 
      [cryptoCurrency]="'xmr'"
      [cryptoCurrencyCount]="5.72806551"
      [cryptoCurrencyBuyPrice]="90.9556"
      [cryptoCurrencyBuyDate]="xmrBuyDate3"
      (totalReturns)="setTotals($event)">
    </crypto-currency>
  </div>

  <mat-card fxFlex class="totals-card">
    <mat-card-content fxLayout="row" fxLayout.xs="column" fxLayoutGap="10px"
        fxLayoutAlign="space-around center">
      <p>Total Investments: <strong>{{totalInvestment | currency }}</strong></p>
      <p [class.color__accent]="totalReturn >= totalInvestment" 
          [class.color__red]="totalReturn < totalInvestment">
        Total ROI: <strong>{{ totalReturn | currency }}</strong> ({{totalReturn / totalInvestment * 100 | number : '1.1-2'}}%)
      </p>
    </mat-card-content>
  </mat-card>
  
</div>

<div *ngIf="!showInvestments" fxLayout="column" fxLayoutGap="10px">
  <mat-card fxFlex class="totals-card">
    <mat-card-content fxLayout="row" fxLayout.xs="column" fxLayoutGap="10px"
        fxLayoutAlign="space-around center">
      <p>
        You do not have any investment to show.
      </p>
    </mat-card-content>
  </mat-card>
  
</div>